(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"46iP":function(t,e,n){"use strict";n.r(e),e.default='<div *ngIf="data" class="main" style="padding-top: 64px">\n  \x3c!--Anime Detail Background--\x3e\n  <ng-container *ngIf="!img">\n    <mat-progress-spinner\n      mode="indeterminate"\n      color="accent"\n    ></mat-progress-spinner>\n  </ng-container>\n  <div *ngIf="img" class="container" alt="">\n    <div class="overlay"><img src="{{ img.pictures[0].large }}" alt="" /></div>\n    <div class="row1">\n      <h1 class="anime-name" #title>\n        {{ data.title }}\n      </h1>\n    </div>\n    <div class="row2">\n      <h1 class="anime-rank">Rank: {{ data.rank || "X" }}</h1>\n      <h1 class="anime-rating">\n        {{ data.score || "X" }}<mat-icon>star</mat-icon>\n      </h1>\n      <button\n        *ngIf="authService.isLoggedIn"\n        (click)="\n          bmService.GetBookmarkData(data.mal_id, data.title, data.image_url)\n        "\n      >\n        + Add\n      </button>\n    </div>\n  </div>\n\n  \x3c!-- Anime Detail Content --\x3e\n  <div>\n    <mat-tab-group mat-align-tabs="center">\n      \x3c!-- Info  --\x3e\n      <mat-tab label="Info">\n        <div class="info">\n          <div class="info_row">\n            <h1 class="mat-h1">Info</h1>\n            <h1 class="mat-h2">Japanese: {{ data.title_japanese }}</h1>\n            <h1 class="mat-h2">Episodes: {{ data.episodes || "Unknown" }}</h1>\n            <h1 class="mat-h2">Duration: {{ data.duration || "Unknown" }}</h1>\n            <h1 class="mat-h2">Rating: {{ data.rating || "Unknown" }}</h1>\n            <h1 class="mat-h2">Source: {{ data.source || "Unknown" }}</h1>\n            <div class="producers">\n              <h1 class="mat-h2">Producers:&nbsp;</h1>\n              <ng-container *ngFor="let producers of data.producers">\n                <h1 class="mat-h2">\n                  {{ producers.name || "Unknown" }}&nbsp;&nbsp;&nbsp;\n                </h1>\n              </ng-container>\n            </div>\n            <div class="genres">\n              <h1 class="mat-h2">Genres:&nbsp;</h1>\n              <ng-container *ngFor="let gen of data.genres">\n                <h1 class="mat-h2">{{ gen.name }}&nbsp;&nbsp;&nbsp;</h1>\n              </ng-container>\n            </div>\n            <h1 class="mat-h2">Status: {{ data.status }}</h1>\n            <h1 class="mat-h2">Type: {{ data.type }}</h1>\n            <h1 class="mat-h2">Aired: {{ data.aired.string }}</h1>\n          </div>\n          <div class="synopsis">\n            <h1 class="mat-h1">Synopsis</h1>\n            <h1 class="mat-h2">\n              {{ data.synopsis }}\n            </h1>\n          </div>\n        </div>\n      </mat-tab>\n\n      \x3c!-- Trailer --\x3e\n      <mat-tab label="Trailer">\n        <ng-container *ngIf="!data.trailer_url">\n          <h1 class="trailer-msg">Sorry we\'ve got nothing</h1>\n        </ng-container>\n        <div *ngIf="data.trailer_url" class="vid">\n          <div style="--aspect-ratio: 16/9;">\n            <iframe\n              [src]="data.trailer_url | safeResourceUrl"\n              width="1600"\n              height="900"\n              frameborder="0"\n            >\n            </iframe>\n          </div>\n        </div>\n      </mat-tab>\n\n      \x3c!-- Staff Characters --\x3e\n      <mat-tab label="Staff & Characters">\n        <div class="class-container" *ngIf="info">\n          <div class="characters" *ngFor="let chars of info.characters">\n            <img class="char_img" src="{{ chars.image_url }}" alt="" />\n            <h1 class="mat-h2 char_name">\n              {{ chars.name }}\n            </h1>\n            <ng-container *ngFor="let vas of chars.voice_actors | slice: 0:1">\n              <h1 class="mat-h2 va_name">{{ vas.name }}</h1>\n              <img class="va_img" src="{{ vas.image_url }}" alt="" />\n            </ng-container>\n          </div>\n        </div>\n      </mat-tab>\n    </mat-tab-group>\n  </div>\n</div>\n<app-footer></app-footer>\n'},"5xbu":function(t,e,n){"use strict";n.r(e),e.default="* {\n  font-family: \"BebasNeueRegular\", sans-serif;\n  letter-spacing: 0.05em;\n  color: #ffff;\n}\n\n.container {\n  height: 35vh;\n  width: 100%;\n  display: flex;\n  z-index: -1;\n  flex-wrap: wrap;\n  align-content: center;\n  justify-content: center;\n}\n\n.container .top-anime-title {\n  z-index: 1;\n  font-size: 70px;\n}\n\n.overlay {\n  height: 35vh;\n  width: 100%;\n  position: absolute;\n  background-color: black;\n  opacity: 0.2;\n  background: url('fma.925720e5c4b52837a210.jpg') no-repeat center;\n  background-size: cover;\n  z-index: 0;\n}\n\n.list-nav {\n  padding: 5vh;\n  display: flex;\n  justify-content: center;\n}\n\n.list-nav button {\n  background-color: #c3073f;\n  display: flex;\n  width: auto;\n  margin: 2vw;\n}\n\n.card-container {\n  display: flex;\n  justify-content: center;\n  margin: 2vh;\n}\n\nmat-card {\n  cursor: pointer;\n  height: 150px;\n  width: 80vw;\n  display: flex;\n  background-color: #1f1f1f;\n  justify-content: space-around;\n  align-items: center;\n  padding: 0;\n}\n\nmat-card .info {\n  flex-basis: 40%;\n}\n\nmat-card .info h3 {\n  font-size: 1.5em;\n}\n\nmat-card .info mat-icon {\n  margin-left: 0.5em;\n}\n\nmat-card .img-con {\n  height: 100%;\n  width: 190px;\n}\n\nmat-card .img-con img {\n  height: 100%;\n  width: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\nmat-card button {\n  font-size: 2em;\n  border-style: none;\n  background: none;\n  cursor: pointer;\n}\n\nmat-card button:hover {\n  color: #c3073f;\n}\n\n@media (max-width: 768px) {\n  .top-anime-title {\n    font-size: 48px !important;\n  }\n\n  .card-container {\n    margin-top: 1.5em;\n    margin-bottom: 1.5em;\n    margin-left: 0;\n    margin-right: 0;\n  }\n  .card-container mat-card {\n    justify-content: space-between;\n    width: 100vw;\n  }\n  .card-container mat-card .img-con {\n    width: 120px;\n    order: 4;\n    right: 0;\n    position: relative;\n  }\n  .card-container mat-card .rank {\n    order: 1;\n    margin-left: 20px !important;\n  }\n  .card-container mat-card .info {\n    flex-basis: 35%;\n    order: 2;\n  }\n  .card-container mat-card .info h3 {\n    font-size: 18px;\n  }\n  .card-container mat-card .score {\n    order: 3;\n    font-size: 1.5em;\n  }\n  .card-container mat-card .score mat-icon {\n    font-size: 0.8em;\n  }\n}"},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,s=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("q/0M"),a=n("mrSG"),l=n("zVF4"),c=n("x7I3"),u=s.SDK_VERSION,h=new o.Logger("@firebase/firestore");function d(){return h.logLevel===o.LogLevel.DEBUG?i.DEBUG:h.logLevel===o.LogLevel.SILENT?i.SILENT:i.ERROR}function p(t){switch(t){case i.DEBUG:h.logLevel=o.LogLevel.DEBUG;break;case i.ERROR:h.logLevel=o.LogLevel.ERROR;break;case i.SILENT:h.logLevel=o.LogLevel.SILENT;break;default:h.error("Firestore ("+u+"): Invalid value passed to `setLogLevel`")}}function m(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(h.logLevel<=o.LogLevel.DEBUG){var i=n.map(g);h.debug.apply(h,["Firestore ("+u+") ["+t+"]: "+e].concat(i))}}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=o.LogLevel.ERROR){var r=e.map(g);h.error.apply(h,["Firestore ("+u+"): "+t].concat(r))}}function g(t){if("string"==typeof t)return t;var e=_.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function y(t){var e="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+t;throw f(e),new Error(e)}function v(t,e){t||y(e)}!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(i||(i={}));var _=function(){function t(){}return t.setPlatform=function(e){t.platform&&y("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||y("Platform not set"),t.platform},t}();function b(){return _.getPlatform().emptyByteString}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(e,t),e}(Error);function C(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new E(w.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){return void 0!==t?t:e}function T(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function I(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k(t){for(var e in v(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function A(t,e){if(0!==e.length)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+K(e.length,"argument")+".")}function D(t,e,n){if(e.length!==n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function N(t,e,n){if(e.length<n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires at least "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function O(t,e,n,r){if(e.length<n||e.length>r)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+K(e.length,"argument")+".")}function P(t,e,n,r){j(t,e,W(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&P(t,e,n,r)}function M(t,e,n,r){j(t,e,n+" option",r)}function L(t,e,n,r){void 0!==r&&M(t,e,n,r)}function F(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+q(r));for(var s=0;s<r.length;++s)if(!i(r[s]))throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+s+" was: "+q(r[s]))}(t,e,n,r,i)}function V(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var s=[],o=0,a=i;o<a.length;o++){var l=a[o];if(l===r)return;s.push(q(l))}var c=q(r);throw new E(w.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+s.join(", "))}(t,0,n,r,i)}function B(t,e,n,r){if(!e.some(function(t){return t===r}))throw new E(w.INVALID_ARGUMENT,"Invalid value "+q(r)+" provided to function "+t+"() for its "+W(n)+" argument. Acceptable values: "+e.join(", "))}function j(t,e,n,r){if(!("object"===e?U(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=q(r);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function U(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function q(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y("Unknown wrong type: "+typeof t)}function z(t,e,n){if(void 0===n)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+W(e)+" argument, but it was undefined.")}function $(t,e,n){I(e,function(e,r){if(n.indexOf(e)<0)throw new E(w.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function H(t,e,n,r){var i=q(r);return new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+W(n)+" argument to be a "+e+", but it was: "+i)}function W(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function K(t,e){return t+" "+e+(1===t?"":"s")}var G=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return v(20===e.length,"Invalid auto ID: "+e),e},t}();function Q(t,e){return t<e?-1:t>e?1:0}function Y(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function X(t){return t+"\0"}function Z(){if("undefined"==typeof Uint8Array)throw new E(w.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function J(){if(!_.getPlatform().base64Available)throw new E(w.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var tt,et=function(){function t(t){J(),this._binaryString=t}return t.fromBase64String=function(e){D("Blob.fromBase64String",arguments,1),P("Blob.fromBase64String","string",1,e),J();try{var n=_.getPlatform().atob(e);return new t(n)}catch(r){throw new E(w.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},t.fromUint8Array=function(e){if(D("Blob.fromUint8Array",arguments,1),Z(),!(e instanceof Uint8Array))throw H("Blob.fromUint8Array","Uint8Array",1,e);var n=Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join("");return new t(n)},t.prototype.toBase64=function(){return D("Blob.toBase64",arguments,0),J(),_.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){D("Blob.toUint8Array",arguments,0),Z();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return Q(this._binaryString,t._binaryString)},t}(),nt=C(et,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),rt=function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},it="(default)",st=function(){function t(t,e){this.projectId=t,this.database=e||it}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===it},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return Q(this.projectId,t.projectId)||Q(this.database,t.database)},t}(),ot=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),at=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&y("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&y("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,v(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return v(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return v(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return v(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new E(w.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(at),ct=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return ct.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new E(w.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new E(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new E(w.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(at),ht=function(){function t(e){this.path=e,v(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===lt.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return lt.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new lt(e.slice()))},t.fromPathString=function(e){return new t(lt.fromString(e))},t.EMPTY=new t(new lt([])),t}(),dt=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection",t.RetryTransaction="retry_transaction"}(tt||(tt={}));var pt=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(w.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),mt=function(){function t(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenAfterShutdown=function(t){this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueEvenAfterShutdown=function(t){return this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueAndInitiateShutdown=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.enqueue=function(t){return this.verifyNotFailed(),this._isShuttingDown?new Promise(function(t){}):this.enqueueInternal(t)},t.prototype.enqueueInternal=function(t){var e=this,n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw f("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),v(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.timerIdsToSkip.indexOf(t)>-1&&(e=0);var i=pt.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){v(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueueEvenAfterShutdown(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++){if(n[e].timerId===t)return!0}return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){v(t===tt.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==tt.All&&i.timerId===t)break}return e.drain()})},t.prototype.skipDelaysForTimerId=function(t){this.timerIdsToSkip.push(t)},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);v(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),ft="\x01",gt="\x01",yt="\x10",vt="\x11";function _t(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=wt(e)),e=bt(t.get(n),e);return wt(e)}function bt(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+=ft+yt;break;case ft:n+=ft+vt;break;default:n+=s}}return n}function wt(t){return t+ft+gt}function Et(t){var e=t.length;if(v(e>=2,"Invalid path "+t),2===e)return v(t.charAt(0)===ft&&t.charAt(1)===gt,"Non-empty path "+t+" had length 2"),lt.EMPTY_PATH;for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf(ft,s);switch((o<0||o>n)&&y('Invalid encoded resource path: "'+t+'"'),t.charAt(o+1)){case gt:var a=t.substring(s,o),l=void 0;0===i.length?l=a:(l=i+=a,i=""),r.push(l);break;case yt:i+=t.substring(s,o),i+="\0";break;case vt:i+=t.substring(s,o+1);break;default:y('Invalid encoded resource path: "'+t+'"')}s=o+2}return new lt(r)}var Ct=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new E(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new E(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new E(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new E(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Q(this.nanoseconds,t.nanoseconds):Q(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),xt=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new Ct(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new Ct(0,0)),t}(),St=function(){function t(t,e){this.comparator=t,this.root=e||It.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Tt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Tt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Tt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Tt(this.root,t,this.comparator,!0)},t}(),Tt=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){v(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),It=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw y("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),kt=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw y("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw y("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw y("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw y("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw y("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new It(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();It.EMPTY=new kt;var At=function(){function t(t){this.comparator=t,this.data=new St(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();){if(!t(n.getNext().key))return}},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Dt(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Dt(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Dt=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Nt=new St(ht.comparator);function Ot(){return Nt}function Pt(){return Ot()}var Rt=new St(ht.comparator);function Mt(){return Rt}var Lt=new St(ht.comparator);function Ft(){return Lt}var Vt=new At(ht.comparator);function Bt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Vt,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var jt=new At(Q);function Ut(){return jt}var qt=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,v(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&v(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;v(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var s=this.mutations[i];if(s.key.isEqual(t)){var o=r[i];e=s.applyToRemoteDocument(e,o)}}return e},t.prototype.applyToLocalView=function(t,e){e&&v(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++){(a=r[n]).key.isEqual(t)&&(e=a.applyToLocalView(e,e,this.localWriteTime))}for(var i=e,s=0,o=this.mutations;s<o.length;s++){var a;(a=o[s]).key.isEqual(t)&&(e=a.applyToLocalView(e,i,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Bt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Y(this.mutations,t.mutations)&&Y(this.baseMutations,t.baseMutations)},t}(),zt=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){v(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var s=Ft(),o=e.mutations,a=0;a<o.length;a++)s=s.insert(o[a].key,r[a].version);return new t(e,n,r,i,s)},t}(),$t=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++){r(s[i])}return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Ht=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return v(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qt(t).iterate({index:cn.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=Gt(n),Xt(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=Gt(e),Xt(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Yt(t),o=Qt(t);return o.add({}).next(function(a){v("number"==typeof a,"Auto-generated key is not a number");var l=new qt(a,e,n,r),c=i.serializer.toDbMutationBatch(i.userId,l);i.documentKeysByBatchId[a]=l.keys();for(var u=[],h=0,d=r;h<d.length;h++){var p=d[h],m=un.key(i.userId,p.key.path,a);u.push(o.put(c)),u.push(s.put(m,un.PLACEHOLDER)),u.push(i.indexManager.addToCollectionParentIndex(t,p.key.path.popLast()))}return $t.waitFor(u).next(function(){return l})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Qt(t).get(e).next(function(t){return t?(v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?$t.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Qt(t).iterate({index:cn.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(v(e.batchId>=r,"Should have found mutation after "+r),s=n.serializer.fromDbMutationBatch(e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Qt(t).iterate({index:cn.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qt(t).loadAll(cn.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=un.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Yt(t).iterate({range:i},function(r,i,o){var a=r[0],l=r[1],c=r[2],u=Et(l);if(a===n.userId&&e.path.isEqual(u))return Qt(t).get(c).next(function(t){if(!t)throw y("Dangling document-mutation reference found: "+r+" which points to "+c);v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+c),s.push(n.serializer.fromDbMutationBatch(t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new At(Q),i=[];return e.forEach(function(e){var s=un.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Yt(t).iterate({range:o},function(t,i,s){var o=t[0],a=t[1],l=t[2],c=Et(a);o===n.userId&&e.path.isEqual(c)?r=r.add(l):s.done()});i.push(a)}),$t.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;v(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,s=un.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new At(Q);return Yt(t).iterate({range:o},function(t,e,s){var o=t[0],l=t[1],c=t[2],u=Et(l);o===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(c)):s.done()}).next(function(){return n.lookupMutationBatches(t,a)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Qt(t).get(e).next(function(t){if(null===t)throw y("Dangling document-mutation reference found, which points to "+e);v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),$t.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Kt(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),$t.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return $t.resolve();var r=IDBKeyRange.lowerBound(un.prefixForUser(e.userId)),i=[];return Yt(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var s=Et(t[1]);i.push(s)}else r.done()}).next(function(){v(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return Wt(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Xt(t).get(this.userId).next(function(t){return t||new ln(e.userId,-1,"")})},t}();function Wt(t,e,n){var r=un.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Yt(t).iterate({range:s,keysOnly:!0},function(t,n,r){var s=t[0],a=t[1];t[2];s===e&&a===i&&(o=!0),r.done()}).next(function(){return o})}function Kt(t,e,n){var r=t.store(cn.store),i=t.store(un.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,l=r.iterate({range:o},function(t,e,n){return a++,n.delete()});s.push(l.next(function(){v(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],u=0,h=n.mutations;u<h.length;u++){var d=h[u],p=un.key(e,d.key.path,n.batchId);s.push(i.delete(p)),c.push(d.key)}return $t.waitFor(s).next(function(){return c})}function Gt(t){return t instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function Qt(t){return Vn.getStore(t,cn.store)}function Yt(t){return Vn.getStore(t,un.store)}function Xt(t){return Vn.getStore(t,ln.store)}var Zt,Jt=1;!function(t){t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine"}(Zt||(Zt={}));var te=function(){function t(t,e){this.generatorId=t,v((t&Jt)===t,"Generator ID "+t+" contains more than "+Jt+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Jt,t},t.prototype.after=function(t){return this.seek(t+(1<<Jt)),this.next()},t.prototype.seek=function(t){v((t&Jt)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Zt.QueryCache,2)},t.forSyncEngine=function(){return new t(Zt.SyncEngine)},t}(),ee="SimpleDb",ne=function(){function t(e){this.db=e,12.2===t.getIOSVersion(l.getUA())&&f("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.openOrCreate=function(e,n,r){return v(t.isAvailable(),"IndexedDB not supported in current environment."),m(ee,"Opening database:",e),new $t(function(i,s){var o=window.indexedDB.open(e,n);o.onsuccess=function(e){var n=e.target.result;i(new t(n))},o.onblocked=function(){s(new E(w.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var e=t.target.error;"VersionError"===e.name?s(new E(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s(e)},o.onupgradeneeded=function(t){m(ee,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new ie(o.transaction);r.createOrUpgrade(n,i,t.oldVersion,rn).next(function(){m(ee,"Database upgrade to version "+rn+" complete")})}}).toPromise()},t.delete=function(t){return m(ee,"Removing database:",t),oe(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var e=l.getUA(),n=t.getIOSVersion(e),r=0<n&&n<10,i=t.getAndroidVersion(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){var r=ie.open(this.db,t,e),i=n(r).catch(function(t){return r.abort(t),$t.reject(t)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),re=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return oe(this.dbCursor.delete())},t}(),ie=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new dt,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=le(t.target.error);e.completionDeferred.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(m(ee,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return v(!!e,"Object store not part of transaction: "+t),new se(e)},t}(),se=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(m(ee,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(m(ee,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),oe(n)},t.prototype.add=function(t){return m(ee,"ADD",this.store.name,t,t),oe(this.store.add(t))},t.prototype.get=function(t){var e=this;return oe(this.store.get(t)).next(function(n){return void 0===n&&(n=null),m(ee,"GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return m(ee,"DELETE",this.store.name,t),oe(this.store.delete(t))},t.prototype.count=function(){return m(ee,"COUNT",this.store.name),oe(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){m(ee,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new $t(function(n,r){e.onerror=function(t){var e=le(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new $t(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new re(i),o=e(i.primaryKey,i.value,s);if(o instanceof $t){var a=o.catch(function(t){return s.done(),$t.reject(t)});n.push(a)}s.isDone?r():null===s.skipToKey?i.continue():i.continue(s.skipToKey)}else r()}}).next(function(){return $t.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(v(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function oe(t){return new $t(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=le(t.target.error);n(e)}})}var ae=!1;function le(t){var e=ne.getIOSVersion(l.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new E("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ae||(ae=!0,setTimeout(function(){throw r},0)),r}}return t}var ce=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=te.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return xt.fromTimestamp(new Ct(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return de(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ue(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return v(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return ue(t).iterate(function(o,a){var l=r.serializer.fromDbTarget(a);l.sequenceNumber<=e&&void 0===n[l.targetId]&&(i++,s.push(r.removeQueryData(t,l)))}).next(function(){return $t.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return ue(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return he(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Vn.getStore(n,yn.store)).put(yn.key,e);var n},t.prototype.saveQueryData=function(t,e){return ue(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return ue(t).iterate({range:i,index:fn.queryTargetsIndexName},function(t,r,i){var o=n.serializer.fromDbTarget(r);e.isEqual(o.query)&&(s=o,i.done())}).next(function(){return s})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=pe(t);return e.forEach(function(e){var o=_t(e.path);i.push(s.put(new gn(n,o))),i.push(r.referenceDelegate.addReference(t,e))}),$t.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=pe(t);return $t.forEach(e,function(e){var s=_t(e.path);return $t.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=pe(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=pe(t),i=Bt();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=Et(t[1]),s=new ht(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=_t(e.path),r=IDBKeyRange.bound([n],[X(n)],!1,!0),i=0;return pe(t).iterate({index:gn.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){var r=t[0];t[1];0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return ue(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function ue(t){return Vn.getStore(t,fn.store)}function he(t){return ne.getStore(t,yn.store).get(yn.key).next(function(t){return v(null!==t,"Missing metadata row."),t})}function de(t){return he(t).next(function(t){return t.highestListenSequenceNumber})}function pe(t){return Vn.getStore(t,gn.store)}var me,fe=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new At(ut.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),ge=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ye=function(t,e){this.version=t,this.transformResults=e};!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(me||(me={}));var ve,_e,be=function(){function t(t,e){this.updateTime=t,this.exists=e,v(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ze&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof ze:(v(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return e=this.updateTime,n=t.updateTime,(null!=e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),we=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&v(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ze?t.version:xt.MIN},t}(),Ee=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=me.Set,i}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by SetMutation.");var n=e.version;return new ze(this.key,n,{hasCommittedMutations:!0},this.value)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=we.getPostMutationVersion(t);return new ze(this.key,r,{hasLocalMutations:!0},this.value)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(we),Ce=function(t){function e(e,n,r,i){var s=t.call(this)||this;return s.key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.type=me.Patch,s}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new He(this.key,e.version);var n=this.patchDocument(t);return new ze(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=we.getPostMutationVersion(t),i=this.patchDocument(t);return new ze(this.key,r,{hasLocalMutations:!0},i)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof ze?t.data():je.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=null!==r?t.set(n,r):t.delete(n)}}),t},e}(we),xe=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=me.Transform,r.precondition=be.exists(!0),r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new He(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,s=this.transformObject(n.data(),r);return new ze(this.key,i,{hasCommittedMutations:!0},s)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,t,e),s=this.transformObject(r.data(),i);return new ze(this.key,r.version,{hasLocalMutations:!0},s)},e.prototype.extractBaseValue=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],s=t instanceof ze?t.field(i.field):void 0,o=i.transform.computeBaseValue(s||null);null!=o&&(e=null==e?je.EMPTY.set(i.field,o):e.set(i.field,o))}return e},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Y(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){v(t instanceof ze,"Unknown MaybeDocument type "+t);var e=t;return v(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];v(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],s=i.transform,o=null;t instanceof ze&&(o=t.field(i.field)),n.push(s.applyToRemoteDocument(o,e[r]))}return n},e.prototype.localTransformResults=function(t,e,n){for(var r=[],i=0,s=this.fieldTransforms;i<s.length;i++){var o=s[i],a=o.transform,l=null;e instanceof ze&&(l=e.field(o.field)),null===l&&n instanceof ze&&(l=n.field(o.field)),r.push(a.applyToLocalView(l,t))}return r},e.prototype.transformObject=function(t,e){v(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;t=t.set(r,e[n])}return t},e}(we),Se=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=me.Delete,r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by DeleteMutation."),new $e(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&v(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new $e(this.key,xt.forDeletedDoc())):t},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(we);!function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(ve||(ve={})),function(t){t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous"}(_e||(_e={}));var Te=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(_e.Estimate,n);case"previous":return new t(_e.Previous,n);case"none":case void 0:return new t(_e.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},t}(),Ie=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return v(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),Q(this.typeOrder,t.typeOrder)},t}(),ke=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=ve.NullValue,e.internalValue=null,e}return a.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(Ie),Ae=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ve.BooleanValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Q(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(Ie),De=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ve.NumberValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue,r=t.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(t);var n,r},e}(Ie);function Ne(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ne(this.internalValue,t.internalValue)},e}(De),Pe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ne(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(De),Re=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ve.StringValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Q(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Ie),Me=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ve.TimestampValue,n}return a.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Le?-1:this.defaultCompareTo(t)},e}(Ie),Le=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=ve.TimestampValue,r}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===_e.Estimate?new Me(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===_e.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof Me?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(Ie),Fe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ve.BlobValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Ie),Ve=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=ve.RefValue,r}return a.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&(this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId))},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ht.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(Ie),Be=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ve.GeoPointValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Ie),je=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ve.ObjectValue,n}return a.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),s=r.getNext();if(i.key!==s.key||!i.value.isEqual(s.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),s=r.getNext(),o=Q(i.key,s.key)||i.value.compareTo(s.value);if(o)return o}return Q(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(v(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(v(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){v(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t):null}),n},e.prototype.fieldMask=function(){var t=new At(ut.comparator);return this.internalValue.forEach(function(n,r){var i=new ut([n]);if(r instanceof e){var s=r.fieldMask().fields;s.isEmpty()?t=t.add(i):s.forEach(function(e){t=t.add(i.child(e))})}else t=t.add(i)}),fe.fromSet(t)},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new St(Q)),e}(Ie),Ue=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=ve.ArrayValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.contains=function(t){for(var e=0,n=this.internalValue;e<n.length;e++){if(n[e].isEqual(t))return!0}return!1},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return Q(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(Ie),qe=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return ht.comparator(t.key,e.key)},t}(),ze=function(t){function e(e,n,r,i,s,o){var a=t.call(this,e,n)||this;return a.objectValue=i,a.proto=s,a.converter=o,v(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!r.hasLocalMutations,a.hasCommittedMutations=!!r.hasCommittedMutations,a}return a.__extends(e,t),e.prototype.field=function(t){if(this.objectValue)return this.objectValue.field(t);this.fieldValueCache||(this.fieldValueCache=new Map);var e=t.canonicalString(),n=this.fieldValueCache.get(e);if(void 0===n){var r=this.getProtoField(t);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.objectValue){var e=je.EMPTY;I(this.proto.fields,function(n,r){e=e.set(new ut([n]),t.converter(r))}),this.objectValue=e,this.fieldValueCache=void 0}return this.objectValue},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.getProtoField=function(t){v(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields[t.firstSegment()],n=1;n<t.length;++n){if(!e||!e.mapValue)return;e=e.mapValue.fields[t.get(n)]}return e},e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.compareTo(i):y("Trying to compare documents on fields that don't exist")},e}(qe),$e=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return a.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(qe),He=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(qe),We=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[0],a=s[1];if(o.isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){I(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[0],a=s[1];t(o,a)}})},t.prototype.isEmpty=function(){return k(this.inner)},t}(),Ke=function(){function t(){this.changes=new We(function(t){return t.toString()}),this.changesApplied=!1}return t.prototype.addEntry=function(t){this.assertNotApplied(),this.changes.set(t.key,t)},t.prototype.removeEntry=function(t){this.assertNotApplied(),this.changes.set(t,null)},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?$t.resolve(n):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){v(!this.changesApplied,"Changes have already been applied.")},t}(),Ge="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Qe=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=ne.getStore(t,bn.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntry=function(t,e,n){var r=this;return Xe(t).put(Je(e),n).next(function(){r.indexManager.addToCollectionParentIndex(t,e.path.popLast())})},t.prototype.removeEntry=function(t,e){var n=Xe(t),r=Je(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.setMetadata(t,i).next(function(){if(r.keepDocumentChangeLog)return Ze(t).put({changes:r.serializer.toDbResourcePaths(e)})})})},t.prototype.getEntry=function(t,e){var n=this;return Xe(t).get(Je(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return Xe(t).get(Je(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:tn(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Pt();return this.forEachDbEntry(t,e,function(t,e){r=e?r.insert(t,n.serializer.fromDbRemoteDocument(e)):r.insert(t,null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=Pt(),i=new St(ht.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i=i.insert(t,tn(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return $t.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Xe(t).iterate({range:r},function(t,e,r){for(var o=ht.fromSegments(t);s&&ht.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.skip(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Mt(),i=e.path.length+1,s=e.path.toArray(),o=IDBKeyRange.lowerBound(s);return Xe(t).iterate({range:o},function(t,s,o){if(t.length===i){var a=n.serializer.fromDbRemoteDocument(s);e.path.isPrefixOf(a.key.path)?a instanceof ze&&e.matches(a)&&(r=r.insert(a.key,a)):o.done()}}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;v(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Bt(),r=Ot(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),s=!0,o=Ze(t);return o.iterate({range:i},function(t,r){if(s&&(s=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(o).next(function(){return $t.reject(new E(w.DATA_LOSS,Ge))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){var e=t||new $e(n,xt.forDeletedDoc());r=r.insert(n,e)}))}),$t.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return Ze(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new t.RemoteDocumentChangeBuffer(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Ye(t).get(mn.key).next(function(t){return v(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return Ye(t).put(mn.key,e)},t.RemoteDocumentChangeBuffer=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n.documentSizes=new We(function(t){return t.toString()}),n}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=Bt();return this.changes.forEach(function(s,o){var a=e.documentSizes.get(s);if(v(void 0!==a,"Cannot modify a document that wasn't read (for "+s+")"),o){var l=e.documentCache.serializer.toDbRemoteDocument(o),c=tn(l);r+=c-a,n.push(e.documentCache.addEntry(t,s,l))}else r-=a,n.push(e.documentCache.removeEntry(t,s));i=i.add(s)}),n.push(this.documentCache.updateMetadata(t,i,r)),$t.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntry(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntries(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},e}(Ke),t}();function Ye(t){return Vn.getStore(t,mn.store)}function Xe(t){return Vn.getStore(t,pn.store)}function Ze(t){return Vn.getStore(t,bn.store)}function Je(t){return t.path.toArray()}function tn(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var en=function(){function t(){this.collectionParentIndex=new nn}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),$t.resolve()},t.prototype.getCollectionParents=function(t,e){return $t.resolve(this.collectionParentIndex.getEntries(e))},t}(),nn=function(){function t(){this.index={}}return t.prototype.add=function(t){v(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new At(lt.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.getEntries=function(t){return(this.index[t]||new At(lt.comparator)).toArray()},t}(),rn=8,sn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;v(n<r&&n>=0&&r<=rn,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(an.store)}(t),function(t){t.createObjectStore(ln.store,{keyPath:ln.keyPath}),t.createObjectStore(cn.store,{keyPath:cn.keyPath,autoIncrement:!0}).createIndex(cn.userMutationsIndex,cn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(un.store)}(t),_n(t),function(t){t.createObjectStore(pn.store)}(t));var s=$t.resolve();return n<3&&r>=3&&(0!==n&&(!function(t){t.deleteObjectStore(gn.store),t.deleteObjectStore(fn.store),t.deleteObjectStore(yn.store)}(t),_n(t)),s=s.next(function(){return function(t){var e=t.store(yn.store),n=new yn(0,0,xt.MIN.toTimestamp(),0);return e.put(yn.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(cn.store).loadAll().next(function(n){t.deleteObjectStore(cn.store),t.createObjectStore(cn.store,{keyPath:cn.keyPath,autoIncrement:!0}).createIndex(cn.userMutationsIndex,cn.userMutationsKeyPath,{unique:!0});var r=e.store(cn.store),i=n.map(function(t){return r.put(t)});return $t.waitFor(i)})}(t,e)})),s=s.next(function(){!function(t){t.createObjectStore(wn.store,{keyPath:wn.keyPath})}(t),function(t){t.createObjectStore(bn.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(mn.store)}(t),i.addDocumentGlobal(e)})),n<7&&r>=7&&(s=s.next(function(){return i.ensureSequenceNumbers(e)})),n<8&&r>=8&&(s=s.next(function(){return i.createCollectionParentIndex(t,e)})),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(pn.store).iterate(function(t,n){e+=tn(n)}).next(function(){var n=new mn(e);return t.store(mn.store).put(mn.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(ln.store),r=t.store(cn.store);return n.loadAll().next(function(n){return $t.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(cn.userMutationsIndex,i).next(function(r){return $t.forEach(r,function(r){v(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return Kt(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(gn.store),n=t.store(pn.store);return de(t).next(function(t){var r=[];return n.iterate(function(n,i){var s=new lt(n),o=function(t){return[0,_t(t)]}(s);r.push(e.get(o).next(function(n){return n?$t.resolve():function(n){return e.put(new gn(0,_t(n),t))}(s)}))}).next(function(){return $t.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(vn.store,{keyPath:vn.keyPath});var n=e.store(vn.store),r=new nn,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:_t(i)})}};return e.store(pn.store).iterate({keysOnly:!0},function(t,e){var n=new lt(t);return i(n.popLast())}).next(function(){return e.store(un.store).iterate({keysOnly:!0},function(t,e){t[0];var n=t[1],r=(t[2],Et(n));return i(r.popLast())})})},t}();var on=function(t,e){this.seconds=t,this.nanoseconds=e},an=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}();var ln=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),cn=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}();var un=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,_t(e)]},t.key=function(t,e,n){return[t,_t(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}();var hn=function(t,e){this.path=t,this.readTime=e},dn=function(t,e){this.path=t,this.version=e},pn=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),mn=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}();var fn=function(){function t(t,e,n,r,i,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=s}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),gn=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,v(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),yn=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),vn=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function _n(t){t.createObjectStore(gn.store,{keyPath:gn.keyPath}).createIndex(gn.documentTargetsIndex,gn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(fn.store,{keyPath:fn.keyPath}).createIndex(fn.queryTargetsIndexName,fn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(yn.store)}var bn=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}();var wn=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}();var En,Cn=[ln.store,cn.store,un.store,pn.store,fn.store,an.store,yn.store,gn.store].concat([wn.store,bn.store]).concat([mn.store]).concat([vn.store]),xn=function(){function t(){this.collectionParentsCache=new nn}return t.prototype.addToCollectionParentIndex=function(t,e){if(v(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){v(e.length>=1,"Invalid collection path.");var n=e.lastSegment(),r=e.popLast();return Sn(t).put({collectionId:n,parent:_t(r)})}return $t.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[X(e),""],!1,!0);return Sn(t).loadAll(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Et(s.parent))}return n})},t}();function Sn(t){return Vn.getStore(t,vn.store)}!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(En||(En={}));var Tn=function(){function t(t,e,n,r,i,s){void 0===i&&(i=xt.MIN),void 0===s&&(s=b()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.query,this.targetId,this.purpose,e,this.snapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.query,this.targetId,this.purpose,this.sequenceNumber,n,e)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),In=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ht.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new $e(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){e=ht.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version);return new He(e,n)}return y("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof ze){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t),n=t.hasCommittedMutations;return new pn(null,null,e,n)}if(t instanceof $e){var r=t.key.path.toArray(),i=this.toDbTimestamp(t.version);n=t.hasCommittedMutations;return new pn(null,new hn(r,i),null,n)}if(t instanceof He){r=t.key.path.toArray(),i=this.toDbTimestamp(t.version);return new pn(new dn(r,i),null,null,!0)}return y("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new on(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new Ct(t.seconds,t.nanoseconds);return xt.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),i=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new cn(t,e.batchId,e.localWriteTime.toMillis(),r,i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),i=Ct.fromMillis(t.localWriteTimeMs);return new qt(t.batchId,i,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(_t(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Bt(),n=0,r=t;n<r.length;n++){var i=r[n];e=e.add(new ht(Et(i)))}return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Tn(e,t.targetId,En.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){v(En.Listen===t.purpose,"Only queries with purpose "+En.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new fn(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function kn(t,e){var n=t[0],r=t[1],i=e[0],s=e[1],o=Q(n,i);return 0===o?Q(r,s):o}var An=function(){function t(t){this.maxElements=t,this.buffer=new At(kn),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();kn(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Dn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nn=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),On=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.hasRun=!1,this.gcTask=null}return t.prototype.start=function(){v(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Nn.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;v(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;m("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(tt.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(Bn)})},t}(),Pn=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return $t.resolve(ot.INVALID);var r=new An(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===Nn.COLLECTION_DISABLED?(m("LruGarbageCollector","Garbage collection skipped; disabled"),$t.resolve(Dn)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(m("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Dn):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,s,o,a,l,c,u=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>u.params.maximumSequenceNumbersToCollect?(m("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),u.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),u.removeTargets(t,n,e)}).next(function(e){return s=e,l=Date.now(),u.removeOrphanedDocuments(t,n)}).next(function(t){(c=Date.now(),d()<=i.DEBUG)&&m("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+s+" targets in "+(l-a)+"ms\n\tRemoved "+t+" documents in "+(c-l)+"ms\nTotal Duration: "+(c-h)+"ms");return $t.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:t})})},t}(),Rn="IndexedDbPersistence",Mn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ln="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Fn=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return a.__extends(e,t),e}(function(){}),Vn=function(){function t(e,n,r,i,s,o,a,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.queue=o,this.sequenceNumberSyncer=l,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},this.referenceDelegate=new qn(this,s),this.dbName=n+t.MAIN_DATABASE,this.serializer=new In(a),this.document=i.document,this.queryCache=new ce(this.referenceDelegate,this.serializer),this.indexManager=new xn,this.remoteDocumentCache=new Qe(this.serializer,this.indexManager,this.allowTabSynchronization),!i.window||!i.window.localStorage)throw new E(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Fn)return ne.getStore(t.simpleDbTransaction,e);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:if(!t.isAvailable())throw new E(w.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}})})},t.prototype.start=function(){var t=this;return v(!this.started,"IndexedDbPersistence double-started!"),v(null!==this.window,"Expected 'window' to be defined"),ne.openOrCreate(this.dbName,rn,new sn(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[yn.store],function(e){return de(e).next(function(e){t.listenSequence=new ot(e,t.sequenceNumberSyncer)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",Cn,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener(function(n){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",Cn,function(e){return Un(e).put(new wn(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return jn(t).get(an.key).next(function(t){return $t.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Un(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return a.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return a.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var s=t.getStore(i,wn.store);return s.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return $t.forEach(n,function(t){return s.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(tt.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return jn(t).get(an.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new E(w.FAILED_PRECONDITION,Ln);return!1}}return!(!e.networkEnabled||!e.inForeground)||Un(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&m(Rn,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[an.store,wn.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[wn.store],function(e){return Un(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},t.clearPersistence=function(e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return t.isAvailable()?(n=e+t.MAIN_DATABASE,[4,ne.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return v(this.started,"Cannot initialize MutationQueue before persistence is started."),Ht.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return v(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return v(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return v(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;return m(Rn,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",Cn,function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw f("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new E(w.FAILED_PRECONDITION,Mn);return n(new Fn(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new Fn(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return jn(t).get(an.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new E(w.FAILED_PRECONDITION,Ln)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new an(this.clientId,this.allowTabSynchronization,Date.now());return jn(t).put(an.key,e)},t.isAvailable=function(){return ne.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=jn(t);return n.get(an.key).next(function(t){return e.isLocalClient(t)?(m(Rn,"Releasing primary lease."),n.delete(an.key)):$t.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e)&&(!(t>n)||(f("Detected an update time that is in the future: "+t+" > "+n),!1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(v(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(v("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return m(Rn,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return f(Rn,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){f("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Bn(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){if(!function(t){return t.code===w.FAILED_PRECONDITION&&t.message===Mn}(t))throw t;return m(Rn,"Unexpectedly lost primary lease"),[2]})})}function jn(t){return t.store(an.store)}function Un(t){return t.store(wn.store)}var qn=function(){function t(t,e){this.db=t,this.inMemoryPins=null,this.garbageCollector=new Pn(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return zn(t,e)},t.prototype.removeReference=function(t,e){return zn(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return zn(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?$t.resolve(!0):function(t,e){var n=!1;return Xt(t).iterateSerial(function(r){return Wt(t,r,e).next(function(t){return t&&(n=!0),$t.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.forEachOrphanedDocument(t,function(o,a){if(a<=e){var l=n.isPinned(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),pe(t).delete([0,_t(o.path)])})});i.push(l)}}).next(function(){return $t.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return zn(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=pe(t),i=ot.INVALID;return r.iterate({index:gn.documentTargetsIndex},function(t,r){var s=t[0],o=(t[1],r.path),a=r.sequenceNumber;0===s?(i!==ot.INVALID&&e(new ht(Et(n)),i),i=a,n=o):i=ot.INVALID}).next(function(){i!==ot.INVALID&&e(new ht(Et(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function zn(t,e){return pe(t).put(function(t,e){return new gn(0,_t(t.path),e)}(e,t.currentSequenceNumber))}var $n=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++){t=i[r].applyToLocalView(e,t)}return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Pt();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++){e=s[i].applyToLocalView(t,e)}r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),s=Ot();return i.forEach(function(t,e){e||(e=new $e(t,xt.forDeletedDoc())),s=s.insert(t,e)}),s})},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ht(e)).next(function(t){var e=Mt();return t instanceof ze&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;v(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,i=Mt();return this.indexManager.getCollectionParents(t,r).next(function(s){return $t.forEach(s,function(s){var o=e.asCollectionQueryAtPath(s.child(r));return n.getDocumentsMatchingCollectionQuery(t,o).next(function(t){t.forEach(function(t,e){i=i.insert(t,e)})})}).next(function(){return i})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(r){return n=r,i.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return r=e,i.addMissingBaseDocuments(t,r,n).next(function(t){n=t;for(var e=0,i=r;e<i.length;e++)for(var s=i[e],o=0,a=s.mutations;o<a.length;o++){var l=a[o],c=l.key,u=n.get(c),h=l.applyToLocalView(u,u,s.localWriteTime);n=h instanceof ze?n.insert(c,h):n.remove(c)}})}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t.prototype.addMissingBaseDocuments=function(t,e,n){for(var r=Bt(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var l=a[o];l instanceof Ce&&null===n.get(l.key)&&(r=r.add(l.key))}var c=n;return this.remoteDocumentCache.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof ze&&(c=c.insert(t,e))}),c})},t}(),Hn=function(){function t(){this.refsByKey=new At(Wn.compareByKey),this.refsByTarget=new At(Wn.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Wn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Wn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=ht.EMPTY,r=new Wn(n,t),i=new Wn(n,t+1),s=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),s.push(t.key)}),s},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=ht.EMPTY,n=new Wn(e,t),r=new Wn(e,t+1),i=Bt();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Wn(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Wn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ht.comparator(t.key,e.key)||Q(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return Q(t.targetOrBatchId,e.targetOrBatchId)||ht.comparator(t.key,e.key)},t}(),Kn=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Hn,this.queryDataByTarget={},v(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new $n(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new $n(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=[],s=[],o=Bt(),a=0,l=r;a<l.length;a++){var c=l[a];i.push(c.batchId);for(var u=0,h=c.mutations;u<h.length;u++){var d=h[u];o=o.add(d.key)}}for(var p=0,m=t;p<m.length;p++){c=m[p];s.push(c.batchId);for(var f=0,g=c.mutations;f<g.length;f++){d=g[f];o=o.add(d.key)}}return e.localDocuments.getDocuments(n,o).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:s}})})})},t.prototype.localWrite=function(t){var e=this,n=Ct.now(),r=t.reduce(function(t,e){return t.add(e.key)},Bt());return this.persistence.runTransaction("Locally write mutations","readwrite",function(i){return e.localDocuments.getDocuments(i,r).next(function(r){for(var s=[],o=0,a=t;o<a.length;o++){var l=a[o],c=l.extractBaseValue(r.get(l.key));null!=c&&s.push(new Ce(l.key,c,c.fieldMask(),be.exists(!0)))}return e.mutationQueue.addMutationBatch(i,n,s,t).next(function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}})})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):$t.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return v(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getHighestUnacknowledgedBatchId=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer(),i=e.snapshotVersion;return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var o=[];T(e.targetChanges,function(e,r){var a=n.queryDataByTarget[e];if(a){o.push(n.queryCache.removeMatchingKeys(s,r.removedDocuments,e).next(function(){return n.queryCache.addMatchingKeys(s,r.addedDocuments,e)}));var l=r.resumeToken;if(l.length>0){var c=a.withResumeToken(l,i);n.queryDataByTarget[e]=c,t.shouldPersistQueryData(a,c,r)&&o.push(n.queryCache.updateQueryData(s,c))}}});var a=Ot(),l=Bt();if(e.documentUpdates.forEach(function(t,e){l=l.add(t)}),o.push(r.getEntries(s,l).next(function(t){e.documentUpdates.forEach(function(i,l){var c=t.get(i);l instanceof $e&&l.version.isEqual(xt.MIN)?(r.removeEntry(i),a=a.insert(i,l)):null==c||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(xt.MIN.isEqual(e.snapshotVersion)&&f("LocalStore","Cannot add a document when the remote version is zero"),r.addEntry(l),a=a.insert(i,l)):m("LocalStore","Ignoring outdated watch update for ",i,". Current version:",c.version," Watch version:",l.version),e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,i))})})),!i.isEqual(xt.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(s).next(function(t){return v(i.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+i+" < "+t),n.queryCache.setTargetsMetadata(s,s.currentSequenceNumber,i)});o.push(c)}return $t.waitFor(o).next(function(){return r.apply(s)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(s,a)})})},t.shouldPersistQueryData=function(t,e,n){return v(e.resumeToken.length>0,"Attempted to persist query data with no resume token"),0===t.resumeToken.length||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return $t.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),$t.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,$t.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new Tn(t,i,En.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return v(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this,r=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,t).next(function(i){v(null!=i,"Tried to release nonexistent query: "+t);var s=i.targetId,o=n.queryDataByTarget[s],a=n.localViewReferences.removeReferencesForId(s);return delete n.queryDataByTarget[s],e?$t.resolve():$t.forEach(a,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,o)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,s=i.keys(),o=$t.resolve();return s.forEach(function(r){o=o.next(function(){return n.getEntry(t,r)}).next(function(t){var s=t,o=e.docVersions.get(r);v(null!==o,"ackVersions should contain every doc in the write."),(!s||s.version.compareTo(o)<0)&&((s=i.applyToRemoteDocument(r,s,e))?n.addEntry(s):v(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),o.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Gn=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=b(),this.batchesByDocumentKey=new At(Wn.compareByKey)}return t.prototype.checkEmpty=function(t){return $t.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");v(0===i,"Can only acknowledge the first batch in the mutation queue");var s=this.mutationQueue[i];return v(r===s.batchId,"Queue ordering failure: expected batch "+r+", got batch "+s.batchId),this.lastStreamToken=n,$t.resolve()},t.prototype.getLastStreamToken=function(t){return $t.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,$t.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){v(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&v(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var s=new qt(i,e,n,r);this.mutationQueue.push(s);for(var o=0,a=r;o<a.length;o++){var l=a[o];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Wn(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast())}return $t.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return $t.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return v(null!=n,"Failed to find local mutation batch."),$t.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.indexOfBatchId(n),i=r<0?0:r;return $t.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return $t.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},t.prototype.getAllMutationBatches=function(t){return $t.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Wn(e,0),i=new Wn(e,Number.POSITIVE_INFINITY),s=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){v(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);v(null!==r,"Batches in the index must exist in the main table"),s.push(r)}),$t.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new At(Q);return e.forEach(function(t){var e=new Wn(t,0),i=new Wn(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){v(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),$t.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;ht.isDocumentKey(i)||(i=i.child(""));var s=new Wn(new ht(i),0),o=new At(Q);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.targetOrBatchId)),!0)},s),$t.resolve(this.findMutationBatches(o))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;v(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return $t.forEach(e.mutations,function(i){var s=new Wn(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.removeMutationReference(t,i.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Wn(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return $t.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&v(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),$t.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return v(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return v(n.batchId===t,"If found batch must match"),n},t}(),Qn=function(){function t(t){this.persistence=t,this.queries=new We(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=xt.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Hn,this.targetCount=0,this.targetIdGenerator=te.forQueryCache()}return t.prototype.getTargetCount=function(t){return $t.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),$t.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return $t.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return $t.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,$t.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),$t.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return v(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,$t.resolve()},t.prototype.updateQueryData=function(t,e){return v(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),$t.resolve()},t.prototype.removeQueryData=function(t,e){return v(this.targetCount>0,"Removing a target from an empty cache"),v(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,$t.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.queries.forEach(function(o,a){a.sequenceNumber<=e&&!n[a.targetId]&&(r.queries.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),$t.waitFor(s).next(function(){return i})},t.prototype.getQueryCount=function(t){return $t.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return $t.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return y("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),$t.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),$t.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),$t.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return $t.resolve(n)},t.prototype.containsKey=function(t,e){return $t.resolve(this.references.containsKey(e))},t}();var Yn=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new St(ht.comparator),this.newDocumentChanges=Bt(),this.size=0}return t.prototype.addEntry=function(t,e){var n=e.key,r=this.docs.get(n),i=r?r.size:0,s=this.sizer(e);return this.docs=this.docs.insert(n,{maybeDocument:e,size:s}),this.newDocumentChanges=this.newDocumentChanges.add(n),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return $t.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Pt();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),$t.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e){v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Mt(),r=new ht(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var s=i.getNext(),o=s.key,a=s.value.maybeDocument;if(!e.path.isPrefixOf(o.path))break;a instanceof ze&&e.matches(a)&&(n=n.insert(a.key,a))}return $t.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return $t.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=Ot();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new $e(t,xt.forDeletedDoc());n=n.insert(t,i)}),this.newDocumentChanges=Bt(),$t.resolve(n)},t.prototype.newChangeBuffer=function(){return new t.RemoteDocumentChangeBuffer(this)},t.prototype.getSize=function(t){return $t.resolve(this.size)},t.RemoteDocumentChangeBuffer=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i?n.push(e.documentCache.addEntry(t,i)):e.documentCache.removeEntry(r)}),$t.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getEntries(t,e)},e}(Ke),t}(),Xn=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new ot(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Qn(this);this.indexManager=new en,this.remoteDocumentCache=new Yn(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new tr(t,new In(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new Jn(t)})},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Gn(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;m("MemoryPersistence","Starting transaction:",t);var i=new Zn(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return $t.or((n=this.mutationQueues,r=[],I(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),Zn=function(t){this.currentSequenceNumber=t},Jn=function(){function t(t){this.persistence=t,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(t.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw y("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),$t.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),$t.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),$t.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $t.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(t){t||n.removeEntry(r)})}).next(function(){return e._orphanedDocuments=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return $t.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return $t.resolve(n.inMemoryPins.containsKey(e))}])},t}(),tr=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new We(function(t){return _t(t.path)}),this.garbageCollector=new Pn(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return $t.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return $t.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?$t.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.forEachDocumentKey(t,function(i){return n.isPinned(t,i,e).next(function(t){t||(r++,s.removeEntry(i))})}).next(function(){return s.apply(t)}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),$t.resolve()},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),$t.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),$t.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),$t.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw y("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return $t.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return $t.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return $t.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),er=Number,nr=er.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),rr=er.MAX_SAFE_INTEGER||Math.pow(2,53)-1,ir=er.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function sr(t){return null==t}function or(t){return ir(t)&&t<=rr&&t>=nr}var ar,lr=1e3,cr=1.5,ur=6e4,hr=function(){function t(t,e,n,r,i){void 0===n&&(n=lr),void 0===r&&(r=cr),void 0===i&&(i=ur),this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&m("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}();!function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff"}(ar||(ar={}));var dr,pr,mr=function(){function t(t,e,n,r,i,s){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=s,this.state=ar.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new hr(t,e)}return t.prototype.isStarted=function(){return this.state===ar.Starting||this.state===ar.Open||this.state===ar.Backoff},t.prototype.isOpen=function(){return this.state===ar.Open},t.prototype.start=function(){this.state!==ar.Error?(v(this.state===ar.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(ar.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){v(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=ar.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.isOpen()?[2,this.close(ar.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return v(this.isStarted(),"Only started streams should be closed."),v(t===ar.Error||sr(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==ar.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED?(f(e.toString()),f("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===w.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;v(this.state===ar.Initial,"Must be in initial state to auth"),this.state=ar.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new E(w.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;v(this.state===ar.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return v(e.state===ar.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=ar.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;v(this.state===ar.Error,"Should only perform backoff when in Error state"),this.state=ar.Backoff,this.backoff.backoffAndRun(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){return v(this.state===ar.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=ar.Initial,this.start(),v(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return v(this.isStarted(),"Can't handle server close on non-started stream"),m("PersistentStream","close with error: "+t),this.stream=null,this.close(ar.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(m("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),fr=function(t){function e(e,n,r,i,s){var o=t.call(this,e,tt.ListenStreamConnectionBackoff,tt.ListenStreamIdle,n,r,s)||this;return o.serializer=i,o}return a.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(mr),gr=function(t){function e(e,n,r,i,s){var o=t.call(this,e,tt.WriteStreamConnectionBackoff,tt.WriteStreamIdle,n,r,s)||this;return o.serializer=i,o.handshakeComplete_=!1,o.lastStreamToken=b(),o}return a.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return v(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){v(this.isOpen(),"Writing handshake requires an opened stream"),v(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;v(this.isOpen(),"Writing mutations requires an opened stream"),v(this.handshakeComplete_,"Handshake must be complete before writing mutations"),v(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(mr),yr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new gr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new fr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Ot();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);v(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),vr=function(){function t(t){this.datastore=t,this.readVersions=Ft(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new E(w.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(t)];case 1:return(e=r.sent()).forEach(function(t){t instanceof $e||t instanceof ze?n.recordVersion(t):y("Document in a transaction was a "+t.constructor.name)}),[2,e]}})})},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t))),this.writtenDocs.add(t)},t.prototype.update=function(t,e){try{this.write(e.toMutations(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t)},t.prototype.delete=function(t){this.write([new Se(t,this.precondition(t))]),this.writtenDocs.add(t)},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(t=this.readVersions,this.mutations.forEach(function(e){t=t.remove(e.key)}),!t.isEmpty())throw new E(w.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return e.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof ze)e=t.version;else{if(!(t instanceof $e))throw y("Document in a transaction was a "+t.constructor.name);e=xt.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new E(w.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return!this.writtenDocs.has(t)&&e?be.updateTime(e):be.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(!this.writtenDocs.has(t)&&e){if(e.isEqual(xt.forDeletedDoc()))throw new E(w.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return be.updateTime(e)}return be.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(t)},t.prototype.ensureCommitNotCalled=function(){v(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},t}();!function(t){t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline"}(dr||(dr={})),function(t){t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState"}(pr||(pr={}));var _r,br=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=dr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(dr.Unknown),v(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(tt.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,v(t.state===dr.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(dr.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===dr.Online?(this.setAndBroadcast(dr.Unknown),v(0===this.watchStreamFailures,"watchStreamFailures must be 0"),v(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(dr.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===dr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(f(e),this.shouldWarnClientIsOffline=!1):m("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}();function wr(t){switch(t){case w.OK:return y("Treated status OK as error");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return y("Unknown status code: "+t)}}function Er(t){if(void 0===t)return f("GRPC error has no .code"),w.UNKNOWN;switch(t){case _r.OK:return w.OK;case _r.CANCELLED:return w.CANCELLED;case _r.UNKNOWN:return w.UNKNOWN;case _r.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case _r.INTERNAL:return w.INTERNAL;case _r.UNAVAILABLE:return w.UNAVAILABLE;case _r.UNAUTHENTICATED:return w.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case _r.NOT_FOUND:return w.NOT_FOUND;case _r.ALREADY_EXISTS:return w.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return w.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case _r.ABORTED:return w.ABORTED;case _r.OUT_OF_RANGE:return w.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return w.UNIMPLEMENTED;case _r.DATA_LOSS:return w.DATA_LOSS;default:return y("Unknown status code: "+t)}}function Cr(t){if(void 0===t)return _r.OK;switch(t){case w.OK:return _r.OK;case w.CANCELLED:return _r.CANCELLED;case w.UNKNOWN:return _r.UNKNOWN;case w.DEADLINE_EXCEEDED:return _r.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return _r.RESOURCE_EXHAUSTED;case w.INTERNAL:return _r.INTERNAL;case w.UNAVAILABLE:return _r.UNAVAILABLE;case w.UNAUTHENTICATED:return _r.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return _r.INVALID_ARGUMENT;case w.NOT_FOUND:return _r.NOT_FOUND;case w.ALREADY_EXISTS:return _r.ALREADY_EXISTS;case w.PERMISSION_DENIED:return _r.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return _r.FAILED_PRECONDITION;case w.ABORTED:return _r.ABORTED;case w.OUT_OF_RANGE:return _r.OUT_OF_RANGE;case w.UNIMPLEMENTED:return _r.UNIMPLEMENTED;case w.DATA_LOSS:return _r.DATA_LOSS;default:return y("Unknown status code: "+t)}}!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(_r||(_r={}));var xr,Sr,Tr=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ht.comparator(e.key,n.key)}:function(t,e){return ht.comparator(t.key,e.key)},this.keyedMap=Mt(),this.sortedSet=new St(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}();!function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(xr||(xr={})),function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(Sr||(Sr={}));var Ir,kr=function(){function t(){this.changeMap=new St(ht.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==xr.Added&&n.type===xr.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===xr.Metadata&&n.type!==xr.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===xr.Modified&&n.type===xr.Modified?this.changeMap=this.changeMap.insert(e,{type:xr.Modified,doc:t.doc}):t.type===xr.Modified&&n.type===xr.Added?this.changeMap=this.changeMap.insert(e,{type:xr.Added,doc:t.doc}):t.type===xr.Removed&&n.type===xr.Added?this.changeMap=this.changeMap.remove(e):t.type===xr.Removed&&n.type===xr.Modified?this.changeMap=this.changeMap.insert(e,{type:xr.Removed,doc:n.doc}):t.type===xr.Added&&n.type===xr.Removed?this.changeMap=this.changeMap.insert(e,{type:xr.Modified,doc:t.doc}):y("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ar=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:xr.Added,doc:t})}),new t(e,n,Tr.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Dr=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Nr.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(xt.MIN,i,Ut(),Ot(),Bt())},t}(),Nr=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(b(),n,Bt(),Bt(),Bt())},t}(),Or=function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r},Pr=function(t,e){this.targetId=t,this.existenceFilter=e};!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(Ir||(Ir={}));var Rr=function(t,e,n,r){void 0===n&&(n=b()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Mr=function(){function t(){this.pendingResponses=0,this.documentChanges=Vr(),this._resumeToken=b(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Bt(),e=Bt(),n=Bt();return this.documentChanges.forEach(function(r,i){switch(i){case xr.Added:t=t.add(r);break;case xr.Modified:e=e.add(r);break;case xr.Removed:n=n.add(r);break;default:y("Encountered invalid change type: "+i)}}),new Nr(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Vr()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Lr=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Ot(),this.pendingDocumentTargetMapping=Fr(),this.pendingTargetResets=new At(Q)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof ze?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof $e&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,s=t.removedTargetIds;i<s.length;i++){r=s[i];this.removeDocumentFromTarget(r,t.key,t.newDoc)}},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Ir.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Ir.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Ir.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),v(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Ir.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Ir.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:y("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):T(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var s=new ht(i.path);this.removeDocumentFromTarget(e,s,new $e(s,xt.forDeletedDoc()))}else v(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};T(this.targetStates,function(r,i){var s=e.queryDataForActiveTarget(r);if(s){if(i.current&&s.query.isDocumentQuery()){var o=new ht(s.query.path);null!==e.pendingDocumentUpdates.get(o)||e.targetContainsDocument(r,o)||e.removeDocumentFromTarget(r,o,new $e(o,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Bt();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===En.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Dr(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Ot(),this.pendingDocumentTargetMapping=Fr(),this.pendingTargetResets=new At(Q),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?xr.Modified:xr.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,xr.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Mr),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new At(Q),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){var e=null!==this.queryDataForActiveTarget(t);return e||m("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;v(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Mr,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Fr(){return new St(ht.comparator)}function Vr(){return new St(ht.comparator)}var Br="RemoteStore",jr=function(){function t(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback(function(t){n.enqueueAndForget(function(){return a.__awaiter(s,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(m(Br,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new br(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(dr.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(dr.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(m(Br,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return m(Br,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(dr.Unknown),[2]}})})},t.prototype.listen=function(t){v(!x(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){v(x(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),k(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(dr.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){v(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Lr(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!k(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){return T(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return void 0===t&&v(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(dr.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(dr.Online),t instanceof Rr&&t.state===Ir.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Or?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Pr?this.watchChangeAggregator.handleExistenceFilter(t):(v(t instanceof Rr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(xt.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;v(!t.isEqual(xt.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return T(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.withResumeToken(r.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.withResumeToken(b(),n.snapshotVersion),e.sendUnwatchRequest(t);var r=new Tn(n.query,t,En.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;v(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return x(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,function(){var t,e;return a.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(t=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(t)]):[3,4];case 1:return null!==(e=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){v(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){v(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}}).catch(Bn)},t.prototype.onMutationResult=function(t,e){var n=this;v(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=zt.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){return void 0===t&&v(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return wr(t.code)?(m(Br,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=b(),[2,this.localStore.setLastStreamToken(b()).catch(Bn)]):[2]})})},t.prototype.handleWriteError=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){return wr(i=t.code)&&i!==w.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var i})})},t.prototype.createTransaction=function(){return new vr(this.datastore)},t.prototype.restartNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(dr.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}})})},t.prototype.handleCredentialChange=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(m(Br,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(dr.Unknown),e.label=4;case 4:return[2]}})})},t}(),Ur=function(){function t(t,e){if(D("GeoPoint",arguments,2),P("GeoPoint","number",1,t),P("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new E(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new E(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return Q(this._lat,t._lat)||Q(this._long,t._long)},t}(),qr=function(){function t(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[ti]:this.memoizedOrderBy=[new Jr(t),ti];else{v(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var s=i[r];this.memoizedOrderBy.push(s),s.field.isKeyField()&&(n=!0)}if(!n){var o=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Xr.ASCENDING;this.memoizedOrderBy.push(o===Xr.ASCENDING?ti:ei)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){v(null==this.getInequalityFilterField()||!(e instanceof Hr)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),v(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){v(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++){t+=n[e].canonicalId(),t+=","}t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++){t+=i[r].canonicalId(),t+=","}sr(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),sr(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&(!!this.path.isEqual(t.path)&&(!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)))},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var s=i[r],o=s.compare(t,e);if(0!==o)return o;n=n||s.field.isKeyField()}return v(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!sr(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Hr&&n.isInequality())return n.field}return null},t.prototype.findFilterOperator=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Hr&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.isDocumentQuery=function(){return ht.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):ht.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&null===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++){if(!n[e].matches(t))return!1}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){v(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),zr=function(){},$r=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return y("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),Hr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return a.__extends(e,t),e.create=function(t,n,r){if(t.isKeyField())return n===$r.IN?(v(r instanceof Ue,"Comparing on key with IN, but filter value not an ArrayValue"),v(r.internalValue.every(function(t){return t instanceof Ve}),"Comparing on key with IN, but an array value was not a RefValue"),new Kr(t,r)):(v(r instanceof Ve,"Comparing on key, but filter value not a RefValue"),v(n!==$r.ARRAY_CONTAINS&&n!==$r.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new Wr(t,n,r));if(r.isEqual(ke.INSTANCE)){if(n!==$r.EQUAL)throw new E(w.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(r.isEqual(Pe.NAN)){if(n!==$r.EQUAL)throw new E(w.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===$r.ARRAY_CONTAINS?new Gr(t,r):n===$r.IN?(v(r instanceof Ue,"IN filter has invalid value: "+r.toString()),new Qr(t,r)):n===$r.ARRAY_CONTAINS_ANY?(v(r instanceof Ue,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new Yr(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case $r.LESS_THAN:return t<0;case $r.LESS_THAN_OR_EQUAL:return t<=0;case $r.EQUAL:return 0===t;case $r.GREATER_THAN:return t>0;case $r.GREATER_THAN_OR_EQUAL:return t>=0;default:return y("Unknown FieldFilter operator: "+this.op)}},e.prototype.isInequality=function(){return[$r.LESS_THAN,$r.LESS_THAN_OR_EQUAL,$r.GREATER_THAN,$r.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&(this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value))},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(zr),Wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=ht.comparator(t.key,e.key);return this.matchesComparison(n)},e}(Hr),Kr=function(t){function e(e,n){var r=t.call(this,e,$r.IN,n)||this;return r.value=n,r}return a.__extends(e,t),e.prototype.matches=function(t){return this.value.internalValue.some(function(e){return t.key.isEqual(e.key)})},e}(Hr),Gr=function(t){function e(e,n){return t.call(this,e,$r.ARRAY_CONTAINS,n)||this}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof Ue&&e.contains(this.value)},e}(Hr),Qr=function(t){function e(e,n){var r=t.call(this,e,$r.IN,n)||this;return r.value=n,r}return a.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(Hr),Yr=function(t){function e(e,n){var r=t.call(this,e,$r.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return a.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof Ue&&n.internalValue.some(function(t){return e.value.contains(t)})},e}(Hr),Xr=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Zr=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++){t+=n[e].toString()}return t},t.prototype.sortsBeforeDocument=function(t,e){v(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],s=this.position[r];if(i.field.isKeyField())v(s instanceof Ve,"Bound has a non-key value where the key path is being used."),n=ht.comparator(s.key,e.key);else{var o=e.field(i.field);v(null!==o,"Field should exist since document matched the orderBy already."),n=s.compareTo(o)}if(i.dir===Xr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];if(!n.isEqual(r))return!1}return!0},t}(),Jr=function(){function t(t,e){this.field=t,void 0===e&&(e=Xr.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ze.compareByKey(t,e):ze.compareByField(this.field,t,e);switch(this.dir){case Xr.ASCENDING:return n;case Xr.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),ti=new Jr(ut.keyField(),Xr.ASCENDING),ei=new Jr(ut.keyField(),Xr.DESCENDING),ni=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Le(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ri=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=oi(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Ue(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Y(e.elements,this.elements)},t}(),ii=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=oi(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Ue(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Y(e.elements,this.elements)},t}(),si=function(){function t(t){this.operand=t}return t.prototype.applyToLocalView=function(t,e){var n=this.computeBaseValue(t);if(n instanceof Oe&&this.operand instanceof Oe){var r=n.internalValue+this.operand.internalValue;return new Oe(r)}r=n.internalValue+this.operand.internalValue;return new Pe(r)},t.prototype.applyToRemoteDocument=function(t,e){return v(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.computeBaseValue=function(t){return t instanceof De?t:new Oe(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function oi(t){return t instanceof Ue?t.internalValue.slice():[]}var ai,li,ci=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),ui=((ai={})[Xr.ASCENDING.name]="ASCENDING",ai[Xr.DESCENDING.name]="DESCENDING",ai),hi=((li={})[$r.LESS_THAN.name]="LESS_THAN",li[$r.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",li[$r.GREATER_THAN.name]="GREATER_THAN",li[$r.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",li[$r.EQUAL.name]="EQUAL",li[$r.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",li[$r.IN.name]="IN",li[$r.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",li),di=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(t,e){v(!sr(t),e+" is missing")}function mi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):y("can't parse "+t)}var fi=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.UNKNOWN:Er(t.code);return new E(e,t.message||"")},t.prototype.toInt32Value=function(t){return sr(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return sr(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);v(!!t,"Cannot deserialize null or undefined timestamp.");var e=mi(t.seconds||"0"),n=t.nanos||0;return new Ct(e,n)},t.prototype.fromIso8601String=function(t){var e=0,n=di.exec(t);if(v(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),s=Math.floor(i.getTime()/1e3);return new Ct(s,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(v(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),et.fromBase64String(t)):(v(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),et.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return v(!!t,"Trying to deserialize version that isn't set"),xt.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=lt.fromString(t);return v(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return v(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),v(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ht(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?lt.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new lt(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new lt(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return v(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof ke)return{nullValue:"NULL_VALUE"};if(t instanceof Ae)return{booleanValue:t.value()};if(t instanceof Oe)return{integerValue:""+t.value()};if(t instanceof Pe){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Re?{stringValue:t.value()}:t instanceof je?{mapValue:this.toMapValue(t)}:t instanceof Ue?{arrayValue:this.toArrayValue(t)}:t instanceof Me?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Be?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Fe?{bytesValue:this.toBytes(t.value())}:t instanceof Ve?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:y("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return ke.INSTANCE;if("booleanValue"in t)return Ae.of(t.booleanValue);if("integerValue"in t)return new Oe(mi(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Pe.NAN;if("Infinity"===t.doubleValue)return Pe.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Pe.NEGATIVE_INFINITY}return new Pe(t.doubleValue)}if("stringValue"in t)return new Re(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t){pi(t.arrayValue,"arrayValue");var n=t.arrayValue.values||[];return new Ue(n.map(function(t){return e.fromValue(t)}))}if("timestampValue"in t)return pi(t.timestampValue,"timestampValue"),new Me(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t){pi(t.geoPointValue,"geoPointValue");var r=t.geoPointValue.latitude||0,i=t.geoPointValue.longitude||0;return new Be(new Ur(r,i))}if("bytesValue"in t){pi(t.bytesValue,"bytesValue");var s=this.fromBlob(t.bytesValue);return new Fe(s)}if("referenceValue"in t){pi(t.referenceValue,"referenceValue");var o=this.fromResourceName(t.referenceValue),a=new st(o.get(1),o.get(3)),l=new ht(this.extractLocalPathFromResourceName(o));return new Ve(a,l)}return y("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return v(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){var n=this,r=this.fromName(t.name),i=this.fromVersion(t.updateTime);return new ze(r,i,{hasCommittedMutations:!!e},void 0,t,function(t){return n.fromValue(t)})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=t,r=je.EMPTY;return I(n,function(t,n){r=r.set(new ut([t]),e.fromValue(n))}),r},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){var e=this;v(!!t.found,"Tried to deserialize a found document from a missing document."),pi(t.found.name,"doc.found.name"),pi(t.found.updateTime,"doc.found.updateTime");var n=this.fromName(t.found.name),r=this.fromVersion(t.found.updateTime);return new ze(n,r,{},void 0,t.found,function(t){return e.fromValue(t)})},t.prototype.fromMissing=function(t){v(!!t.missing,"Tried to deserialize a missing document from a found document."),v(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new $e(e,n)},t.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):y("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Ir.Added:return"ADD";case Ir.Current:return"CURRENT";case Ir.NoChange:return"NO_CHANGE";case Ir.Removed:return"REMOVE";case Ir.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Pr)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Or){if(t.newDoc instanceof ze){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof $e){e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Rr){var n=void 0;return t.cause&&(n={code:Cr(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=this;if("targetChange"in t){pi(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=t.targetChange.resumeToken||this.emptyByteString(),o=t.targetChange.cause,a=o&&this.fromRpcStatus(o);e=new Rr(r,i,s,a||null)}else if("documentChange"in t){pi(t.documentChange,"documentChange"),pi(t.documentChange.document,"documentChange.name"),pi(t.documentChange.document.name,"documentChange.document.name"),pi(t.documentChange.document.updateTime,"documentChange.document.updateTime");var l=t.documentChange,c=this.fromName(l.document.name),u=this.fromVersion(l.document.updateTime),h=new ze(c,u,{},void 0,l.document,function(t){return n.fromValue(t)}),d=l.targetIds||[],p=l.removedTargetIds||[];e=new Or(d,p,h.key,h)}else if("documentDelete"in t){pi(t.documentDelete,"documentDelete"),pi(t.documentDelete.document,"documentDelete.document");var m=t.documentDelete;c=this.fromName(m.document),u=m.readTime?this.fromVersion(m.readTime):xt.forDeletedDoc(),h=new $e(c,u),p=m.removedTargetIds||[];e=new Or([],p,h.key,h)}else if("documentRemove"in t){pi(t.documentRemove,"documentRemove"),pi(t.documentRemove.document,"documentRemove");var f=t.documentRemove;c=this.fromName(f.document),p=f.removedTargetIds||[];e=new Or([],p,c,null)}else{if(!("filter"in t))return y("Unknown change type "+JSON.stringify(t));pi(t.filter,"filter"),pi(t.filter.targetId,"filter.targetId");var g=t.filter,v=g.count||0,_=new ci(v),b=g.targetId;e=new Pr(b,_)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Ir.NoChange:"ADD"===t?Ir.Added:"REMOVE"===t?Ir.Removed:"CURRENT"===t?Ir.Current:"RESET"===t?Ir.Reset:y("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return xt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?xt.MIN:e.readTime?this.fromVersion(e.readTime):xt.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof Ee)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Se)e={delete:this.toName(t.key)};else if(t instanceof Ce)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof xe))return y("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):be.NONE;if(t.update){pi(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var s=this.fromDocumentMask(t.updateMask);return new Ce(r,i,s,n)}return new Ee(r,i,n)}if(t.delete){r=this.fromName(t.delete);return new Se(r,n)}if(t.transform){r=this.fromName(t.transform.document);var o=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return v(!0===n.exists,'Transforms only support precondition "exists == true"'),new xe(r,o)}return y("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return v(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?be.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?be.exists(t.exists):be.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new ye(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(v(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof ni)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ri)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ii)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof si)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw y("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)v("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=ni.instance;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ri(r.map(function(t){return e.fromValue(t)}))}else if("removeAllFromArray"in t){r=t.removeAllFromArray.values||[];n=new ii(r.map(function(t){return e.fromValue(t)}))}else if("increment"in t){var i=this.fromValue(t.increment);v(i instanceof De,"NUMERIC_ADD transform requires a NumberValue"),n=new si(i)}else y("Unknown transform proto: "+JSON.stringify(t));var s=ut.fromServerFormat(t.fieldPath);return new ge(s,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;v(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return qr.atPath(this.fromQueryPath(n))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(v(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(v(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var s=this.toInt32Value(t.limit);return void 0!==s&&(e.structuredQuery.limit=s),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r,"StructuredQuery.from with more than one collection is not supported.");var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var l=null;n.limit&&(l=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var u=null;return n.endAt&&(u=this.fromCursor(n.endAt)),new qr(e,i,a,o,l,c,u)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case En.Listen:return null;case En.ExistenceFilterMismatch:return"existence-filter-mismatch";case En.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Hr?e.toUnaryOrFieldFilter(t):y("Unrecognized filter: "+JSON.stringify(t))});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromFieldFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):y("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Zr(r,n)},t.prototype.toDirection=function(t){return ui[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Xr.ASCENDING;case"DESCENDING":return Xr.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return hi[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return $r.EQUAL;case"GREATER_THAN":return $r.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return $r.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return $r.LESS_THAN;case"LESS_THAN_OR_EQUAL":return $r.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return $r.ARRAY_CONTAINS;case"IN":return $r.IN;case"ARRAY_CONTAINS_ANY":return $r.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return y("Unspecified operator");default:return y("Unknown operator")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ut.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Jr(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.fromFieldFilter=function(t){return Hr.create(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryOrFieldFilter=function(t){if(t.op===$r.EQUAL){if(t.value.isEqual(Pe.NAN))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}};if(t.value.isEqual(ke.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return Hr.create(e,$r.EQUAL,Pe.NAN);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return Hr.create(n,$r.EQUAL,ke.INSTANCE);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ut.fromServerFormat(t)});return fe.fromArray(e)},t}(),gi=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},yi=function(){function t(t){this.syncEngine=t,this.queries=new We(function(t){return t.canonicalId()}),this.onlineState=dr.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);(r||(n=!0,r=new gi,this.queries.set(e,r)),r.listeners.push(t),v(!t.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap)&&(t.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent());return n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return a.__generator(this,function(s){return e=t.query,n=!1,(r=this.queries.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],s=i.query,o=this.queries.get(s);if(o){for(var a=0,l=o.listeners;a<l.length;a++){l[a].onViewSnapshot(i)&&(e=!0)}o.viewSnap=i}}e&&this.raiseSnapshotsInSyncEvent()},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(e)}this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t;var e=!1;this.queries.forEach(function(n,r){for(var i=0,s=r.listeners;i<s.length;i++){s[i].applyOnlineStateChange(t)&&(e=!0)}}),e&&this.raiseSnapshotsInSyncEvent()},t.prototype.addSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.add(t),t.next()},t.prototype.removeSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.delete(t)},t.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach(function(t){t.next()})},t}(),vi=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=dr.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(v(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==xr.Metadata&&e.push(i)}t=new Ar(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(t)&&(this.queryObserver.next(t),s=!0):this.shouldRaiseInitialEvent(t,this.onlineState)&&(this.raiseInitialEvent(t),s=!0),this.snap=t,s},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t;var e=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&(this.raiseInitialEvent(this.snap),e=!0),e},t.prototype.shouldRaiseInitialEvent=function(t,e){if(v(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==dr.Offline;return this.options.waitForSyncWhenOnline&&n?(v(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===dr.Offline},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){v(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Ar.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),_i=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Bt(),i=Bt(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case xr.Added:r=r.add(a.doc.key);break;case xr.Removed:i=i.add(a.doc.key)}}return new t(e,r,i)},t}(),bi=function(t){this.key=t},wi=function(t){this.key=t},Ei=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Bt(),this.mutatedKeys=Bt(),this.documentSet=new Tr(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new kr,i=e?e.documentSet:this.documentSet,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,l=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var c=i.get(t),u=e instanceof ze?e:null;u&&(v(t.isEqual(u.key),"Mismatching keys found in document changes: "+t+" != "+u.key),u=n.query.matches(u)?u:null);var h=!!c&&n.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||n.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;c&&u?c.data().isEqual(u.data())?h!==d&&(r.track({type:xr.Metadata,doc:u}),p=!0):n.shouldWaitForSyncedDocument(c,u)||(r.track({type:xr.Modified,doc:u}),p=!0,l&&n.query.docComparator(u,l)>0&&(a=!0)):!c&&u?(r.track({type:xr.Added,doc:u}),p=!0):c&&!u&&(r.track({type:xr.Removed,doc:c}),p=!0,l&&(a=!0));p&&(u?(o=o.add(u),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),this.query.hasLimit())for(;o.size>this.query.limit;){var c=o.last();o=o.delete(c.key),s=s.delete(c.key),r.track({type:xr.Removed,doc:c})}return v(!a||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:o,changeSet:r,needsRefill:a,mutatedKeys:s}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;v(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var s=t.changeSet.getChanges();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case xr.Added:return 1;case xr.Modified:case xr.Metadata:return 2;case xr.Removed:return 0;default:return y("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var o=e?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current?Sr.Synced:Sr.Local,l=a!==this.syncState;return this.syncState=a,0!==s.length||l?{snapshot:new Ar(this.query,t.documentSet,i,s,t.mutatedKeys,a===Sr.Local,l,!1),limboChanges:o}:{limboChanges:o}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===dr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new kr,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&(!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations)},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return v(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Bt(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new wi(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new bi(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Bt();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return Ar.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Sr.Local)},t}();var Ci=5,xi=function(){function t(t,e,n,r){this.asyncQueue=t,this.remoteStore=e,this.updateFunction=n,this.deferred=r,this.retries=Ci,this.backoff=new hr(this.asyncQueue,tt.RetryTransaction)}return t.prototype.run=function(){this.runWithBackOff()},t.prototype.runWithBackOff=function(){var t=this;this.backoff.backoffAndRun(function(){return a.__awaiter(t,void 0,void 0,function(){var t,e,n=this;return a.__generator(this,function(r){return t=this.remoteStore.createTransaction(),(e=this.tryRunUpdateFunction(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.handleTransactionError(t)})})}).catch(function(t){n.handleTransactionError(t)}),[2]})})})},t.prototype.tryRunUpdateFunction=function(t){try{var e=this.updateFunction(t);return!sr(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(f){return this.deferred.reject(f),null}},t.prototype.handleTransactionError=function(t){var e=this;this.retries>0&&this.isRetryableTransactionError(t)?(this.retries-=1,this.asyncQueue.enqueueAndForget(function(){return e.runWithBackOff(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.isRetryableTransactionError=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wr(e)}return!1},t}(),Si=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ti=function(t){this.key=t,this.receivedDocument=!1},Ii=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new We(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new St(ht.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Hn,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=te.forSyncEngine(),this.isPrimary=void 0,this.onlineState=dr.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){v(null!==t,"SyncEngine listener cannot be null"),v(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,s;return a.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(e=r.targetId,this.sharedClientState.addLocalQueryTarget(e),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=o.sent(),s=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===s)];case 3:n=o.sent(),this.isPrimary&&this.remoteStore.listen(i),o.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,s,o,l,c,u;return a.__generator(this,function(a){switch(a.label){case 0:return n=t.query,[4,this.localStore.executeQuery(n)];case 1:return r=a.sent(),[4,this.localStore.remoteDocumentKeys(t.targetId)];case 2:return i=a.sent(),s=new Ei(n,i),o=s.computeDocChanges(r),l=Nr.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&this.onlineState!==dr.Offline),v(0===(c=s.applyChanges(o,!0===this.isPrimary,l)).limboChanges.length,"View returned limbo docs before target ack from the server."),v(!!c.snapshot,"applyChanges for new view should always return a snapshot"),u=new Si(n,t.targetId,s),this.queryViewsByQuery.set(n,u),this.queryViewsByTarget[t.targetId]=u,[2,c.snapshot]}})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r;return a.__generator(this,function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(t.query)];case 1:return e=i.sent(),[4,this.localStore.remoteDocumentKeys(t.targetId)];case 2:return n=i.sent(),r=t.view.synchronizeWithPersistedState(e,n),this.isPrimary&&this.updateTrackedLimbos(t.targetId,r.limboChanges),[2,r]}})})},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),v(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(Bn)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(t)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,e),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}})})},t.prototype.runTransaction=function(t,e,n){new xi(t,this.remoteStore,e,n).run()},t.prototype.applyRemoteEvent=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(t)];case 2:return e=r.sent(),I(t.targetChanges,function(t,e){var r=n.limboResolutionsByTarget[Number(t)];r&&(v(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),e.addedDocuments.size>0?r.receivedDocument=!0:e.modifiedDocuments.size>0?v(r.receivedDocument,"Received change for limbo target document without add."):e.removedDocuments.size>0&&(v(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),[4,this.emitNewSnapsAndNotifyLocalStore(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Bn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===pr.RemoteStore||!this.isPrimary&&e===pr.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);v(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,s,o,l,c=this;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),n=this.limboResolutionsByTarget[t],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new St(ht.comparator)).insert(r,new $e(r,xt.forDeletedDoc())),s=Bt().add(r),o=new Dr(xt.MIN,{},new At(Q),i,s),[2,this.applyRemoteEvent(o)]):[3,1];case 1:return v(!!(l=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(l.query,!1).then(function(){return c.removeAndCleanupQuery(l)}).catch(Bn)];case 2:a.sent(),this.syncEngineListener.onWatchError(l.query,e),a.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(m("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):y("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n;return a.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),e=t.batch.batchId,this.processUserCallback(e,null),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Bn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.rejectFailedWrite=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"rejected",e),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Bn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.registerPendingWritesCallback=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n;return a.__generator(this,function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||m("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.pendingWritesCallbacks.get(e)||[]).push(t),this.pendingWritesCallbacks.set(e,n),[2])}})})},t.prototype.triggerPendingWritesCallbacks=function(t){(this.pendingWritesCallbacks.get(t)||[]).forEach(function(t){t.resolve()}),this.pendingWritesCallbacks.delete(t)},t.prototype.rejectOutstandingPendingWritesCallbacks=function(t){this.pendingWritesCallbacks.forEach(function(e){e.forEach(function(e){e.reject(new E(w.CANCELLED,t))})}),this.pendingWritesCallbacks.clear()},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new St(Q)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(v(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i instanceof bi)this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i);else if(i instanceof wi){m("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)}else y("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){m("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=qr.atPath(e.path);this.limboResolutionsByTarget[n]=new Ti(e),this.remoteStore.listen(new Tn(r,n,En.LimboResolution,ot.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,s=this;return a.__generator(this,function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(o,a){i.push(Promise.resolve().then(function(){var e=a.view.computeDocChanges(t);return e.needsRefill?s.localStore.executeQuery(a.query).then(function(t){return a.view.computeDocChanges(t,e)}):e}).then(function(t){var i=e&&e.targetChanges[a.targetId],o=a.view.applyChanges(t,!0===s.isPrimary,i);if(s.updateTrackedLimbos(a.targetId,o.limboChanges),o.snapshot){s.isPrimary&&s.sharedClientState.updateQueryState(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var l=_i.fromSnapshot(a.targetId,o.snapshot);r.push(l)}}))}),[4,Promise.all(i)];case 1:return o.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return o.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){v(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n;return a.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(t)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,s,o,l,c=this;return a.__generator(this,function(a){switch(a.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return a.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=a.sent(),r=0,i=n;r<i.length;r++)s=i[r],this.remoteStore.listen(s);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,o=[],l=Promise.resolve(),T(this.queryViewsByTarget,function(t,e){c.sharedClientState.isLocalQueryTarget(t)?o.push(t):l=l.then(function(){return c.unlisten(e.query)}),c.remoteStore.unlisten(e.targetId)}),[4,l]);case 4:return a.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(o)];case 5:return a.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;T(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new St(ht.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,s,o,l,c,u;return a.__generator(this,function(a){switch(a.label){case 0:e=[],n=[],r=0,i=t,a.label=1;case 1:return r<i.length?(s=i[r],o=void 0,(l=this.queryViewsByTarget[s])?[4,this.localStore.releaseQuery(l.query,!0)]:[3,5]):[3,11];case 2:return a.sent(),[4,this.localStore.allocateQuery(l.query)];case 3:return o=a.sent(),[4,this.synchronizeViewAndComputeSnapshot(l)];case 4:return(c=a.sent()).snapshot&&n.push(c.snapshot),[3,9];case 5:return v(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(s)];case 6:return v(!!(u=a.sent()),"Query data for target "+s+" not found"),[4,this.localStore.allocateQuery(u)];case 7:return o=a.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 8:a.sent(),a.label=9;case 9:e.push(o),a.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,e]}})})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r,i,s,o,l;return a.__generator(this,function(a){switch(a.label){case 0:if(this.isPrimary)return m("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,11];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,8]}return[3,10];case 1:return a.trys.push([1,4,,8]),[4,this.localStore.getNewDocumentChanges()];case 2:return r=a.sent(),i=Dr.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return a.sent(),[3,11];case 4:return s=a.sent(),(c=s).code!==w.DATA_LOSS||c.message!==Ge?[3,6]:(o=[],T(this.queryViewsByTarget,function(t){return o.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(o)]);case 5:return a.sent(),[3,7];case 6:throw s;case 7:return[3,8];case 8:return l=this.queryViewsByTarget[t],this.removeAndCleanupQuery(l),[4,this.localStore.releaseQuery(l.query,!0)];case 9:return a.sent(),this.syncEngineListener.onWatchError(l.query,n),[3,11];case 10:y("Unexpected target state: "+e),a.label=11;case 11:return[2]}var c})})},t.prototype.applyActiveTargetsChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,s,o,l,c,u,h,d=this;return a.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(h=r[n],v(!this.queryViewsByTarget[h],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return v(!!(i=p.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return s=p.sent(),[4,this.initializeViewAndComputeSnapshot(s,!1)];case 4:p.sent(),this.remoteStore.listen(s),p.label=5;case 5:return n++,[3,1];case 6:o=function(t){var e;return a.__generator(this,function(n){switch(n.label){case 0:return(e=l.queryViewsByTarget[t])?[4,l.localStore.releaseQuery(e.query,!1).then(function(){d.remoteStore.unlisten(t),d.removeAndCleanupQuery(e)}).catch(Bn)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},l=this,c=0,u=e,p.label=7;case 7:return c<u.length?(h=u[c],[5,o(h)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Bt().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Bt()},t}(),ki=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Ai="SharedClientState",Di="firestore_clients",Ni="firestore_mutations",Oi="firestore_targets",Pi="firestore_online_state",Ri="firestore_sequence_number",Mi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,v(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new E(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(f(Ai,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Li=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,v(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new E(r.error.code,r.error.message)),i?new t(e,r.state,s):(f(Ai,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Fi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Ut(),o=0;i&&o<r.activeTargetIds.length;++o)i=or(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(f(Ai,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Vi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&n.onlineState in dr&&"string"==typeof n.clientId?new t(n.clientId,dr[n.onlineState]):(f(Ai,"Failed to parse online state: "+e),null)},t}(),Bi=function(){function t(){this.activeTargetIds=Ut()}return t.prototype.addQueryTarget=function(t){v(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ji=function(){function t(e,n,r,i,s){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new E(w.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=s,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Ri+"_"+r,this.activeClients[this.localClientId]=new Bi,this.clientStateKeyRe=new RegExp("^"+Di+"_"+o+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Ni+"_"+o+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Oi+"_"+o+"_(\\d+)$"),this.onlineStateKey=Pi+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return a.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,s,o,l,c,u,h,d=this;return a.__generator(this,function(a){switch(a.label){case 0:return v(!this.started,"WebStorageSharedClientState already started"),v(null!==this.syncEngine,"syncEngine property must be set before calling start()"),v(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(s=Fi.fromWebStorageEntry(r,i))&&(this.activeClients[s.clientId]=s);for(this.persistClientState(),(o=this.storage.getItem(this.onlineStateKey))&&(l=this.fromWebStorageOnlineState(o))&&this.handleOnlineStateEvent(l),c=0,u=this.earlyEvents;c<u.length;c++)h=u[c],this.handleWebStorageEvent(h);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return d.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Ut();return I(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Li.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return m(Ai,"READ",t,e),e},t.prototype.setItem=function(t,e){m(Ai,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){m(Ai,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(m(Ai,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void f("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,r,i,s,o;return a.__generator(this,function(a){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(s=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(s)]}else t.key===this.sequenceNumberKey&&(v(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(o=function(t){var e=ot.INVALID;if(null!=t)try{var n=JSON.parse(t);v("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){f(Ai,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==ot.INVALID&&this.sequenceNumberHandler(o));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Mi(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){var e={clientId:this.localClientId,onlineState:dr[t]};this.storage.setItem(this.onlineStateKey,JSON.stringify(e))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Li(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return v(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Di+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Oi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Ni+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return v(null!==n,"Cannot parse client state key '"+t+"'"),Fi.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);v(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Mi.fromWebStorageEntry(new ki(i),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);v(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Li.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Vi.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(m(Ai,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),s=[],o=[];return i.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return r.has(t)||s.push(t),[2]})})}),r.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return i.has(t)||o.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(s,o)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}();var Ui=function(){function t(){this.localState=new Bi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Bi,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),qi=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return Nn.withCacheSize(this.cacheSizeBytes)},t}(),zi=function(){},$i=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=G.newId()}return t.prototype.start=function(t){var e=this;this.verifyNotTerminated();var n=new dt,r=new dt,i=!1;return this.credentials.setChangeListener(function(s){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(s)}):(i=!0,e.initializePersistence(t,r,s).then(function(t){return e.initializeRest(s,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof qi?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof E?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code||11===t.code)},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new E(w.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=Vn.buildStoragePrefix(this.databaseInfo),i=new fi(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return a.__awaiter(n,void 0,void 0,function(){var n,s;return a.__generator(this,function(o){switch(o.label){case 0:if(e.synchronizeTabs&&!ji.isAvailable(this.platform))throw new E(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.lruParams(),this.sharedClientState=e.synchronizeTabs?new ji(this.asyncQueue,this.platform,r,this.clientId,t):new Ui,[4,Vn.createIndexedDbPersistence({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return s=o.sent(),this.persistence=s,[2,s.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Xn.createEagerPersistence(this.clientId),this.sharedClientState=new Ui,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return m("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return a.__awaiter(n,void 0,void 0,function(){var n,i,s,o,l,c=this;return a.__generator(this,function(u){switch(u.label){case 0:return this.localStore=new Kn(this.persistence,t),e&&(this.lruScheduler=new On(e,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),s=new yr(this.asyncQueue,r,this.credentials,i),o=function(t){return c.syncEngine.applyOnlineStateChange(t,pr.RemoteStore)},l=function(t){return c.syncEngine.applyOnlineStateChange(t,pr.SharedClientState)},this.remoteStore=new jr(this.localStore,s,this.asyncQueue,o,n),this.syncEngine=new Ii(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=l,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new yi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return u.sent(),[4,this.remoteStore.start()];case 2:return u.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return a.__awaiter(c,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return u.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return a.__awaiter(c,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})})];case 4:return u.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),m("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.terminate=function(){var t=this;return this.asyncQueue.enqueueAndInitiateShutdown(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.waitForPendingWrites=function(){var t=this;this.verifyNotTerminated();var e=new dt;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.registerPendingWritesCallback(e)}),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotTerminated();var i=new vi(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.clientTerminated||this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof ze)return t;if(t instanceof $e)return null;throw new E(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Bt(),r=new Ei(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this;this.verifyNotTerminated();var n=new dt;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.addSnapshotsInSyncListener=function(t){var e=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.addSnapshotsInSyncListener(t),Promise.resolve()})},t.prototype.removeSnapshotsInSyncListener=function(t){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(t)},Object.defineProperty(t.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.verifyNotTerminated();var n=new dt;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.runTransaction(e.asyncQueue,t,n),Promise.resolve()}),n.promise},t}(),Hi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Wi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+K(r,"element")+".")}("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(P("FieldPath","string",n,t[n]),0===t[n].length)throw new E(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ut.keyField().canonicalString()),t}(),Ki=new RegExp("[~\\*/\\[\\]]");var Gi=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}},Qi=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(ki.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){v(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Yi=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.currentUser=ki.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;v(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new E(w.ABORTED,"getToken aborted due to token change.");return n?(v("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Gi(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(this.currentUser)},t.prototype.removeChangeListener=function(){v(null!=this.tokenListener,"removeChangeListener() called twice"),v(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return v(null===t||"string"==typeof t,"Received invalid UID: "+t),new ki(t)},t}(),Xi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=ki.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),Zi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Xi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(ki.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ji(t){if(!t)return new Qi;switch(t.type){case"gapi":var e=t.client;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Zi(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new E(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function ts(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t,["next","error","complete"])}var es,ns=function(){function t(t){this._methodName=t}return t.delete=function(){return A("FieldValue.delete",arguments),rs.instance},t.serverTimestamp=function(){return A("FieldValue.serverTimestamp",arguments),is.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("FieldValue.arrayUnion",arguments,1),new ss(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("FieldValue.arrayRemove",arguments,1),new os(t)},t.increment=function(t){return P("FieldValue.increment","number",1,t),D("FieldValue.increment",arguments,1),new as(t)},t.prototype.isEqual=function(t){return this===t},t}(),rs=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return a.__extends(e,t),e.instance=new e,e}(ns),is=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(e,t),e.instance=new e,e}(ns),ss=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return a.__extends(e,t),e}(ns),os=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return a.__extends(e,t),e}(ns),as=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return a.__extends(e,t),e}(ns),ls=C(ns,"Use FieldValue.<field>() instead."),cs=/^__.*__$/,us=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new Ce(t,this.data,this.fieldMask,e)):n.push(new Ee(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new xe(t,this.fieldTransforms)),n},t}(),hs=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new Ce(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new xe(t,this.fieldTransforms)),n},t}();function ds(t){switch(t){case es.Set:case es.MergeSet:case es.Update:return!0;case es.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+t)}}!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument"}(es||(es={}));var ps=function(){function t(t,e,n,r,i,s){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=s||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new E(w.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(ds(this.dataSource)&&cs.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),ms=function(t,e){this.databaseId=t,this.key=e},fs=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new ps(es.Set,t,ut.EMPTY_PATH);ys("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new us(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new ps(es.MergeSet,t,ut.EMPTY_PATH);ys("Data must be an object, but it was:",r,e);var i,s,o=this.parseData(e,r);if(n){for(var a=new At(ut.comparator),l=0,c=n;l<c.length;l++){var u=c[l],h=void 0;if(u instanceof Wi)h=u._internalPath;else{if("string"!=typeof u)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=_s(t,u)}if(!r.contains(h))throw new E(w.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}i=fe.fromSet(a),s=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=fe.fromArray(r.fieldMask),s=r.fieldTransforms;return new us(o,i,s)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new ps(es.Update,t,ut.EMPTY_PATH);ys("Data must be an object, but it was:",r,e);var i=new At(ut.comparator),s=je.EMPTY;I(e,function(e,o){var a=_s(t,e),l=r.childContextForFieldPath(a);if((o=n.runPreConverter(o,l))instanceof rs)i=i.add(a);else{var c=n.parseData(o,l);null!=c&&(i=i.add(a),s=s.set(a,c))}});var o=fe.fromSet(i);return new hs(s,o,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new ps(es.Update,t,ut.EMPTY_PATH),s=[vs(t,e)],o=[n];if(r.length%2!=0)throw new E(w.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)s.push(vs(t,r[a])),o.push(r[a+1]);var l=new At(ut.comparator),c=je.EMPTY;for(a=0;a<s.length;++a){var u=s[a],h=i.childContextForFieldPath(u),d=this.runPreConverter(o[a],h);if(d instanceof rs)l=l.add(u);else{var p=this.parseData(d,h);null!=p&&(l=l.add(u),c=c.set(u,p))}}var m=fe.fromSet(l);return new hs(c,m,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new ps(es.Argument,t,ut.EMPTY_PATH),r=this.parseData(e,n);return v(null!=r,"Parsed data should not be null."),v(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=bs(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(gs(t=this.runPreConverter(t,e)))return ys("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof ns)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new St(Q);return k(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):I(t,function(t,i){var s=n.parseData(i,e.childContextForField(t));null!=s&&(r=r.insert(t,s))}),new je(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=s[i],a=this.parseData(o,e.childContextForArray(r));null==a&&(a=ke.INSTANCE),n.push(a),r++}return new Ue(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!ds(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof rs){if(e.dataSource!==es.MergeSet)throw e.dataSource===es.Update?(v(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof is)e.fieldTransforms.push(new ge(e.path,ni.instance));else if(t instanceof ss){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ri(n);e.fieldTransforms.push(new ge(e.path,r))}else if(t instanceof os){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new ii(n);e.fieldTransforms.push(new ge(e.path,i))}else if(t instanceof as){var s=this.parseQueryValue("FieldValue.increment",t._operand),o=new si(s);e.fieldTransforms.push(new ge(e.path,o))}else y("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return ke.INSTANCE;if("number"==typeof t)return or(t)?new Oe(t):new Pe(t);if("boolean"==typeof t)return Ae.of(t);if("string"==typeof t)return new Re(t);if(t instanceof Date)return new Me(Ct.fromDate(t));if(t instanceof Ct)return new Me(new Ct(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof Ur)return new Be(t);if(t instanceof et)return new Fe(t);if(t instanceof ms)return new Ve(t.databaseId,t.key);throw e.createError("Unsupported field value: "+q(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new ps(es.Argument,t,ut.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function gs(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Ur||t instanceof et||t instanceof ms||t instanceof ns)}function ys(t,e,n){if(!gs(n)||!U(n)){var r=q(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function vs(t,e){if(e instanceof Wi)return e._internalPath;if("string"==typeof e)return _s(t,e);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function _s(t,e){try{return function(t){if(t.search(Ki)>=0)throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Wi.bind.apply(Wi,[void 0].concat(t.split("."))))}catch(e){throw new E(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=bs(r);throw new E(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function bs(t){return t instanceof Error?t.message:t.toString()}var ws="firestore.googleapis.com",Es=!0,Cs=!0,xs=!1,Ss=Nn.COLLECTION_DISABLED,Ts=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new E(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ws,this.ssl=Es}else M("settings","non-empty string","host",t.host),this.host=t.host,L("settings","boolean","ssl",t.ssl),this.ssl=S(t.ssl,Es);if($("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),L("settings","object","credentials",t.credentials),this.credentials=t.credentials,L("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?f("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&f("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=S(t.timestampsInSnapshots,Cs),L("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Nn.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Ss&&t.cacheSizeBytes<Nn.MINIMUM_CACHE_SIZE_BYTES)throw new E(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Nn.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?xs:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Is=function(){function t(e){var n=this;if(this._firebaseApp=null,this._queue=new mt,this.INTERNAL={delete:function(){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof e.options){var r=e;this._firebaseApp=r,this._databaseId=t.databaseIdFromApp(r),this._persistenceKey=r.name,this._credentials=new Yi(r)}else{var i=e;if(!i.projectId)throw new E(w.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new st(i.projectId,i.database),this._persistenceKey="[DEFAULT]",this._credentials=new Qi}this._settings=new Ts({}),this._dataConverter=this.createDataConverter(this._databaseId)}return t.prototype.settings=function(t){if(D("Firestore.settings",arguments,1),P("Firestore.settings","object",1,t),x(t,"persistence"))throw new E(w.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Ts(t);if(this._firestoreClient&&!this._settings.isEqual(e))throw new E(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=e,void 0!==e.credentials&&(this._credentials=Ji(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new E(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&f("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=S(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new qi(this._settings.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=Vn.buildStoragePrefix(this.makeDatabaseInfo()),n=new dt;return this._queue.enqueueAndForgetEvenAfterShutdown(function(){return a.__awaiter(t,void 0,void 0,function(){var t;return a.__generator(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new E(w.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Vn.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},t.prototype._onSnapshotsInSync=function(t){if(this.ensureClientConfigured(),ts(t))return this.onSnapshotsInSyncInternal(t);P("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.onSnapshotsInSyncInternal(e)},t.prototype.onSnapshotsInSyncInternal=function(t){var e=this,n=new Hi({next:function(){t.next&&t.next()},error:function(t){throw y("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),e._firestoreClient.removeSnapshotsInSyncListener(n)}},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new zi),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new rt(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},t.prototype.configureClient=function(t){v(!!this._settings.host,"FirestoreSettings.host is not set"),v(!this._firestoreClient,"configureClient() called multiple times");var e=this.makeDatabaseInfo();return this._firestoreClient=new $i(_.getPlatform(),e,this._credentials,this._queue),this._firestoreClient.start(t)},t.prototype.createDataConverter=function(t){return new fs(function(e){if(e instanceof Ds){var n=t,r=e.firestore._databaseId;if(!r.isEqual(n))throw new E(w.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new ms(t,e._key)}return e})},t.databaseIdFromApp=function(t){var e=t.options;if(!x(e,"projectId"))throw new E(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new E(w.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new st(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._firebaseApp)throw new E(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return D("Firestore.collection",arguments,1),P("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Ls(lt.fromString(t),this)},t.prototype.doc=function(t){return D("Firestore.doc",arguments,1),P("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Ds.forPath(lt.fromString(t),this)},t.prototype.collectionGroup=function(t){if(D("Firestore.collectionGroup",arguments,1),P("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new E(w.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Rs(new qr(lt.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return D("Firestore.runTransaction",arguments,1),P("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new ks(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new As(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return y("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(D("Firestore.setLogLevel",arguments,1),P("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(i.DEBUG);break;case"error":p(i.ERROR);break;case"silent":p(i.SILENT);break;default:throw new E(w.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},t}(),ks=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;D("Transaction.get",arguments,1);var n=js("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return y("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof $e)return new Os(e._firestore,n._key,null,!1,!1);if(r instanceof ze)return new Os(e._firestore,n._key,r,!1,!1);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){O("Transaction.set",arguments,2,3);var r=js("Transaction.set",t,this._firestore),i=(n=Fs("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof Wi?(N("Transaction.update",arguments,3),r=js("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,s)):(D("Transaction.update",arguments,2),r=js("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){D("Transaction.delete",arguments,1);var e=js("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),As=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){O("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=js("WriteBatch.set",t,this._firestore),i=(n=Fs("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,be.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Wi?(N("WriteBatch.update",arguments,3),r=js("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,s)):(D("WriteBatch.update",arguments,2),r=js("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,be.exists(!0))),this},t.prototype.delete=function(t){D("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=js("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Se(e._key,be.NONE)),this},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new E(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ds=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new E(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ht(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ls(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(D("DocumentReference.collection",arguments,1),P("DocumentReference.collection","non-empty string",1,t),!t)throw new E(w.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=lt.fromString(t);return new Ls(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){O("DocumentReference.set",arguments,1,2);var n=(e=Fs("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,be.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Wi?(N("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(D("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,be.exists(!0)))},t.prototype.delete=function(){return D("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Se(this._key,be.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];O("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||ts(t[i])||($("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var s={includeMetadataChanges:r.includeMetadataChanges};return ts(t[i])?n=t[i]:(P("DocumentReference.onSnapshot","function",i,t[i]),R("DocumentReference.onSnapshot","function",i+1,t[i+1]),R("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(s,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Hi({next:function(t){if(e.next){v(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Os(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),s=this._firestoreClient.listen(qr.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(s)}},t.prototype.get=function(t){var e=this;return O("DocumentReference.get",arguments,0,1),Bs("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new Os(e.firestore,e._key,t,!0,t instanceof ze&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new E(w.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new E(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),Ns=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Os=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return O("DocumentSnapshot.data",arguments,0,1),t=Vs("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data(),Te.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(O("DocumentSnapshot.get",arguments,1,2),e=Vs("DocumentSnapshot.get",e),this._document){var n=this._document.data().field(vs("DocumentSnapshot.get",t));if(null!==n)return this.convertValue(n,Te.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ds(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ns(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof je)return this.convertObject(t,e);if(t instanceof Ue)return this.convertArray(t,e);if(t instanceof Ve){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||f("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Ds(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),Ps=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return v("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Os),Rs=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){if(D("Query.where",arguments,3),z("Query.where",3,r),"in"!==n&&"array-contains-any"!==n){var i=["<","<=","==",">=",">","array-contains"];B("Query.where",i,2,n)}var s,o=vs("Query.where",e),a=$r.fromString(n);if(o.isKeyField()){if(a===$r.ARRAY_CONTAINS||a===$r.ARRAY_CONTAINS_ANY)throw new E(w.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===$r.IN){this.validateDisjunctiveFilterElements(r,a);for(var l=[],c=0,u=r;c<u.length;c++){var h=u[c];l.push(this.parseDocumentIdValue(h))}s=new Ue(l)}else s=this.parseDocumentIdValue(r)}else a!==$r.IN&&a!==$r.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,a),s=this.firestore._dataConverter.parseQueryValue("Query.where",r);var d=Hr.create(o,a,s);return this.validateNewFilter(d),new t(this._query.addFilter(d),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(O("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Xr.ASCENDING;else{if("desc"!==n)throw new E(w.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Xr.DESCENDING}if(null!==this._query.startAt)throw new E(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new E(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=vs("Query.orderBy",e),s=new Jr(i,r);return this.validateNewOrderBy(s),new t(this._query.addOrderBy(s),this.firestore)},t.prototype.limit=function(e){if(D("Query.limit",arguments,1),P("Query.limit","number",1,e),e<=0)throw new E(w.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(z(t,1,e),e instanceof Os){if(n.length>0)throw new E(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new E(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var s=[e].concat(n);return this.boundFromFields(t,s,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,s=this._query.orderBy;i<s.length;i++){var o=s[i];if(o.field.isKeyField())r.push(new Ve(this.firestore._databaseId,e.key));else{var a=e.field(o.field);if(a instanceof Le)throw new E(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var l=o.field.canonicalString();throw new E(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}r.push(a)}}return new Zr(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new E(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],s=0;s<e.length;s++){var o=e[s];if(r[s].field.isKeyField()){if("string"!=typeof o)throw new E(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof o);if(!this._query.isCollectionGroupQuery()&&-1!==o.indexOf("/"))throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+o+"' contains a slash.");var a=this._query.path.child(lt.fromString(o));if(!ht.isDocumentKey(a))throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var l=new ht(a);i.push(new Ve(this.firestore._databaseId,l))}else{var c=this.firestore._dataConverter.parseQueryValue(t,o);i.push(c)}}return new Zr(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];O("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||ts(t[i])||($("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),ts(t[i])?n=t[i]:(P("Query.onSnapshot","function",i,t[i]),R("Query.onSnapshot","function",i+1,t[i+1]),R("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Hi({next:function(t){e.next&&e.next(new Ms(n.firestore,n._query,t))},error:r}),s=this.firestore.ensureClientConfigured(),o=s.listen(this._query,i,t);return function(){i.mute(),s.unlisten(o)}},t.prototype.get=function(t){var e=this;return O("Query.get",arguments,0,1),Bs("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Ms(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new E(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.parseDocumentIdValue=function(t){if("string"==typeof t){if(""===t)throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==t.indexOf("/"))throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this._query.path.child(lt.fromString(t));if(!ht.isDocumentKey(e))throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new Ve(this.firestore._databaseId,new ht(e))}if(t instanceof Ds){var n=t;return new Ve(this.firestore._databaseId,n._key)}throw new E(w.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+q(t)+".")},t.prototype.validateDisjunctiveFilterElements=function(t,e){if(!Array.isArray(t)||0===t.length)throw new E(w.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new E(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new E(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter(function(t){return Number.isNaN(t)}).length>0)throw new E(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.validateNewFilter=function(t){if(t instanceof Hr){var e=[$r.ARRAY_CONTAINS,$r.ARRAY_CONTAINS_ANY],n=[$r.IN,$r.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.isInequality()){var s=this._query.getInequalityFilterField();if(null!==s&&!s.isEqual(t.field))throw new E(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+s.toString()+"' and '"+t.field.toString()+"'");var o=this._query.getFirstOrderByField();null!==o&&this.validateOrderByAndInequalityMatch(t.field,o)}else if(i||r){var a=null;if(i&&(a=this._query.findFilterOperator(n)),null===a&&r&&(a=this._query.findFilterOperator(e)),null!=a)throw a===t.op?new E(w.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new E(w.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new E(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Ms=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Ns(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;O("QuerySnapshot.forEach",arguments,1,2),P("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Rs(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&($("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new E(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var s=new Ps(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return v(e.type===xr.Added,"Invalid event type for first snapshot"),v(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:s,oldIndex:-1,newIndex:i++}})}var s=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==xr.Metadata}).map(function(e){var r=new Ps(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,o=-1;return e.type!==xr.Added&&(v((i=s.indexOf(e.doc.key))>=0,"Index for document not found"),s=s.delete(e.doc.key)),e.type!==xr.Removed&&(o=(s=s.add(e.doc)).indexOf(e.doc.key)),{type:Us(e.type),doc:r,oldIndex:i,newIndex:o}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw H("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Ps(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Ms.prototype.docChanges,t,{get:function(){return function(){throw new E(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Ls=function(t){function e(e,n){var r=t.call(this,qr.atPath(e),n)||this;if(e.length%2!=1)throw new E(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return a.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Ds(new ht(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(O("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=G.newId()),P("CollectionReference.doc","non-empty string",1,t),""===t)throw new E(w.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=lt.fromString(t);return Ds.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){D("CollectionReference.add",arguments,1),P("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Rs);function Fs(t,e){if(void 0===e)return{merge:!1};if($(t,e,["merge","mergeFields"]),L(t,"boolean","merge",e.merge),F(t,"mergeFields","a string or a FieldPath",e.mergeFields,function(t){return"string"==typeof t||t instanceof Wi}),void 0!==e.mergeFields&&void 0!==e.merge)throw new E(w.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Vs(t,e){return void 0===e?{}:($(t,e,["serverTimestamps"]),V(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Bs(t,e){R(t,"object",1,e),e&&($(t,e,["source"]),V(t,0,"source",e.source,["default","server","cache"]))}function js(t,e,n){if(e instanceof Ds){if(e.firestore!==n)throw new E(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw H(t,"DocumentReference",1,e)}function Us(t){switch(t){case xr.Added:return"added";case xr.Modified:case xr.Metadata:return"modified";case xr.Removed:return"removed";default:return y("Unknown change type: "+t)}}var qs=C(Is,"Use firebase.firestore() instead."),zs=C(ks,"Use firebase.firestore().runTransaction() instead."),$s=C(As,"Use firebase.firestore().batch() instead."),Hs=C(Ds,"Use firebase.firestore().doc() instead."),Ws=C(Os),Ks=C(Ps),Gs=C(Rs),Qs=C(Ms),Ys=C(Ls,"Use firebase.firestore().collection() instead."),Xs={Firestore:qs,GeoPoint:Ur,Timestamp:Ct,Blob:nt,Transaction:zs,WriteBatch:$s,DocumentReference:Hs,DocumentSnapshot:Ws,Query:Gs,QueryDocumentSnapshot:Ks,QuerySnapshot:Qs,CollectionReference:Ys,FieldPath:Wi,FieldValue:ls,setLogLevel:Is.setLogLevel,CACHE_SIZE_UNLIMITED:Ss};function Zs(t){t.INTERNAL.registerService("firestore",function(t){return new Is(t)},function(t){v(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Xs))}var Js=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.shutdown=function(){},t}(),to=function(){function t(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return t.prototype.addCallback=function(t){this.callbacks.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},t.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},t.prototype.onNetworkAvailable=function(){m("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++){(0,e[t])(0)}},t.prototype.onNetworkUnavailable=function(){m("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++){(0,e[t])(1)}},t.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),eo=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){v(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){v(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){v(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){v(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){v(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){v(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),no="Connection",ro={BatchGetDocuments:"batchGet",Commit:"commit"},io="gl-js/ fire/"+u,so=function(){function t(t){this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=io},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(s,o){var a=new c.XhrIo;a.listenOnce(c.EventType.COMPLETE,function(){try{switch(a.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=a.getResponseJson();m(no,"XHR received:",JSON.stringify(e)),s(e);break;case c.ErrorCode.TIMEOUT:m(no,'RPC "'+t+'" timed out'),o(new E(w.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(m(no,'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=(l=r.status,u=l.toLowerCase().replace("_","-"),Object.values(w).indexOf(u)>=0?u:w.UNKNOWN);o(new E(i,r.message))}else o(new E(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else m(no,'RPC "'+t+'" failed'),o(new E(w.UNAVAILABLE,"Connection failed."));break;default:y('RPC "'+t+'" failed with unanticipated webchannel error '+a.getLastErrorCode()+": "+a.getLastError()+", giving up.")}}finally{m(no,'RPC "'+t+'" completed.')}var l,u});var l=JSON.stringify(e);m(no,"XHR sending: ",i+" "+l);var u={"Content-Type":"text/plain"};r.modifyHeadersForRequest(u,n),a.send(i,"POST",l,u,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=c.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),l.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");m(no,"Creating WebChannel: "+s+" "+i);var o=r.createWebChannel(s,i),a=!1,u=!1,h=new eo({sendFn:function(t){u?m(no,"Not sending because WebChannel is closed:",t):(a||(m(no,"Opening WebChannel transport."),o.open(),a=!0),m(no,"WebChannel sending:",t),o.send(t))},closeFn:function(){return o.close()}}),d=function(t,e){o.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return d(c.WebChannel.EventType.OPEN,function(){u||m(no,"WebChannel transport opened.")}),d(c.WebChannel.EventType.CLOSE,function(){u||(u=!0,m(no,"WebChannel transport closed"),h.callOnClose())}),d(c.WebChannel.EventType.ERROR,function(t){u||(u=!0,m(no,"WebChannel transport errored:",t),h.callOnClose(new E(w.UNAVAILABLE,"The operation could not be completed")))}),d(c.WebChannel.EventType.MESSAGE,function(t){if(!u){var e=t.data[0];v(!!e,"Got a webchannel message without data.");var n=e,r=n.error||n[0]&&n[0].error;if(r){m(no,"WebChannel received error:",r);var i=r.status,s=function(t){var e=_r[t];if(void 0!==e)return Er(e)}(i),a=r.message;void 0===s&&(s=w.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),u=!0,h.callOnClose(new E(s,a)),o.close()}else m(no,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},t.prototype.makeUrl=function(t){var e=ro[t];v(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}(),oo=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new so(t))},t.prototype.newConnectivityMonitor=function(){return to.isAvailable()?new to:new Js},t.prototype.newSerializer=function(t){return new fi(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();function ao(t){Zs(t)}_.setPlatform(new oo),ao(s),e.registerFirestore=ao},C25i:function(t,e,n){"use strict";n.r(e),e.default='* {\n  font-family: "BebasNeueRegular", sans-serif;\n  letter-spacing: 0.05em;\n  color: #ffff;\n}\n\nh1 {\n  text-align: center;\n  margin-top: 2em;\n}\n\n.container {\n  margin-top: 2em;\n  margin-left: 5em;\n  margin-right: 5em;\n  display: flex;\n  flex-flow: column;\n}\n\n.container .result-con {\n  display: flex;\n  flex-direction: row;\n  height: 120px;\n  border-radius: 5px;\n  width: 50%;\n  align-self: center;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5em;\n  background-color: #1f1f1f;\n  padding: 1em;\n}\n\n.container .result-con img {\n  height: 100px;\n  width: 70px;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\n.container .result-con h2 {\n  margin: 0;\n  text-align: center;\n}\n\n@media (max-width: 1100px) {\n  .result-con {\n    width: 100% !important;\n  }\n}\n\n@media (max-width: 600px) {\n  .container {\n    margin-left: 0;\n    margin-right: 0;\n  }\n}'},KEbp:function(t,e,n){"use strict";n.r(e),e.default="* {\n  font-family: \"BebasNeueRegular\", sans-serif;\n  letter-spacing: 0.05em;\n  color: #ffff;\n}\n\n.container {\n  height: 100vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: url('SM_BG.82efd50fab1ec7f3710a.png') no-repeat center center fixed;\n  background-size: cover;\n}\n\n.container mat-tab-group {\n  height: 500px;\n  width: 40%;\n  background-color: #1f1f1f;\n  border-radius: 5px;\n  padding: 1em;\n  opacity: 0.9;\n}\n\n.container mat-tab-group .login {\n  display: flex;\n  height: 400px;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.container mat-tab-group .login h1 {\n  margin-top: 2em;\n}\n\n.container mat-tab-group .login mat-form-field {\n  width: 80%;\n  margin: 0.5em;\n}\n\n.container mat-tab-group .login button {\n  margin-top: 1em;\n}\n\n.container mat-tab-group .login .fpw {\n  cursor: pointer;\n}\n\n.container mat-tab-group .register {\n  display: flex;\n  height: 400px;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.container mat-tab-group .register h1 {\n  margin-top: 2em;\n}\n\n.container mat-tab-group .register mat-form-field {\n  width: 80%;\n  margin: 0.5em;\n}\n\n.container mat-tab-group .register button {\n  margin-top: 1em;\n}\n\n@media (max-width: 768px) {\n  mat-tab-group {\n    width: 100% !important;\n  }\n}"},O4L0:function(t,e,n){"use strict";n.r(e),e.default='\x3c!-- Seasonal Page --\x3e\n<div class="main" style="padding-top: 64px">\n  <div class="nav mat-elevation-z4">\n    <h1>Seasonal Anime</h1>\n    <h2 class="season">{{ selectedSeason }} {{ selectedYear }}</h2>\n    <div class="sub">\n      <div class="select">\n        <mat-form-field>\n          <mat-select\n            placeholder="Season"\n            [(ngModel)]="selectedSeason"\n            (ngModelChange)="getUserInput($event)"\n          >\n            <mat-option *ngFor="let season of seasons" [value]="season.value">{{\n              season.season\n            }}</mat-option>\n          </mat-select>\n        </mat-form-field>\n        <mat-form-field>\n          <mat-select\n            placeholder="Year"\n            [(ngModel)]="selectedYear"\n            (ngModelChange)="getUserInput($event)"\n          >\n            <mat-option\n              *ngFor="let year of years.availableYears | reverse"\n              [value]="year.id"\n            >\n              {{ year.id }}</mat-option\n            >\n          </mat-select>\n        </mat-form-field>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- TV Shows  --\x3e\n  <div class="category">\n    <div class="heading">\n      <h1>Tv</h1>\n    </div>\n    <mat-divider></mat-divider>\n    <div>\n      <div class="cards" *ngIf="data">\n        <ng-container *ngFor="let info of data.anime">\n          <ng-container *ngIf="info.r18 != true && info.type == \'TV\'">\n            <mat-card (click)="toDetailPage(info)" class="mat-elevation-z6">\n              <h1 class="name mat-h1">{{ info.title }}</h1>\n              <h1 class="score mat-h2">\n                {{ info.score || "X" }}<mat-icon class="mat-h2">star</mat-icon>\n              </h1>\n              <div class="info">\n                <ng-container *ngFor="let prod of info.producers">\n                  <h1 class="mat-h4">{{ prod.name }}</h1>\n                </ng-container>\n                <h1 class="mat-h4">{{ info.episodes || "X" }} Eps.</h1>\n                <h1 class="mat-h4">{{ info.source }}</h1>\n              </div>\n              <div class="chips">\n                <ng-container *ngFor="let chip of info.genres">\n                  <div class="mat-h5 chip">{{ chip.name }}</div>\n                </ng-container>\n              </div>\n              <div class="main-content">\n                <img src="{{ info.image_url }}" alt="" />\n                <p class="mat-h3">\n                  {{ info.synopsis }}\n                </p>\n              </div>\n            </mat-card>\n          </ng-container>\n        </ng-container>\n      </div>\n    </div>\n\n    \x3c!-- Movies --\x3e\n    <div class="category">\n      <div class="heading">\n        <h1>Movies</h1>\n      </div>\n      <mat-divider></mat-divider>\n      <div>\n        <div class="cards" *ngIf="data">\n          <ng-container *ngFor="let info of data.anime">\n            <ng-container *ngIf="info.r18 != true && info.type == \'Movie\'">\n              <mat-card (click)="toDetailPage(info)" class="mat-elevation-z6">\n                <h1 class="name mat-h1">{{ info.title }}</h1>\n                <h1 class="score mat-h2">\n                  {{ info.score || "8.32"\n                  }}<mat-icon class="mat-h2">star</mat-icon>\n                </h1>\n                <div class="info">\n                  <ng-container *ngFor="let prod of info.producers">\n                    <h1 class="mat-h4">{{ prod.name }}</h1>\n                  </ng-container>\n                  <h1 class="mat-h4">{{ info.episodes || "X" }} Eps.</h1>\n                  <h1 class="mat-h4">{{ info.source }}</h1>\n                </div>\n                <div class="chips">\n                  <ng-container *ngFor="let chip of info.genres">\n                    <div class="mat-h5 chip">{{ chip.name }}</div>\n                  </ng-container>\n                </div>\n                <div class="main-content">\n                  <img src="{{ info.image_url }}" alt="" />\n                  <p class="mat-h3">\n                    {{ info.synopsis }}\n                  </p>\n                </div>\n              </mat-card>\n            </ng-container>\n          </ng-container>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<app-footer></app-footer>\n'},Q6ZC:function(t,e,n){"use strict";n.r(e),e.default='* {\n  font-family: "BebasNeueRegular", sans-serif;\n  letter-spacing: 0.05em;\n  color: #ffff;\n}\n\n.nav {\n  height: 150px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n}\n\n.nav h1 {\n  margin-left: 2em;\n}\n\n.nav .sub {\n  display: flex;\n  width: 80%;\n  align-items: center;\n}\n\n.nav .sub .select {\n  display: flex;\n  width: 80%;\n  justify-content: flex-end;\n}\n\n.nav .sub .select mat-form-field {\n  margin: 1em;\n}\n\n.nav .sub .select mat-form-field .mat-select-panel {\n  background: #4e4e50;\n}\n\n.nav .sub .season {\n  text-align: start;\n  margin-left: 2em;\n  margin-bottom: 0px;\n}\n\n.heading {\n  margin: 3em;\n  text-align: center;\n}\n\n.cards {\n  display: grid;\n  grid-auto-rows: 450px;\n  gap: 2em;\n  grid-template-columns: repeat(2, 500px);\n  justify-content: center;\n  margin-top: 2em;\n}\n\n.cards h1 {\n  margin-bottom: 0;\n}\n\n.cards mat-card {\n  background-color: #1f1f1f;\n  display: grid;\n  grid-template-rows: 1fr 0.5fr 0.5fr 0.5fr 250px;\n}\n\n.cards mat-card .name {\n  grid-row: 1;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\n\n.cards mat-card .score {\n  grid-row: 2;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.cards mat-card .score mat-icon {\n  margin-bottom: 0;\n}\n\n.cards mat-card .info {\n  grid-row: 3;\n  display: flex;\n  height: 100%;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n\n.cards mat-card .info h1 {\n  margin-left: 10px;\n  margin-right: 10px;\n}\n\n.cards mat-card .chips {\n  grid-row: 4;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n}\n\n.cards mat-card .chips .chip {\n  margin: 1em;\n}\n\n.cards mat-card .main-content {\n  grid-row: 5;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  height: 250px;\n  justify-content: space-evenly;\n}\n\n.cards mat-card .main-content img {\n  grid-column: 1;\n  height: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n  width: 100%;\n  margin-right: 8px;\n}\n\n.cards mat-card .main-content p {\n  grid-column: 2;\n  font-family: "Roboto", sans-serif;\n  margin-left: 8px;\n  overflow-x: scroll;\n  margin-bottom: 0px;\n  line-height: normal;\n}\n\n@media (max-width: 510px) {\n  .nav {\n    height: 300px;\n    flex-flow: column nowrap;\n    justify-content: space-evenly;\n    width: 100%;\n  }\n  .nav h1 {\n    text-align: center;\n    margin-left: 0;\n    margin-top: 15px;\n  }\n  .nav .sub {\n    justify-content: center;\n  }\n  .nav .select {\n    flex-flow: row wrap;\n    width: 100%;\n    justify-content: center !important;\n  }\n\n  .cards {\n    grid-template-columns: 350px !important;\n    grid-auto-rows: 500px;\n  }\n  .cards .name {\n    flex-flow: wrap;\n  }\n  .cards .chips {\n    flex-flow: wrap;\n  }\n}\n\n@media (max-width: 1100px) {\n  .nav {\n    height: 300px;\n    flex-flow: column nowrap;\n    justify-content: space-evenly;\n    width: 100%;\n  }\n  .nav h1 {\n    text-align: center;\n    margin-left: 0;\n    margin-top: 15px;\n  }\n  .nav .sub {\n    justify-content: center;\n  }\n  .nav .select {\n    flex-flow: row wrap;\n    width: 100%;\n    justify-content: center !important;\n  }\n\n  .cards {\n    grid-template-columns: repeat(1, 500px);\n  }\n}\n\n@media (min-width: 1100px) {\n  .cards {\n    grid-template-columns: repeat(2, 500px);\n  }\n}\n\n@media (min-width: 1600px) {\n  .season {\n    margin-left: 2em;\n  }\n\n  .cards {\n    grid-template-columns: repeat(3, 500px);\n  }\n}'},QEQa:function(t,e,n){"use strict";n.r(e),e.default='\x3c!-- Search page --\x3e\n<div class="main" style="padding-top: 64px">\n  <h1>search:&nbsp; "{{ value }}"</h1>\n  <div class="container">\n    <ng-container *ngIf="!searchRes">\n      <mat-progress-spinner\n        mode="indeterminate"\n        color="accent"\n      ></mat-progress-spinner>\n    </ng-container>\n    <ng-container *ngIf="searchRes">\n      <div\n        class="result-con mat-elevation-z5"\n        *ngFor="let res of searchRes.results"\n        (click)="toDetailPage(res)"\n      >\n        <img src="{{ res.image_url }}" alt="{{ res.title }}" />\n        <h2>{{ res.title }}</h2>\n        <h2>\n          {{ res.score }}\n        </h2>\n      </div>\n    </ng-container>\n  </div>\n</div>\n<app-footer></app-footer>\n'},RPTm:function(t,e,n){"use strict";n.r(e),e.default='<div class="main" style="padding-top: 64px">\n  <div class="container">\n    <div class="bg"></div>\n  </div>\n  <div class="content">\n    <div class="profile-container" *ngIf="authService.userData as user">\n      <div class="profile mat-elevation-z4">\n        <div class="pf-img">\n          <img\n            src="{{ user.photoURL || \'user.png\' }}"\n            alt=""\n          />\n        </div>\n        <div class="pf-info">\n          <div class="email">\n            <p>email:</p>\n            <h1>{{ user.email }}</h1>\n          </div>\n          <div class=" username">\n            <p>username:</p>\n            <h1>{{ user.displayName || "not set" }}</h1>\n          </div>\n        </div>\n        <button mat-icon-button (click)="openDialog()">\n          <mat-icon>build</mat-icon>\n        </button>\n      </div>\n    </div>\n    <div class=" lists" *ngIf="bmService.bmData as bookmarks">\n      <h1>your anime list</h1>\n      <div *ngFor="let bm of bookmarks">\n        <mat-card class="mat-elevation-z5">\n          <div (click)="toDetailPage(bm)">\n            <img src="{{ bm.image_url }}" alt="" />\n            <h2>{{ bm.title }}</h2>\n          </div>\n          <button\n            class="btn"\n            #malId\n            (click)="deleteBm(bm.mal_id)"\n            mat-icon-button\n            aria-label="delete button"\n          >\n            <mat-icon>delete</mat-icon>\n          </button>\n        </mat-card>\n      </div>\n    </div>\n  </div>\n</div>\n<app-footer></app-footer>\n'},RPrD:function(t,e,n){"use strict";n.r(e),e.default='\x3c!-- Update profile dialog --\x3e\n<h1 style="text-align: center;" mat-dialog-title>\n    Update your profile info\n</h1>\n<div mat-dialog-content (keyup.enter)="updateUser(userNameUpdate.value, profilePictureUpdate.value)">\n    <mat-form-field>\n        <input matInput placeholder="Username" #userNameUpdate value="{{user.displayName}}">\n    </mat-form-field>\n    <mat-form-field>\n        <input matInput placeholder="Profile Picture URL" #profilePictureUpdate value="{{user.photoURL}}">\n    </mat-form-field>\n</div>\n<div class="btn" mat-dialog-actions>\n    <button mat-stroked-button (click)="deleteUser()">Delete account</button>\n    <button mat-flat-button (click)="updateUser(userNameUpdate.value, profilePictureUpdate.value)">Send</button>\n</div>'},SjYq:function(t,e,n){"use strict";n.r(e),e.default='\x3c!-- This Page will be displayed after a successful registration and promts the user to verify his email address --\x3e\n<div style="padding-top: 64px">\n    <mat-card>\n        <h1>Thank You for Registering</h1>\n        <div class="msg" *ngIf="authService.userData as user">\n            <h1>We have sent a confirmation email to <strong>{{user.email}}</strong>.<br>\n                Please check your email and click on the link to verfiy your email address.\n            </h1>\n        </div>\n        <button mat-flat-button type="button" class="btn btnPrimary" (click)="authService.SendVerificationMail()">\n            Resend Verification Email\n        </button>\n        <button mat-stroked-button routerLink="/login" (click)="authService.SignOut()">Go back to Login</button>\n    </mat-card>\n</div>'},VMY1:function(t,e,n){"use strict";n.r(e),e.default="* {\n  font-family: \"BebasNeueRegular\", sans-serif;\n  letter-spacing: 0.05em;\n  color: #ffff;\n}\n\n.main {\n  height: 100%;\n}\n\n.container {\n  z-index: -1;\n}\n\n.container .bg {\n  z-index: 0;\n  position: absolute;\n  opacity: 0.5;\n  width: 100%;\n  height: 300px;\n  background-image: url('profile_bg.08afa8051a7d18513361.jpg');\n  background-size: cover;\n}\n\n.content {\n  position: relative;\n  top: 200px;\n}\n\n.profile-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.profile-container .profile {\n  z-index: 1;\n  height: 130px;\n  width: 60%;\n  border-radius: 5px;\n  background-color: #1f1f1f;\n  padding: 1em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.profile-container .profile .pf-img {\n  height: 90px;\n  width: 90px;\n  border-radius: 50%;\n}\n\n.profile-container .profile .pf-img img {\n  border-radius: 50%;\n  height: 100%;\n  width: 100%;\n}\n\n.profile-container .profile .pf-info {\n  width: 80%;\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n}\n\n.profile-container .profile .pf-info h1 {\n  font-size: 1.5em;\n}\n\n.profile-container .profile .pf-info p {\n  font-size: 1em;\n  margin-bottom: 5px;\n}\n\n.lists {\n  margin-top: 1em;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\n\n.lists h1 {\n  margin: 1em;\n}\n\n.lists mat-card {\n  margin-bottom: 1em;\n  display: flex;\n  height: 130px;\n  width: 800px;\n  background-color: #1f1f1f;\n  padding: 0;\n}\n\n.lists mat-card div {\n  display: flex;\n  height: 100%;\n  align-items: center;\n}\n\n.lists mat-card div h2 {\n  width: 675px;\n  margin-left: 10px;\n  margin-right: 10px;\n}\n\n.lists mat-card div img {\n  height: 100%;\n  width: 150px;\n  border-radius: 4px 0 0 4px;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\n.lists mat-card .btn {\n  height: 100%;\n  width: 75px;\n}\n\n@media (max-width: 768px) {\n  .container {\n    display: none;\n  }\n\n  .content {\n    top: 0px !important;\n  }\n\n  .profile {\n    padding: 10px;\n    align-items: flex-start;\n    width: 100% !important;\n    height: 300px !important;\n    flex-direction: column;\n    flex-flow: wrap;\n  }\n  .profile .pf-img {\n    order: 1;\n  }\n  .profile .pf-info {\n    order: 3;\n    flex-flow: wrap;\n    margin: 5px;\n  }\n  .profile .pf-info .email {\n    margin-bottom: 15px;\n  }\n  .profile .pf-info .username {\n    margin-bottom: 15px;\n  }\n  .profile button {\n    order: 2;\n  }\n\n  .lists {\n    text-align: center;\n  }\n  .lists mat-card {\n    width: 100vw;\n    height: 150px;\n  }\n  .lists mat-card div {\n    width: 100vw;\n  }\n  .lists mat-card div h2 {\n    font-size: 1.3em;\n    width: -webkit-fit-content;\n    width: -moz-fit-content;\n    width: fit-content;\n  }\n  .lists mat-card div img {\n    width: 80px;\n    height: 150px;\n  }\n}"},VzVu:function(t,e,n){"use strict";n.r(e),e.default="<app-header></app-header>\n<router-outlet></router-outlet>\n"},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},"Zjh+":function(t,e,n){"use strict";n.r(e),e.default='* {\n  font-family: "BebasNeueRegular", sans-serif;\n  letter-spacing: 0.05em;\n  color: #ffff;\n}\n\nh1 {\n  margin: 3em;\n  text-align: center;\n}\n\n.container {\n  padding-left: 2em;\n  padding-right: 2em;\n  justify-content: center;\n  width: 100%;\n  margin-top: 2em;\n  display: grid;\n  grid-template-columns: repeat(5, 15%);\n  grid-auto-rows: 350px;\n  grid-gap: 2em;\n}\n\n.tile-container {\n  background-color: #1f1f1f;\n  border-radius: 5px;\n  height: 350px;\n  cursor: pointer;\n}\n\n.tile-container img {\n  border-radius: 4px 4px 0 0;\n  height: 270px;\n  width: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\n.tile-container h1 {\n  text-align: center;\n  margin: 0;\n  padding-top: 0.5em;\n}\n\n@media (max-width: 510px) {\n  .container {\n    grid-template-columns: 80% !important;\n  }\n}\n\n@media (max-width: 1100px) {\n  .container {\n    grid-template-columns: repeat(3, 30%);\n  }\n}\n\n@media (min-width: 1100px) {\n  .container {\n    grid-template-columns: repeat(5, 15%);\n  }\n}\n\n@media (min-width: 1600px) {\n  .container {\n    grid-template-columns: repeat(8, 10%);\n  }\n}'},aSPh:function(t,e,n){"use strict";n.r(e),e.default='<div class="main">\n  <div class="container">\n    <h2>Welcome to</h2>\n    <h1>Anilab</h1>\n    <form action="">\n      <mat-form-field>\n        <input\n          #box\n          (keyup.enter)="getSearchPara(box.value)"\n          autocomplete="off"\n          placeholder="Search"\n          matInput\n          input="search"\n        />\n      </mat-form-field>\n    </form>\n    <div class="overlay"></div>\n    <div class="bg-img">\n      <div class="img"></div>\n    </div>\n  </div>\n</div>\n'},bPfH:function(t,e,n){"use strict";n.r(e),e.default='<mat-toolbar class="mat-elevation-z3">\n  \x3c!-- Mobile Navigation--\x3e\n  <div class="mobile-menu">\n    <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="icon-button with a menu">\n      <mat-icon>menu</mat-icon>\n    </button>\n    <mat-menu #menu="matMenu">\n      <button mat-menu-item routerLink="/" routerLinkActive="active">\n        <mat-icon>house</mat-icon>\n        <span>Home</span>\n      </button>\n      <button mat-menu-item routerLink="/top-anime" routerLinkActive="active">\n        <mat-icon>trending_up</mat-icon>\n        <span>Top Anime </span>\n      </button>\n      <button mat-menu-item routerLink="/seasonal-anime" routerLinkActive="active">\n        <mat-icon>wb_sunny</mat-icon>\n        <span>Seasonal Anime</span>\n      </button>\n      <button mat-menu-item routerLink="/schedule" routerLinkActive="active">\n        <mat-icon>calendar_today</mat-icon>\n        <span>Schedule</span>\n      </button>\n      <button *ngIf="authService.isLoggedIn" mat-menu-item routerLink="/profile" routerLinkActive="active">\n        <mat-icon>account_circle</mat-icon>\n        <span>Profile</span>\n      </button>\n    </mat-menu>\n  </div>\n  <div class="links">\n    <a routerLink="/" routerLinkActive="active"><img src="ani_logo.png" alt="anilab logo"\n        class="logo" /></a>\n    <a routerLink="/top-anime" routerLinkActive="active">Top Anime</a>\n    <a routerLink="/seasonal-anime" routerLinkActive="active">Seasonal Anime</a>\n    <a routerLink="/schedule" routerLinkActive="active">Schedule</a>\n  </div>\n  <span class="space"></span>\n  <div class="search">\n    <mat-search-bar #box (keyup.enter)="getSearchPara(box.value)" autocomplete="off" placeholder="Search">\n    </mat-search-bar>\n  </div>\n  <a *ngIf="!authService.isLoggedIn" routerLink="/login" routerLinkActive="active">Login</a>\n\n  <ng-container *ngIf="authService.userData as user">\n    <div class="user_con" *ngIf="authService.isLoggedIn">\n      <div class="user" routerLink="/profile" routerLinkActive="active">\n        <img src="{{ user.photoURL || \'user.png\' }}" />\n        <h1>{{ user.displayName }}</h1>\n      </div>\n      <a (click)="authService.SignOut()" routerLinkActive="active">Logout</a>\n    </div>\n  </ng-container>\n</mat-toolbar>'},"c+A3":function(t,e,n){"use strict";n.r(e),e.default='<div class="main" style="padding-top: 64px">\n  \x3c!-- Anime Schedule for the week --\x3e\n  <h1>Monday</h1>\n\n  <div class="container" *ngIf="weekly">\n    <ng-container *ngFor="let mon of weekly.monday">\n      <div\n        class="mat-elevation-z5 tile-container"\n        *ngIf="mon.kids === false"\n        (click)="toDetailPage(mon)"\n      >\n        <img src="{{ mon.image_url }}" alt="" />\n        <h1 class="mat-h3">{{ mon.title }}</h1>\n      </div>\n    </ng-container>\n  </div>\n\n  <h1>Tuesday</h1>\n\n  <div class="container" *ngIf="weekly">\n    <ng-container *ngFor="let tue of weekly.tuesday">\n      <div\n        class="mat-elevation-z5 tile-container"\n        *ngIf="tue.kids === false"\n        (click)="toDetailPage(tue)"\n      >\n        <img src="{{ tue.image_url }}" alt="" />\n        <h1 class="mat-h3">{{ tue.title }}</h1>\n      </div>\n    </ng-container>\n  </div>\n\n  <h1>Wednesday</h1>\n\n  <div class="container" *ngIf="weekly">\n    <ng-container *ngFor="let wed of weekly.wednesday">\n      <div\n        class="mat-elevation-z5 tile-container"\n        *ngIf="wed.kids === false"\n        (click)="toDetailPage(wed)"\n      >\n        <img src="{{ wed.image_url }}" alt="" />\n        <h1 class="mat-h3">{{ wed.title }}</h1>\n      </div>\n    </ng-container>\n  </div>\n\n  <h1>Thursday</h1>\n\n  <div class="container" *ngIf="weekly">\n    <ng-container *ngFor="let thu of weekly.thursday">\n      <div\n        class="mat-elevation-z5 tile-container"\n        *ngIf="thu.kids === false"\n        (click)="toDetailPage(thu)"\n      >\n        <img src="{{ thu.image_url }}" alt="" />\n        <h1 class="mat-h3">{{ thu.title }}</h1>\n      </div>\n    </ng-container>\n  </div>\n\n  <h1>Friday</h1>\n\n  <div class="container" *ngIf="weekly">\n    <ng-container *ngFor="let fri of weekly.friday">\n      <div\n        class="mat-elevation-z5 tile-container"\n        *ngIf="fri.kids === false"\n        (click)="toDetailPage(fri)"\n      >\n        <img src="{{ fri.image_url }}" alt="" />\n        <h1 class="mat-h3">{{ fri.title }}</h1>\n      </div>\n    </ng-container>\n  </div>\n\n  <h1>Saturday</h1>\n\n  <div class="container" *ngIf="weekly">\n    <ng-container *ngFor="let sat of weekly.saturday">\n      <div\n        class="mat-elevation-z5 tile-container"\n        *ngIf="sat.kids === false"\n        (click)="toDetailPage(sat)"\n      >\n        <img src="{{ sat.image_url }}" alt="" />\n        <h1 class="mat-h3">{{ sat.title }}</h1>\n      </div>\n    </ng-container>\n  </div>\n\n  <h1>Sunday</h1>\n\n  <div class="container" *ngIf="weekly">\n    <ng-container *ngFor="let sun of weekly.sunday">\n      <div\n        class="mat-elevation-z5 tile-container"\n        *ngIf="sun.kids === false"\n        (click)="toDetailPage(sun)"\n      >\n        <img src="{{ sun.image_url }}" alt="" />\n        <h1 class="mat-h3">{{ sun.title }}</h1>\n      </div>\n    </ng-container>\n  </div>\n</div>\n<app-footer></app-footer>\n'},d9iv:function(t,e,n){"use strict";n.r(e),e.default='* {\n  font-family: "BebasNeueRegular", sans-serif;\n  letter-spacing: 0.05em;\n  color: #ffff;\n}\n\n.container {\n  height: 35vh;\n  width: 100%;\n  display: flex;\n  z-index: -1;\n}\n\n.container .anime-name {\n  font-size: 3em;\n}\n\n.container .overlay {\n  height: 35vh;\n  width: 100%;\n  position: absolute;\n  background-color: black;\n  opacity: 0.1;\n}\n\n.container .overlay img {\n  width: 100%;\n  height: inherit;\n  -o-object-fit: cover;\n     object-fit: cover;\n  -o-object-position: 0 30%;\n     object-position: 0 30%;\n}\n\n.row1 {\n  display: flex;\n  justify-content: space-between;\n  padding-left: 2em;\n  padding-bottom: 1em;\n  height: 100%;\n  width: 50%;\n  align-items: flex-end;\n  z-index: 1;\n}\n\n.row2 {\n  display: flex;\n  justify-content: space-evenly;\n  padding-left: 2em;\n  padding-bottom: 1em;\n  height: 100%;\n  width: 50%;\n  align-items: flex-end;\n  z-index: 1;\n}\n\n.row2 button {\n  font-size: 2em;\n  border-style: none;\n  background: none;\n  cursor: pointer;\n}\n\n.row2 button:hover {\n  color: #c3073f;\n}\n\n.info {\n  height: -webkit-fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  width: 100%;\n  margin-top: 2em;\n  display: flex;\n  justify-content: space-around;\n}\n\n.info .mat-h2 {\n  font-family: Roboto, sans-serif;\n  font-size: 1em;\n}\n\n.info .info_row {\n  width: 40%;\n  display: flex;\n  flex-direction: column;\n  text-align: start;\n  padding: 0;\n}\n\n.info .info_row .producers {\n  display: flex;\n  flex-direction: row;\n  flex-flow: wrap;\n}\n\n.info .info_row .genres {\n  display: flex;\n  flex-direction: row;\n  flex-flow: wrap;\n}\n\n.info .synopsis {\n  width: 40%;\n  height: -webkit-fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  font-family: Roboto, sans-serif;\n  text-align: start;\n}\n\n.trailer-msg {\n  text-align: center;\n  margin-top: 2em;\n}\n\n.vid {\n  padding: 3em;\n  width: 60%;\n  margin: 0 auto;\n}\n\n.vid [style*="--aspect-ratio"] > :first-child {\n  width: 100%;\n}\n\n.vid [style*="--aspect-ratio"] > img {\n  height: auto;\n}\n\n@supports (--custom: property) {\n  .vid [style*="--aspect-ratio"] {\n    position: relative;\n  }\n  .vid [style*="--aspect-ratio"]::before {\n    content: "";\n    display: block;\n    padding-bottom: calc(100% / (var(--aspect-ratio)));\n  }\n  .vid [style*="--aspect-ratio"] > :first-child {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n  }\n}\n\n.char-msg {\n  text-align: center;\n  margin-top: 2em;\n}\n\n.class-container {\n  width: 100%;\n  height: -webkit-fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n}\n\n.class-container .characters {\n  overflow-x: hidden;\n  margin-top: 2em;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 5fr 50px 10px 5fr 10fr 5fr 10px 50px 5fr;\n  grid-auto-rows: 50px;\n  justify-content: center;\n}\n\n.class-container .characters .char_img {\n  grid-column: 2;\n  grid-row: 1;\n  width: auto;\n  height: 50px;\n}\n\n.class-container .characters .char_name {\n  grid-column: 4;\n  grid-row: 1;\n  margin: 0;\n  align-self: center;\n}\n\n.class-container .characters .va_img {\n  grid-column: 8;\n  width: auto;\n  height: 50px;\n  grid-row: 1;\n  justify-self: end;\n}\n\n.class-container .characters .va_name {\n  grid-column: 6;\n  grid-row: 1;\n  margin: 0;\n  align-self: center;\n  justify-self: end;\n}\n\n.class-container .no_info {\n  text-align: center;\n  margin-top: 2em;\n}\n\n@media (max-width: 1100px) {\n  .anime-name {\n    font-size: 2em !important;\n  }\n\n  .row2 {\n    flex-flow: column;\n    margin-right: 1.5em;\n    justify-content: flex-end;\n  }\n  .row2 .anime-rank {\n    font-size: 1.5em;\n    margin-bottom: 0.5em;\n  }\n  .row2 .anime-rating {\n    font-size: 1.5em;\n    margin-bottom: 0.5em;\n  }\n  .row2 button {\n    font-size: 1.5em;\n  }\n\n  .info {\n    flex-flow: column;\n  }\n  .info .info_row {\n    width: 100%;\n    padding: 2em;\n  }\n  .info .synopsis {\n    width: 100%;\n    padding: 2em;\n  }\n\n  .vid {\n    width: 80%;\n  }\n}\n\n@media (max-width: 500px) {\n  .info .info_row {\n    padding: 1em;\n  }\n  .info .synopsis {\n    padding: 1em;\n  }\n\n  .vid {\n    width: 100%;\n  }\n}'},dZao:function(t,e,n){"use strict";n.r(e),e.default='\x3c!-- This is the popup module used for reseting your password. After you provided the email you used to register on the website you will get an email from firebase where you can reset your password --\x3e\n<h1 style="text-align: center;" mat-dialog-title>\n  Please enter your email address\n</h1>\n<div mat-dialog-content>\n  <mat-form-field>\n    <input\n      autocomplete="off"\n      matInput\n      type="email"\n      placeholder="Email"\n      #passwordResetEmail\n    />\n  </mat-form-field>\n</div>\n<div class="btn" mat-dialog-actions>\n  <button mat-stroked-button (click)="onNoClick()">Back</button>\n  <button\n    mat-flat-button\n    (click)="authService.ForgotPassword(passwordResetEmail.value)"\n  >\n    Send\n  </button>\n</div>\n'},f2YT:function(t,e,n){"use strict";n.r(e),e.default='* {\n  font-family: "BebasNeueRegular", sans-serif;\n  letter-spacing: 0.05em;\n  color: #ffff;\n}\n\ndiv {\n  height: 50px;\n  margin-top: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\ndiv h4 {\n  margin-left: 4em;\n}\n\ndiv a {\n  text-decoration: none;\n}'},jGP6:function(t,e,n){"use strict";n.r(e),e.default='<div>\n  <a href="https://github.com/DaveKaito">// made by Kaito //</a>\n</div>\n'},mbft:function(t,e,n){"use strict";n.r(e),e.default="* {\n  font-family: \"BebasNeueRegular\", sans-serif;\n  letter-spacing: 0.05em;\n  color: #ffff;\n}\n\n.container {\n  height: 100vh;\n  width: 100%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.container h1 {\n  z-index: 99;\n  font-size: 5em;\n  margin-bottom: 1em;\n}\n\n.container form {\n  z-index: 99;\n  width: 40vw;\n}\n\n.container form mat-form-field {\n  width: 100%;\n}\n\n.container .overlay {\n  height: 100%;\n  width: 100%;\n  -webkit-clip-path: polygon(100% 26%, 0% 100%, 100% 100%);\n          clip-path: polygon(100% 26%, 0% 100%, 100% 100%);\n  background-color: #c3073f;\n  position: absolute;\n  opacity: 0.2;\n  -webkit-mask-image: linear-gradient(to bottom, black, rgba(0, 0, 0, 0));\n          mask-image: linear-gradient(to bottom, black, rgba(0, 0, 0, 0));\n}\n\n.container .bg-img {\n  opacity: 0.2;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n}\n\n.container .bg-img .img {\n  background: url('kime.062f7a0506f60594af0d.jpg') no-repeat center center fixed;\n  background-size: cover;\n  height: 100%;\n  width: 100%;\n  -webkit-mask-image: linear-gradient(to bottom, black, rgba(0, 0, 0, 0.15));\n          mask-image: linear-gradient(to bottom, black, rgba(0, 0, 0, 0.15));\n}\n\n@media (max-width: 768px) {\n  h1 {\n    font-size: 3em;\n  }\n\n  form {\n    margin-top: 2em;\n  }\n}"},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return s}),n.d(e,"__rest",function(){return o}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return l}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return u}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return m}),n.d(e,"__spread",function(){return f}),n.d(e,"__spreadArrays",function(){return g}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return _}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return E}),n.d(e,"__importDefault",function(){return C});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function l(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{l(r.next(t))}catch(e){s(e)}}function a(t){try{l(r.throw(t))}catch(e){s(e)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,a)}l((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){s.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function l(t){a("next",t)}function c(t){a("throw",t)}function u(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){(function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)})(r,i,(e=t[n](e)).done,e.value)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"LogLevel",function(){return r}),n.d(e,"Logger",function(){return a}),n.d(e,"setLogLevel",function(){return l});var r,i=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));var s=r.INFO,o=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString();switch(e){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+s+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},a=function(){function t(t){this.name=t,this._logLevel=s,this._logHandler=o,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.ERROR].concat(t))},t}();function l(t){i.forEach(function(e){e.logLevel=t})}},w3dm:function(t,e,n){"use strict";n.r(e),e.default='* {\n  font-family: "BebasNeueRegular", sans-serif;\n  letter-spacing: 0.05em;\n  color: #ffff;\n}\n\nmat-toolbar {\n  font-family: "BebasNeueRegular", sans-serif;\n  background-color: #1f1f1f;\n  position: fixed;\n  z-index: 2;\n  height: 65px;\n}\n\nmat-toolbar .space {\n  flex: 1 1 auto;\n}\n\nmat-toolbar .logo {\n  height: 1.8em;\n}\n\nmat-toolbar a {\n  text-decoration: none;\n  color: #ffff;\n  margin: 12px;\n  font-size: 16px;\n}\n\nmat-toolbar a:hover {\n  color: #c3073f;\n}\n\nmat-toolbar .search {\n  margin-right: 2em;\n}\n\nmat-toolbar mat-search-bar {\n  font-size: 16px;\n}\n\nmat-toolbar .user_con {\n  display: flex;\n  height: 100%;\n  align-items: center;\n}\n\nmat-toolbar .user_con .user {\n  display: flex;\n  margin: 12px;\n  cursor: pointer;\n}\n\nmat-toolbar .user_con .user img {\n  height: 32px;\n  width: 32px;\n  border-radius: 50%;\n  margin-right: 0.5em;\n}\n\nmat-toolbar .user_con .user h1 {\n  font-family: "BebasNeueRegular", sans-serif;\n  font-size: 16px;\n}\n\nmat-toolbar .mobile-menu {\n  display: none;\n}\n\n@media (max-width: 768px) {\n  .user {\n    display: none !important;\n  }\n\n  .links {\n    display: none;\n  }\n\n  .search {\n    margin: 0 !important;\n  }\n\n  .mobile-menu {\n    display: block !important;\n  }\n}'},wGxs:function(t,e,n){"use strict";n.r(e),e.default='<div class="main" style="padding-top: 64px">\n  <div class="container" alt="">\n    <h1 class="top-anime-title">TOP 50 ANIME</h1>\n    <div class="overlay"></div>\n  </div>\n  <div>\n    <mat-tab-group dynamicHeight mat-align-tabs="center">\n      \x3c!-- Top Upcoming --\x3e\n      <mat-tab label="Top Upcoming">\n        <ng-container *ngIf="dataUp">\n          <div class="card-container" *ngFor="let up of dataUp.top">\n            <mat-card (click)="toDetailPage(up)" class="mat-elevation-z5">\n              <h1 class="rank">{{ up.rank }}</h1>\n              <div class="img-con">\n                <img src="{{ up.image_url }}" alt="" />\n              </div>\n              <div class="info">\n                <h3>{{ up.title }}</h3>\n                <h5>{{ up.type }}</h5>\n              </div>\n              <h1 class="score">{{ up.score }}<mat-icon>star</mat-icon></h1>\n            </mat-card>\n          </div>\n        </ng-container>\n      </mat-tab>\n\n      \x3c!-- Top Airing --\x3e\n      <mat-tab label="Top Airing">\n        <ng-container *ngIf="dataAir">\n          <div class="card-container" *ngFor="let air of dataAir.top">\n            <mat-card (click)="toDetailPage(air)" class="mat-elevation-z5">\n              <h1 class="rank">{{ air.rank }}</h1>\n              <div class="img-con">\n                <img src="{{ air.image_url }}" alt="" />\n              </div>\n              <div class="info">\n                <h3>{{ air.title }}</h3>\n                <h5>{{ air.type }}</h5>\n              </div>\n              <h1 class="score">{{ air.score }}<mat-icon>star</mat-icon></h1>\n            </mat-card>\n          </div>\n        </ng-container>\n      </mat-tab>\n\n      \x3c!-- Top TV --\x3e\n      <mat-tab label="Top TV">\n        <ng-container *ngIf="dataTv">\n          <div class="card-container" *ngFor="let tv of dataTv.top">\n            <mat-card (click)="toDetailPage(tv)" class="mat-elevation-z5">\n              <h1 class="rank">{{ tv.rank }}</h1>\n              <div class="img-con">\n                <img src="{{ tv.image_url }}" alt="" />\n              </div>\n              <div class="info">\n                <h3>{{ tv.title }}</h3>\n                <h5>{{ tv.type }}</h5>\n              </div>\n              <h1 class="score">{{ tv.score }}<mat-icon>star</mat-icon></h1>\n            </mat-card>\n          </div>\n        </ng-container>\n      </mat-tab>\n\n      \x3c!-- Top Movie --\x3e\n      <mat-tab label="Top Movie">\n        <ng-container *ngIf="dataMov">\n          <div class="card-container" *ngFor="let mov of dataMov.top">\n            <mat-card (click)="toDetailPage(mov)" class="mat-elevation-z5">\n              <h1 class="rank">{{ mov.rank }}</h1>\n              <div class="img-con">\n                <img src="{{ mov.image_url }}" alt="" />\n              </div>\n              <div class="info">\n                <h3 class="title">{{ mov.title }}</h3>\n                <h5 class="type">{{ mov.type }}</h5>\n              </div>\n              <h1 class="score">{{ mov.score }}<mat-icon>star</mat-icon></h1>\n            </mat-card>\n          </div>\n        </ng-container>\n      </mat-tab>\n    </mat-tab-group>\n  </div>\n</div>\n<app-footer></app-footer>\n'},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("mrSG"),s=n("zVF4"),o=n("q/0M"),a=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),l=new s.ErrorFactory("app","Firebase",a),c="[DEFAULT]",u=[],h=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){u.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){u=u.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,r=Object.keys(t.services_);n<r.length;n++)for(var i=r[n],s=0,o=Object.keys(t.services_[i]);s<o.length;s++){var a=o[s];e.push(t.services_[i][a])}return Promise.all(e.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=c),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==c?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=c),this.services_[t]&&this.services_[t][e]&&delete this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;s.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(u.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),u=[])},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var d="6.6.2",p=new o.Logger("@firebase/app");if(s.isBrowser()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var f=function t(){var e=function(t){var e={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name=c);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw l.create("duplicate-app",{appName:a});var h=new t(n,o,i);return e[a]=h,u(h,"create"),h},app:o,apps:null,SDK_VERSION:d,INTERNAL:{registerService:function(e,c,u,h,d){if(void 0===d&&(d=!1),n[e])return p.debug("There were multiple attempts to register service "+e+"."),i[e];function m(t){if(void 0===t&&(t=o()),"function"!=typeof t[e])throw l.create("invalid-app-argument",{appName:e});return t[e]()}return n[e]=c,h&&(r[e]=h,a().forEach(function(t){h("create",t)})),void 0!==u&&s.deepExtend(m,u),i[e]=m,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this._getService.bind(this,e);return r.apply(this,d?t:[])},m},removeApp:function(t){u(e[t],"delete"),delete e[t]},factories:n,useAsService:h}};function o(t){if(t=t||c,!s.contains(e,t))throw l.create("no-app",{appName:t});return e[t]}function a(){return Object.keys(e).map(function(t){return e[t]})}function u(t,e){for(var i=0,s=Object.keys(n);i<s.length;i++){var o=h(0,s[i]);if(null===o)return;r[o]&&r[o](e,t)}}function h(t,e){return"serverAuth"===e?null:e}return i.default=i,Object.defineProperty(i,"apps",{get:a}),o.App=t,i}(h);return e.INTERNAL=i.__assign({},e.INTERNAL,{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),g=f.initializeApp;f.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,t)};var y=f;e.default=y,e.firebase=y},"x/Il":function(t,e,n){"use strict";n.r(e),e.default='* {\n  font-family: "BebasNeueRegular", sans-serif;\n  letter-spacing: 0.05em;\n  color: #ffff;\n}\n\ndiv {\n  display: flex;\n  justify-content: center;\n}\n\ndiv mat-card {\n  padding: 2em;\n  top: 50%;\n  transform: translateY(-50%);\n  position: absolute;\n  width: 500px;\n  height: 400px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\ndiv mat-card .msg {\n  align-self: center;\n  margin-top: 2em;\n  text-align: center;\n}\n\ndiv mat-card .msg h1 {\n  font-size: 16px;\n}\n\ndiv mat-card button {\n  margin-top: 2em;\n}'},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",function(){return cr}),n.d(e,"EventType",function(){return ur}),n.d(e,"WebChannel",function(){return hr}),n.d(e,"XhrIo",function(){return dr}),n.d(e,"createWebChannelTransport",function(){return lr});var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},o=i;function a(t){return"string"==typeof t}function l(t){return"number"==typeof t}function c(t,e){t=t.split("."),e=e||o;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function u(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function C(){this.j=this.j,this.i=this.i}C.prototype.j=!1,C.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[f]||(this[f]=++g)},C.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function T(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function k(t){return/^[\s\xa0]*$/.test(t)}var A,D=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var P=o.navigator;if(P){var R=P.userAgent;if(R){A=R;break t}}A=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<F.length;s++)n=F[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function B(t){return B[" "](t),t}B[" "]=u;var j,U,q=N(A,"Opera"),z=N(A,"Trident")||N(A,"MSIE"),$=N(A,"Edge"),H=$||z,W=N(A,"Gecko")&&!(N(A.toLowerCase(),"webkit")&&!N(A,"Edge"))&&!(N(A,"Trident")||N(A,"MSIE"))&&!N(A,"Edge"),K=N(A.toLowerCase(),"webkit")&&!N(A,"Edge");function G(){var t=o.document;return t?t.documentMode:void 0}t:{var Q="",Y=(U=A,W?/rv:([^\);]+)(\)|;)/.exec(U):$?/Edge\/([\d\.]+)/.exec(U):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):K?/WebKit\/(\S+)/.exec(U):q?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(Y&&(Q=Y?Y[1]:""),z){var X=G();if(null!=X&&X>parseFloat(Q)){j=String(X);break t}}j=Q}var Z,J={};function tt(t){return function(t,e){var n=J;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=D(String(j)).split("."),r=D(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=O(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||O(0==o[2].length,0==a[2].length)||O(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var et=o.document;Z=et&&z?G()||("CSS1Compat"==et.compatMode?parseInt(j,10):5):void 0;var nt=!z||9<=Number(Z),rt=z&&!tt("9"),it=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{o.addEventListener("test",u,e),o.removeEventListener("test",u,e)}catch(n){}return t}();function st(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function ot(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{B(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}st.prototype.b=function(){this.Ja=!1},E(ot,st);var at={2:"touch",3:"pen",4:"mouse"};ot.prototype.b=function(){ot.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var lt="closure_listenable_"+(1e6*Math.random()|0),ct=0;function ut(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ct,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=x(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function mt(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.X&&s.listener==e&&s.capture==!!n&&s.da==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=mt(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ut(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(d(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}r=St(r);return e&&e[lt]?e.Ba(n,r,m(i)?!!i.capture:!!i,s):vt(e,n,r,!0,i,s)}(t,e,n,r,i);if(d(e)){for(var s=0;s<e.length;s++)yt(t,e[s],n,r,i);return null}return n=St(n),t&&t[lt]?t.Aa(e,n,m(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=m(i)?!!i.capture:!!i;if(o&&!nt)return null;var a=Ct(t);if(a||(t[ft]=a=new dt(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Et,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _t(t){if(!l(t)&&t&&!t.X){var e=t.src;if(e&&e[lt])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ct(e))?(pt(n,t),0==n.b&&(n.src=null,e[ft]=null)):ht(t)}}}function bt(t){return t in gt?gt[t]:gt[t]="on"+t}function wt(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&_t(t),n.call(r,e)}function Et(t,e){return!!t.X||(nt?wt(t,new ot(e,this)):wt(t,e=new ot(e||c("window.event"),this)))}function Ct(t){return(t=t[ft])instanceof dt?t:null}var xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"==h(t)?t:(t[xt]||(t[xt]=function(e){return t.handleEvent(e)}),t[xt])}function Tt(){C.call(this),this.c=new dt(this),this.J=this,this.B=null}function It(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.X&&o.capture==n){var a=o.listener,l=o.da||o.src;o.Z&&pt(t.c,o),i=!1!==a.call(l,r)&&i}}return i&&0!=r.Ja}E(Tt,C),Tt.prototype[lt]=!0,(r=Tt.prototype).addEventListener=function(t,e,n,r){yt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(d(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=m(i)?!!i.capture:!!i,r=St(r),e&&e[lt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=mt(o=e.a[n],r,i,s))&&(ht(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=Ct(e))&&(n=e.a[n.toString()],e=-1,n&&(e=mt(n,r,i,s)),(r=-1<e?n[e]:null)&&_t(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(a(t))t=new st(t,n);else if(t instanceof st)t.target=t.target||n;else{var i=t;V(t=new st(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];i=It(o,r,!0,t)&&i}if(i=It(o=t.a=n,r,!0,t)&&i,i=It(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=It(o=t.a=e[s],r,!1,t)&&i;return i},r.G=function(){if(Tt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Ba=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var kt=o.JSON.stringify;function At(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Dt(){this.b=this.a=null}At.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Nt,Ot=new At(function(){return new Rt},function(t){t.reset()});function Pt(){var t=Vt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Mt(t){o.setTimeout(function(){throw t},0)}function Lt(t,e){Nt||function(){var t=o.Promise.resolve(void 0);Nt=function(){t.then(Bt)}}(),Ft||(Nt(),Ft=!0),Vt.add(t,e)}Dt.prototype.add=function(t,e){var n=Ot.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Ft=!1,Vt=new Dt;function Bt(){for(var t;t=Pt();){try{t.a.call(t.b)}catch(n){Mt(n)}var e=Ot;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ft=!1}function jt(t,e){Tt.call(this),this.b=t||1,this.a=e||o,this.f=_(this.gb,this),this.g=w()}function Ut(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function qt(t,e,n){if("function"==h(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:o.setTimeout(t,e||0)}function zt(t,e,n){C.call(this),this.f=null!=n?_(t,n):t,this.c=e,this.b=_(this.ab,this),this.a=[]}function $t(t){t.U=qt(t.b,t.c),t.f.apply(null,t.a)}function Ht(t){C.call(this),this.b=t,this.a={}}E(jt,Tt),(r=jt.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ut(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){jt.N.G.call(this),Ut(this),delete this.a},E(zt,C),(r=zt.prototype).ea=!1,r.U=null,r.Ua=function(t){this.a=arguments,this.U?this.ea=!0:$t(this)},r.G=function(){zt.N.G.call(this),this.U&&(o.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,$t(this))},E(Ht,C);var Wt=[];function Kt(t,e,n,r){d(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var i=0;i<n.length;i++){var s=yt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Gt(t){M(t.a,function(t,e){this.a.hasOwnProperty(e)&&_t(t)},t),t.a={}}function Qt(){}Ht.prototype.G=function(){Ht.N.G.call(this),Gt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=new Tt;function Xt(t){st.call(this,"serverreachability",t)}function Zt(t){Yt.dispatchEvent(new Xt(Yt,t))}function Jt(t){st.call(this,"statevent",t)}function te(t){Yt.dispatchEvent(new Jt(Yt,t))}function ee(t){st.call(this,"timingevent",t)}function ne(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){t()},e)}E(Xt,st),E(Jt,st),E(ee,st);var re={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},ie={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function se(){}function oe(t){var e;return(e=t.a)||(e=t.a={}),e}function ae(){}se.prototype.a=null;var le,ce={OPEN:"a",ib:"b",Na:"c",rb:"d"};function ue(){st.call(this,"d")}function he(){st.call(this,"c")}function de(){}function pe(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Ht(this),this.O=me,t=H?125:void 0,this.P=new jt(t),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(ue,st),E(he,st),E(de,se),le=new de;var me=45e3,fe={},ge={};function ye(t,e,n){t.F=1,t.f=qe(Me(e)),t.l=n,t.H=!0,_e(t,null)}function ve(t,e,n,r){t.F=1,t.f=qe(Me(e)),t.l=null,t.H=n,_e(t,r)}function _e(t,e){t.v=w(),Ee(t),t.D=Me(t.f),Ue(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new zt(_(t.Ka,t,t.a),t.J)),Kt(t.I,t.a,"readystatechange",t.eb),e=t.h?L(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Zt(1)}function be(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=we(t,n);if(i==ge){4==e&&(t.c=4,te(14),r=!1);break}if(i==fe){t.c=4,te(15),r=!1;break}Ie(t,i)}4==e&&0==n.length&&(t.c=1,te(16),r=!1),t.b=t.b&&r,r||(Te(t),Se(t))}function we(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?ge:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?ge:(e=e.substr(r,n),t.A=r+n,e))}function Ee(t){t.R=w()+t.O,Ce(t,t.O)}function Ce(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ne(_(t.bb,t),e)}function xe(t){t.i&&(o.clearTimeout(t.i),t.i=null)}function Se(t){t.g.Da()||t.m||t.g.na(t)}function Te(t){xe(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Ut(t.P),Gt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Ie(t,e){try{t.g.Ga(t,e),Zt(4)}catch(n){}}function ke(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||a(t))S(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||a(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ae)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function De(t,e){Oe(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ne(t))}function Ne(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Oe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Oe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Oe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=pe.prototype).setTimeout=function(t){this.O=t},r.eb=function(t){t=t.target;var e=this.B;e&&3==Mn(t)?e.Ua():this.Ka(t)},r.Ka=function(t){try{if(t==this.a)t:{var e=Mn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!H&&!this.a.aa())){this.m||4!=e||7==n||Zt(8==n||0>=r?3:2),xe(this);var i=this.a.T();this.o=i;var s=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var o=Ln(this.a,"X-HTTP-Initial-Response");if(o&&!k(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.c=3,te(12),Te(this),Se(this);break t}this.s=!0,Ie(this,a)}this.H?(be(this,e,s),H&&this.b&&3==e&&(Kt(this.I,this.P,"tick",this.cb),this.P.start())):Ie(this,s),4==e&&Te(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,Ee(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.c=3,te(12)):(this.c=0,te(13)),Te(this),Se(this)}}}catch(l){}},r.cb=function(){if(this.a){var t=Mn(this.a),e=this.a.aa();this.A<e.length&&(xe(this),be(this,t,e),this.b&&4!=t&&Ee(this))}},r.cancel=function(){this.m=!0,Te(this)},r.bb=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Zt(3),te(17)),Te(this),this.c=2,Se(this)):Ce(this,this.R-t)},(r=Ae.prototype).C=function(){Ne(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Ne(this),this.a.concat()},r.get=function(t,e){return Oe(this.b,t)?this.b[t]:e},r.set=function(t,e){Oe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Pe=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Re(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Re?(this.h=void 0!==e?e:t.h,Le(this,t.f),this.j=t.j,Fe(this,t.b),Ve(this,t.i),this.a=t.a,Be(this,nn(t.c)),this.g=t.g):t&&(n=String(t).match(Pe))?(this.h=!!e,Le(this,n[1]||"",!0),this.j=ze(n[2]||""),Fe(this,n[3]||"",!0),Ve(this,n[4]),this.a=ze(n[5]||"",!0),Be(this,n[6]||"",!0),this.g=ze(n[7]||"")):(this.h=!!e,this.c=new Xe(null,this.h))}function Me(t){return new Re(t)}function Le(t,e,n){t.f=n?ze(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Fe(t,e,n){t.b=n?ze(e,!0):e}function Ve(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Be(t,e,n){e instanceof Xe?(t.c=e,function(t,e){e&&!t.f&&(Ze(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Je(this,e),en(this,n,t))},t)),t.f=e}(t.c,t.h)):(n||(e=$e(e,Qe)),t.c=new Xe(e,t.h))}function je(t,e,n){t.c.set(e,n)}function Ue(t,e,n){d(n)||(n=[String(n)]),en(t.c,e,n)}function qe(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function ze(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $e(t,e,n){return a(t)?(t=encodeURI(t).replace(e,He),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function He(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Re.prototype.toString=function(){var t=[],e=this.f;e&&t.push($e(e,We,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push($e(e,We,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push($e(n,"/"==n.charAt(0)?Ge:Ke,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",$e(n,Ye)),t.join("")},Re.prototype.resolve=function(t){var e=Me(this),n=!!t.f;n?Le(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Fe(e,t.b):n=null!=t.i;var r=t.a;if(n)Ve(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(N(i,"./")||N(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var s=[],o=0;o<i.length;){var a=i[o++];"."==a?r&&o==i.length&&s.push(""):".."==a?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),r&&o==i.length&&s.push("")):(s.push(a),r=!0)}r=s.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Be(e,nn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var We=/[#\/\?@]/g,Ke=/[#\?:]/g,Ge=/[#\?]/g,Qe=/[#\?@]/g,Ye=/#/g;function Xe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ze(t){t.a||(t.a=new Ae,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Je(t,e){Ze(t),e=rn(t,e),Oe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,De(t.a,e))}function tn(t,e){return Ze(t),e=rn(t,e),Oe(t.a.b,e)}function en(t,e,n){Je(t,e),0<n.length&&(t.c=null,t.a.set(rn(t,e),I(n)),t.b+=n.length)}function nn(t){var e=new Xe;return e.c=t.c,t.a&&(e.a=new Ae(t.a),e.b=t.b),e}function rn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function sn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function on(t){var e=t.a.F.a;if(null!=e)te(4),e?(te(10),Gn(t.a,t,!1)):(te(11),Gn(t.a,t,!0));else{t.b=new pe(t,void 0,void 0),t.b.h=t.h,e=Jn(e=t.a,e.Y()?t.f:null,t.i),te(4),Ue(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&je(e,n,r),ve(t.b,e,!1,t.f)}}function an(){this.a=this.b=null}function ln(){this.a=new Ae}function cn(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[f]||(t[f]=++g)):e.charAt(0)+t}function un(t,e){this.b=t,this.a=e}function hn(t){this.g=t||dn,o.PerformanceNavigationTiming?t=0<(t=o.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(o.ka&&o.ka.Ea&&o.ka.Ea()&&o.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new ln),this.b=null,this.c=[]}(r=Xe.prototype).add=function(t,e){Ze(this),this.c=null,t=rn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ze(this),this.a.forEach(function(n,r){S(n,function(n){t.call(e,n,r,this)},this)},this)},r.K=function(){Ze(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},r.C=function(t){Ze(this);var e=[];if(a(t))tn(this,t)&&(e=T(e,this.a.get(rn(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=T(e,t[n])}return e},r.set=function(t,e){return Ze(this),this.c=null,tn(this,t=rn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")},E(function(){},function(){}),(r=sn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Ln(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Ln(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Xn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Xn(e,2)}else 1==this.M&&(this.g?te(6):"11111"==e?(te(5),this.g=!0,(!z||10<=Number(Z))&&(this.c=200,this.b.cancel(),te(11),Gn(this.a,this,!0))):(te(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,on(this)):1==this.M&&(this.g?(te(11),Gn(this.a,this,!0)):(te(10),Gn(this.a,this,!1)));else{0==this.M?te(8):1==this.M&&te(9);var t=this.a;t.m=this.c,Xn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},ln.prototype.add=function(t){this.a.set(cn(t),t)},ln.prototype.C=function(){return this.a.C()};var dn=10;function pn(t,e){!t.a&&(N(e,"spdy")||N(e,"quic")||N(e,"h2"))&&(t.f=t.g,t.a=new ln,t.b&&(yn(t,t.b),t.b=null))}function mn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function fn(t){return t.b?1:t.a?t.a.a.c:0}function gn(t,e){return t.b?t=t.b==e:t.a?(e=cn(e),t=Oe(t.a.a.b,e)):t=!1,t}function yn(t,e){t.a?t.a.add(e):t.b=e}function vn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=cn(e),n=Oe(t.a.a.b,n)),n&&De(t.a.a,cn(e)))}function _n(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return S(t.a.C(),function(t){e=e.concat(t.j)}),e}return I(t.c)}function bn(){}function wn(){this.a=new bn}function En(t,e,n){var r=n||"";try{ke(t,function(t,n){var i=t;m(t)&&(i=kt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Cn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}hn.prototype.cancel=function(){this.c=_n(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(S(this.a.C(),function(t){t.cancel()}),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},bn.prototype.stringify=function(t){return o.JSON.stringify(t,void 0)},bn.prototype.parse=function(t){return o.JSON.parse(t,void 0)};var xn=o.JSON.parse;function Sn(t){Tt.call(this),this.headers=new Ae,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Tn,this.D=this.F=!1}E(Sn,Tt);var Tn="",In=/^https?$/i,kn=["POST","PUT"];function An(t){return"content-type"==t.toLowerCase()}function Dn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Nn(t),Pn(t)}function Nn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function On(t){if(t.b&&void 0!==s&&(!t.s[1]||4!=Mn(t)||2!=t.T()))if(t.l&&4==Mn(t))qt(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==Mn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.A).match(Pe)[1]||null;if(!a&&o.self&&o.self.location){var l=o.self.location.protocol;a=l.substr(0,l.length-1)}i=!In.test(a?a.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",Nn(t))}finally{Pn(t)}}}function Pn(t,e){if(t.a){Rn(t);var n=t.a,r=t.s[0]?u:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Rn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(o.clearTimeout(t.m),t.m=null)}function Mn(t){return t.a?t.a.readyState:0}function Ln(t,e){return t.a?t.a.getResponseHeader(e):null}function Fn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return je(t,e,n),t}function Vn(t){this.f=[],this.F=new an,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!c("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=c("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=c("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=c("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=c("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new hn(t&&t.concurrentRequestLimit),this.ja=new wn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Bn(t){if(jn(t),3==t.u){var e=t.P++,n=Me(t.B);je(n,"SID",t.H),je(n,"RID",e),je(n,"TYPE","terminate"),$n(t,n),(e=new pe(t,e,void 0)).F=2,e.f=qe(Me(n)),n=!1,o.navigator&&o.navigator.sendBeacon&&(n=o.navigator.sendBeacon(e.f.toString(),"")),!n&&o.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),Ee(e)}Zn(t)}function jn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(o.clearTimeout(t.l),t.l=null),Qn(t),t.b.cancel(),t.h&&(l(t.h)&&o.clearTimeout(t.h),t.h=null)}function Un(t,e){t.f.push(new un(t.Ra++,e)),3==t.u&&qn(t)}function qn(t){mn(t.b)||t.h||(t.h=!0,Lt(t.Ia,t),t.A=0)}function zn(t,e){var n;n=e?e.W:t.P++;var r=Me(t.B);je(r,"SID",t.H),je(r,"RID",n),je(r,"AID",t.O),$n(t,r),t.g&&t.i&&Fn(r,t.g,t.i),n=new pe(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=Hn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),yn(t.b,n),ye(n,r,e)}function $n(t,e){t.c&&ke({},function(t,n){je(e,n,t)})}function Hn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?_(t.c.Ta,t.c,t):null;t:for(var i=t.f,s=-1;;){var o=["count="+n];-1==s?0<n?(s=i[0].b,o.push("ofs="+s)):s=0:o.push("ofs="+s);for(var a=!0,l=0;l<n;l++){var c=i[l].b,u=i[l].a;if(0>(c-=s))s=Math.max(0,i[l].b-100),a=!1;else try{En(u,o,"req"+c+"_")}catch(h){r&&r(u)}}if(a){r=o.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Wn(t){t.a||t.l||(t.S=1,Lt(t.Ha,t),t.v=0)}function Kn(t){return!(t.a||t.l||3<=t.v)&&(t.S++,t.l=ne(_(t.Ha,t),Yn(t,t.v)),t.v++,!0)}function Gn(t,e,n){var r=e.l;r&&pn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Jn(t,null,t.ha),qn(t)}function Qn(t){null!=t.s&&(o.clearTimeout(t.s),t.s=null)}function Yn(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function Xn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=_(t.fb,t);n||(n=new Re("//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||Le(n,"https"),qe(n)),function(t,e){var n=new Qt;if(o.Image){var r=new Image;r.onload=b(Cn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(Cn,n,r,"TestLoadImage: error",!1,e),r.onabort=b(Cn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(Cn,n,r,"TestLoadImage: timeout",!1,e),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else te(2);t.u=0,t.c&&t.c.ta(e),Zn(t),jn(t)}function Zn(t){t.u=0,t.m=-1,t.c&&(0==_n(t.b).length&&0==t.f.length||(t.b.c.length=0,I(t.f),t.f.length=0),t.c.sa())}function Jn(t,e,n){var r=function(t){return t instanceof Re?Me(t):new Re(t,void 0)}(n);if(""!=r.b)e&&Fe(r,e+"."+r.b),Ve(r,r.i);else{var i,s=o.location;i=e?e+"."+s.hostname:s.hostname,r=function(t,e,n,r){var i=new Re(null,void 0);return t&&Le(i,t),e&&Fe(i,e),n&&Ve(i,n),r&&(i.a=r),i}(s.protocol,i,+s.port,n)}return t.V&&M(t.V,function(t,e){je(r,e,t)}),e=t.j,n=t.I,e&&n&&je(r,e,n),je(r,"VER",t.wa),$n(t,r),r}function tr(){}function er(){if(z&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function nr(t,e){Tt.call(this),this.a=new Vn(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];if(0==i.lastIndexOf("/",0))e=i;else(r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!k(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new sr(this)}function rr(t){ue.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ir(){he.call(this),this.status=1}function sr(t){this.a=t}(r=Sn.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?oe(this.H):oe(le),this.a.onreadystatechange=_(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(s){return void Dn(this,s)}t=n||"";var i=new Ae(this.headers);r&&ke(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=An,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(i.K()),n=o.FormData&&t instanceof o.FormData,!(0<=x(kn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Rn(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&l(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.Ca,this)):this.m=qt(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Dn(this,s)}},r.Ca=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Pn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Pn(this,!0)),Sn.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?On(this):this.$a())},r.$a=function(){On(this)},r.T=function(){try{return 2<Mn(this)?this.a.status:-1}catch(U){return-1}},r.za=function(){try{return 2<Mn(this)?this.a.statusText:""}catch(U){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(U){return""}},r.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xn(e)}},r.ya=function(){return this.h},r.Ya=function(){return a(this.f)?this.f:String(this.f)},(r=Vn.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new pe(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?V(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var s=this.f[i];if(void 0===(s="__data__"in s.a&&a(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Hn(this,n,e),je(i=Me(this.B),"RID",t),je(i,"CVER",22),this.o&&this.j&&je(i,"X-HTTP-Session-Id",this.j),$n(this,i),this.g&&r&&Fn(i,this.g,r),yn(this.b,n),this.W?(je(i,"$req",e),je(i,"SID","null"),n.S=!0,ye(n,i,null)):ye(n,i,e),this.u=2}}else 3==this.u&&(t?zn(this,t):0==this.f.length||mn(this.b)||zn(this))},r.Ha=function(){this.l=null,this.a=new pe(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Me(this.pa);je(t,"RID","rpc"),je(t,"SID",this.H),je(t,"CI",this.ia?"0":"1"),je(t,"AID",this.O),$n(this,t),je(t,"TYPE","xmlhttp"),this.g&&this.i&&Fn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ve(this.a,t,!0,this.ga)},r.Ga=function(t,e){if(0!=this.u&&(this.a==t||gn(this.b,t)))if(this.m=t.o,!t.s&&gn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(s){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Qn(this),this.a.cancel(),this.a=null}Kn(this),te(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ne(_(this.Za,this),6e3));if(1>=fn(this.b)&&this.fa){try{this.fa()}catch(s){}this.fa=void 0}}else Xn(this,11)}else if((t.s||this.a==t)&&Qn(this),!k(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&l(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Ln(r,"X-Client-Wire-Protocol"))&&pn(this.b,i),this.j&&(r=Ln(r,"X-HTTP-Session-Id")))&&(this.I=r,je(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Jn(this,this.Y()?this.ga:null,this.ha),r.s?(vn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(xe(r),Ee(r)),this.a=r):Wn(this),0<this.f.length&&qn(this)}else"stop"!=r[0]&&"close"!=r[0]||Xn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Xn(this,7):Bn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Kn(this),te(19))},r.na=function(t){var e=null;if(this.a==t){Qn(this),this.a=null;var n=2}else{if(!gn(this.b,t))return;e=t.j,vn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Yt.dispatchEvent(new ee(Yt,t.l?t.l.length:0,e,this.A)),qn(this)):Wn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(fn(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.f=e.j.concat(t.f),!0):!(1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa))&&(t.h=ne(_(t.Ia,t,e),Yn(t,t.A)),t.A++,!0))}(this,t)||2==n&&Kn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Xn(this,5);break;case 4:Xn(this,10);break;case 3:Xn(this,6);break;default:Xn(this,2)}}},r.fb=function(t){te(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Sn(this.La)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=tr.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},er.prototype.a=function(t,e){return new nr(t,e)},E(nr,Tt),(r=nr.prototype).addEventListener=function(t,e,n,r){nr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){nr.N.removeEventListener.call(this,t,e,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;te(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new sn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Fn(e,t.g,t.i)),(t=t.w).i=n,e=Jn(t.a,null,t.i),te(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,on(t)):(Ue(e,"MODE","init"),!t.a.o&&t.a.j&&Ue(e,"X-HTTP-Session-Id",t.a.j),t.b=new pe(t,void 0,void 0),t.b.h=t.h,ve(t.b,e,!1,null),t.M=0)},r.close=function(){Bn(this.a)},r.Xa=function(t){if(a(t)){var e={};e.__data__=t,Un(this.a,e)}else this.h?((e={}).__data__=kt(t),Un(this.a,e)):Un(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Bn(this.a),delete this.a,nr.N.G.call(this)},E(rr,ue),E(ir,he),E(sr,tr),sr.prototype.va=function(){this.a.dispatchEvent("a")},sr.prototype.ua=function(t){this.a.dispatchEvent(new rr(t))},sr.prototype.ta=function(t){this.a.dispatchEvent(new ir(t))},sr.prototype.sa=function(){this.a.dispatchEvent("b")};var or=b(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},er);er.prototype.createWebChannel=er.prototype.a,nr.prototype.send=nr.prototype.Xa,nr.prototype.open=nr.prototype.Wa,nr.prototype.close=nr.prototype.close,re.NO_ERROR=0,re.TIMEOUT=8,re.HTTP_ERROR=6,ie.COMPLETE="complete",ae.EventType=ce,ce.OPEN="a",ce.CLOSE="b",ce.ERROR="c",ce.MESSAGE="d",Tt.prototype.listen=Tt.prototype.Aa,Sn.prototype.listenOnce=Sn.prototype.Ba,Sn.prototype.getLastError=Sn.prototype.Ya,Sn.prototype.getLastErrorCode=Sn.prototype.ya,Sn.prototype.getStatus=Sn.prototype.T,Sn.prototype.getStatusText=Sn.prototype.za,Sn.prototype.getResponseJson=Sn.prototype.Va,Sn.prototype.getResponseText=Sn.prototype.aa,Sn.prototype.send=Sn.prototype.ca;var ar={createWebChannelTransport:or,ErrorCode:re,EventType:ie,WebChannel:ae,XhrIo:Sn},lr=ar.createWebChannelTransport,cr=ar.ErrorCode,ur=ar.EventType,hr=ar.WebChannel,dr=ar.XhrIo;e.default=ar},ynWL:function(t,e,n){"use strict";n.r(e),e.default=""},ywSW:function(t,e,n){"use strict";n.r(e),e.default='<div class="container">\n  <mat-tab-group mat-align-tabs="center" class="mat-elevation-z5">\n\n    \x3c!-- Login Form --\x3e\n    <mat-tab label="Login">\n      <div class="login">\n        <h1 class="mat-h2">Welcome Back!</h1>\n        <mat-form-field>\n          <input autocomplete="off" matInput type="email" [formControl]="emailFormControl" class="formControl"\n            placeholder="Email" #userEmail required>\n          <mat-error *ngIf="emailFormControl.hasError(\'email\') && !emailFormControl.hasError(\'required\')">\n            Please enter a valid email address\n          </mat-error>\n          <mat-error *ngIf="emailFormControl.hasError(\'required\')">\n            Email is <strong>required</strong>\n          </mat-error>\n        </mat-form-field>\n\n        <mat-form-field>\n          \x3c!-- Toggle pw visibility --\x3e\n          <mat-pass-toggle-visibility #toggle1 matSuffix></mat-pass-toggle-visibility>\n          <input autocomplete="off" matInput type="password" [type]="toggle1.type" class="formControl"\n            placeholder="Password" #userPassword required>\n        </mat-form-field>\n        <button mat-flat-button value="Log in" (click)="authService.SignIn(userEmail.value, userPassword.value)">Login\n        </button>\n        <h1 class="mat-h3 fpw" (click)="openDialog()">Forgot Your Password?</h1>\n      </div>\n    </mat-tab>\n\n    \x3c!-- Registration Form --\x3e\n    <mat-tab label="Register">\n      <div class="register">\n        <h1 class="mat-h2">Welcome To Anilab!</h1>\n        <mat-form-field>\n          <input autocomplete="off" matInput type="email" [formControl]="emailFormControl" class="formControl"\n            placeholder="Email" #userRegEmail required>\n\n          <mat-error *ngIf="emailFormControl.hasError(\'email\') && !emailFormControl.hasError(\'required\')">\n            Please enter a valid email address\n          </mat-error>\n          <mat-error *ngIf="emailFormControl.hasError(\'required\')">\n            Email is <strong>required</strong>\n          </mat-error>\n        </mat-form-field>\n\n        <mat-form-field>\n          \x3c!-- Toggle pw visibility --\x3e\n          <mat-pass-toggle-visibility #toggle2 matSuffix></mat-pass-toggle-visibility>\n          <input autocomplete="off" matInput type="password" [type]="toggle2.type" class="formControl"\n            placeholder="Password" #userRegPassword required>\n          <mat-hint>min 6 Characters</mat-hint>\n        </mat-form-field>\n\n        <button mat-flat-button value="Register"\n          (click)="authService.SignUp(userRegEmail.value, userRegPassword.value)">Register\n        </button>\n\n      </div>\n    </mat-tab>\n  </mat-tab-group>\n</div>'},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("mrSG");function i(t){return"function"==typeof t}let s=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function a(t){setTimeout(()=>{throw t})}const l={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete(){}},c=Array.isArray||(t=>t&&"number"==typeof t.length);function u(t){return null!==t&&"object"==typeof t}function h(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}h.prototype=Object.create(Error.prototype);const d=h;class p{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:r,_unsubscribe:s,_subscriptions:o}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,l=r?r.length:0;for(;n;)n.remove(this),n=++a<l&&r[a]||null;if(i(s))try{s.call(this)}catch(h){e=!0,t=h instanceof d?m(h.errors):[h]}if(c(o))for(a=-1,l=o.length;++a<l;){const n=o[a];if(u(n))try{n.unsubscribe()}catch(h){e=!0,t=t||[],h instanceof d?t=t.concat(m(h.errors)):t.push(h)}}if(e)throw new d(t)}add(t){let e=t;switch(typeof t){case"function":e=new p(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof p)){const t=e;(e=new p)._subscriptions=[t]}break;default:if(!t)return p.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(e._addParent(this)){const t=this._subscriptions;t?t.push(e):this._subscriptions=[e]}return e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}function m(t){return t.reduce((t,e)=>t.concat(e instanceof d?e.errors:e),[])}p.EMPTY=function(t){return t.closed=!0,t}(new p);const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends p{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=l;break;case 1:if(!t){this.destination=l;break}if("object"==typeof t){t instanceof g?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new y(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new y(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new g(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class y extends g{constructor(t,e,n,r){let s;super(),this._parentSubscriber=t;let o=this;i(e)?s=e:e&&(s=e.next,n=e.error,r=e.complete,e!==l&&(i((o=Object.create(e)).unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(a(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(){}function b(...t){return w(t)}function w(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:_}class E{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const e=new E;return e.source=this,e.operator=t,e}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof g)return t;if(t[f])return t[f]()}return t||e||n?new g(t,e,n):new g(l)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof g?n:null}return!0}(t)?console.warn(e):t.error(e)}}forEach(t,e){return new(e=C(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[v](){return this}pipe(...t){return 0===t.length?this:w(t)(this)}toPromise(t){return new(t=C(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}function C(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function x(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}E.create=t=>new E(t),x.prototype=Object.create(Error.prototype);const S=x;class T extends p{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class I extends g{constructor(t){super(t),this.destination=t}}class k extends E{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new I(this)}lift(t){const e=new A(this,this);return e.operator=t,e}next(t){if(this.closed)throw new S;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new S;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),p.EMPTY):this.isStopped?(t.complete(),p.EMPTY):(this.observers.push(t),new T(this,t))}asObservable(){const t=new E;return t.source=this,t}}k.create=(t,e)=>new A(t,e);class A extends k{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):p.EMPTY}}function D(t){return t&&"function"==typeof t.schedule}class N extends g{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const O=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},P=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,a),e);const R="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",M=t=>e=>{const n=t[R]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},L=t=>e=>{const n=t[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},F=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function V(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const B=t=>{if(t instanceof E)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[v])return L(t);if(F(t))return O(t);if(V(t))return P(t);if(t&&"function"==typeof t[R])return M(t);{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function j(t,e,n,r,i=new N(t,n,r)){if(!i.closed)return B(e)(i)}class U extends g{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function q(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new z(t,e))}}class z{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new $(t,this.project,this.thisArg))}}class $ extends g{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function H(t,e){return new E(e?n=>{const r=new p;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:O(t))}function W(t,e){if(!e)return t instanceof E?t:new E(B(t));if(null!=t){if(function(t){return t&&"function"==typeof t[v]}(t))return function(t,e){return new E(e?n=>{const r=new p;return r.add(e.schedule(()=>{const i=t[v]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r}:L(t))}(t,e);if(V(t))return function(t,e){return new E(e?n=>{const r=new p;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r}:P(t))}(t,e);if(F(t))return H(t,e);if(function(t){return t&&"function"==typeof t[R]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new E(e?n=>{const r=new p;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[R](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const s=i.next();t=s.value,e=s.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r}:M(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function K(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(K((n,r)=>W(t(n,r)).pipe(q((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new G(t,n)))}class G{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Q(t,this.project,this.concurrent))}}class Q extends U{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new N(this,void 0,void 0);this.destination.add(r),j(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Y(t){return t}function X(t=Number.POSITIVE_INFINITY){return K(Y,t)}function Z(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return D(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof E?t[0]:X(e)(H(t,n))}function J(){return function(t){return t.lift(new tt(t))}}class tt{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new et(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class et extends g{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const nt=class extends E{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new p).add(this.source.subscribe(new it(this.getSubject(),this))),t.closed?(this._connection=null,t=p.EMPTY):this._connection=t),t}refCount(){return J()(this)}}.prototype,rt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:nt._subscribe},_isComplete:{value:nt._isComplete,writable:!0},getSubject:{value:nt.getSubject},connect:{value:nt.connect},refCount:{value:nt.refCount}};class it extends I{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}class st{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}function ot(){return new k}function at(){return t=>J()(function(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new st(r,e));const i=Object.create(n,rt);return i.source=n,i.subjectFactory=r,i}}(ot)(t))}const lt="__annotations__",ct="__parameters__",ut="__prop__metadata__";function ht(t,e,n,r,i){const s=dt(e);function o(...t){if(this instanceof o)return s.call(this,...t),this;const e=new o(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(lt)?n[lt]:Object.defineProperty(n,lt,{value:[]})[lt]).push(e),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function dt(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function pt(t,e,n){const r=dt(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(ct)?t[ct]:Object.defineProperty(t,ct,{value:[]})[ct];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}function mt(t,e,n,r){const i=dt(e);function s(...t){if(this instanceof s)return i.apply(this,t),this;const e=new s(...t);return function(n,i){const s=n.constructor,o=s.hasOwnProperty(ut)?s[ut]:Object.defineProperty(s,ut,{value:{}})[ut];o[i]=o.hasOwnProperty(i)&&o[i]||[],o[i].unshift(e),r&&r(n,i,...t)}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}const ft=pt("Inject",t=>({token:t}));const gt=pt("Optional");const yt=pt("Self");const vt=pt("SkipSelf");const _t=pt("Host");const bt=pt("Attribute",t=>({attributeName:t}));var wt;function Et(t){for(let e in t)if(t[e]===Et)return e;throw Error("Could not find renamed property on target object.")}function Ct(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function xt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}!function(t){t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional"}(wt||(wt={}));function St(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function Tt(t){const e=t[kt];return e&&e.token===t?e:null}function It(t){return t&&t.hasOwnProperty(At)?t[At]:null}const kt=Et({ngInjectableDef:Et}),At=Et({ngInjectorDef:Et});function Dt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(Dt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const Nt=Et({__forward_ref__:Et});function Ot(t){return t.__forward_ref__=Ot,t.toString=function(){return Dt(this())},t}function Pt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(Nt)&&e.__forward_ref__===Ot?e():t}const Rt="undefined"!=typeof globalThis&&globalThis,Mt="undefined"!=typeof window&&window,Lt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ft="undefined"!=typeof global&&global,Vt=Rt||Ft||Mt||Lt;var Bt;!function(t){t[t.Token=0]="Token",t[t.Attribute=1]="Attribute",t[t.ChangeDetectorRef=2]="ChangeDetectorRef"}(Bt||(Bt={}));class jt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=xt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ut=new jt("INJECTOR",-1),qt=new Object,zt="ngTempTokenPath",$t="ngTokenPath",Ht=/\n/gm,Wt="\u0275",Kt="__source",Gt=Et({provide:String,useValue:Et});let Qt,Yt=void 0;function Xt(t){const e=Yt;return Yt=t,e}function Zt(t){const e=Qt;return Qt=t,e}function Jt(t,e=wt.Default){return(Qt||function(t,e=wt.Default){if(void 0===Yt)throw new Error("inject() must be called from an injection context");return null===Yt?ee(t,void 0,e):Yt.get(t,e&wt.Optional?null:void 0,e)})(t,e)}const te=Jt;function ee(t,e,n){const r=Tt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&wt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${Dt(t)}]`)}function ne(t){const e=[];for(let n=0;n<t.length;n++){const r=Pt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=wt.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof gt||"Optional"===i.ngMetadataName||i===gt?n|=wt.Optional:i instanceof vt||"SkipSelf"===i.ngMetadataName||i===vt?n|=wt.SkipSelf:i instanceof yt||"Self"===i.ngMetadataName||i===yt?n|=wt.Self:t=i instanceof ft||i===ft?i.token:i}e.push(Jt(t,n))}else e.push(Jt(r))}return e}class re{get(t,e=qt){if(e===qt){const e=new Error(`NullInjectorError: No provider for ${Dt(t)}!`);throw e.name="NullInjectorError",e}return e}}function ie(t,e,n,r){const i=t[zt];throw e[Kt]&&i.unshift(e[Kt]),t.message=se("\n"+t.message,i,n,r),t[$t]=i,t[zt]=null,t}function se(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Wt?t.substr(2):t;let i=Dt(e);if(e instanceof Array)i=e.map(Dt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):Dt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ht,"\n  ")}`}class oe{}class ae{}function le(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function ce(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),ce(r,e)):e!==t&&e.push(r)}return e}function ue(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function he(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function de(t,e,n){t<=e&&me(n)}function pe(t,e){null==t&&me(e)}function me(t){throw new Error(`ASSERTION ERROR: ${t}`)}const fe={OnPush:0,Default:1};fe[fe.OnPush]="OnPush",fe[fe.Default]="Default";const ge={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};ge[ge.CheckOnce]="CheckOnce",ge[ge.Checked]="Checked",ge[ge.CheckAlways]="CheckAlways",ge[ge.Detached]="Detached",ge[ge.Errored]="Errored",ge[ge.Destroyed]="Destroyed";const ye={Emulated:0,Native:1,None:2,ShadowDom:3};function ve(t){return""+{toString:t}}ye[ye.Emulated]="Emulated",ye[ye.Native]="Native",ye[ye.None]="None",ye[ye.ShadowDom]="ShadowDom";const _e={},be=[];const we=Et({ngComponentDef:Et}),Ee=Et({ngDirectiveDef:Et}),Ce=Et({ngPipeDef:Et}),xe=Et({ngModuleDef:Et}),Se=(Et({ngLocaleIdDef:Et}),Et({ngBaseDef:Et}),Et({__NG_ELEMENT_ID__:Et}));let Te=0;function Ie(t){const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,consts:t.consts,vars:t.vars,factory:t.factory,template:t.template||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===fe.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ye.Emulated,id:"c",styles:t.styles||be,_:null,setInput:null,schemas:t.schemas||null,tView:null};return i._=ve(()=>{const n=t.directives,s=t.features,o=t.pipes;i.id+=Te++,i.inputs=Pe(t.inputs,r),i.outputs=Pe(t.outputs),s&&s.forEach(t=>t(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(Ae):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(De):null,e.hasOwnProperty(kt)||(e[kt]=xt({token:e,factory:t.factory}))}),i}function ke(t,e,n){const r=t.ngComponentDef;r.directiveDefs=()=>e.map(Ae),r.pipeDefs=()=>n.map(De)}function Ae(t){const e=Fe(t)||Ve(t);return e}function De(t){const e=Be(t);return e}function Ne(t){return{type:t.type,bootstrap:t.bootstrap||be,declarations:t.declarations||be,imports:t.imports||be,exports:t.exports||be,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}}function Oe(t,e){return ve(()=>{const n=je(t,!0);n.declarations=e.declarations||be,n.imports=e.imports||be,n.exports=e.exports||be})}function Pe(t,e){if(null==t)return _e;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Re(t){const e={};return{inputs:Pe(t.inputs,e),declaredInputs:e,outputs:Pe(t.outputs),viewQuery:t.viewQuery||null,contentQueries:t.contentQueries||null,hostBindings:t.hostBindings||null}}const Me=Ie;function Le(t){return{name:t.name,factory:t.factory,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Fe(t){return t[we]||null}function Ve(t){return t[Ee]||null}function Be(t){return t[Ce]||null}function je(t,e){const n=t[xe]||null;if(!n&&!0===e)throw new Error(`Type ${Dt(t)} does not have 'ngModuleDef' property.`);return n}const Ue=0,qe=1,ze=2,$e=3,He=4,We=5,Ke=6,Ge=7,Qe=8,Ye=9,Xe=10,Ze=11,Je=12,tn=13,en=14,nn=15,rn=16,sn=17,on=18,an=19;const ln=1,cn=2,un=5,hn=7,dn=8,pn=9;function mn(t){return Array.isArray(t)&&"object"==typeof t[ln]}function fn(t){return Array.isArray(t)&&!0===t[ln]}function gn(t){return 0!=(4&t.flags)}function yn(t){return 1==(1&t.flags)}function vn(t){return null!==t.template}function _n(t){return 0!=(512&t[ze])}const bn=8,wn=8,En=9;const Cn=-1;class xn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Sn(t,e,n,r,i,s){const{onChanges:o,onInit:a,doCheck:l}=e;i>=0&&(!n.preOrderHooks||i===n.preOrderHooks.length)&&(o||a||l)&&(n.preOrderHooks||(n.preOrderHooks=[])).push(r),s>=0&&(!n.preOrderCheckHooks||s===n.preOrderCheckHooks.length)&&(o||l)&&(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)),a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,a),l&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,l))}function Tn(t,e){if(t.firstTemplatePass)for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function In(t,e,n,r){n||kn(t,e.preOrderHooks,e.preOrderCheckHooks,n,0,void 0!==r?r:null)}function kn(t,e,n,r,i,s){if(r)return;const o=(3&t[ze])===i?e:n;o&&function(t,e,n,r){const i=void 0!==r?65535&t[on]:0,s=null!=r?r:-1;let o=0;for(let a=i;a<e.length;a++){if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else{e[a]<0&&(t[on]+=65536),(o<s||-1==s)&&(An(t,n,e,a),t[on]=(4294901760&t[on])+a+2),a++}}}(t,o,i,s),null==s&&(3&t[ze])===i&&3!==i&&(t[ze]&=1023,t[ze]+=1)}function An(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){t[ze]>>10<t[on]>>16&&(3&t[ze])===e&&(t[ze]+=1024,s.call(o))}else s.call(o)}let Dn=null;const Nn=new Map;let On=null;const Pn=1,Rn=0;function Mn(t,e){return On&&t===On||(On=t,e&&(Dn=Nn.get(t)||null),Dn=Dn||{classesBitMask:Rn,classesIndex:Pn,stylesBitMask:Rn,stylesIndex:Pn}),Dn}function Ln(){Dn=null,On=null}const Fn="__ngContext__";function Vn(t){for(;Array.isArray(t);)t=t[Ue];return t}function Bn(t,e){return Vn(e[t+an])}function jn(t,e){const n=Vn(e[t.index]);return n}function Un(t,e){const n=t.index,r=-1==n?null:Vn(e[n]);return r}function qn(t,e){return e[qe].data[t+an]}function zn(t,e){return t[e+an]}function $n(t,e){const n=e[t];return mn(n)?n:n[Ue]}function Hn(t){return t[Fn]}function Wn(t){const e=Hn(t);return e?Array.isArray(e)?e:e.lView:null}function Kn(t){t[on]=0}let Gn;let Qn,Yn=null;function Xn(t){Yn=t}function Zn(){return Qn}function Jn(){Qn=!0}function tr(){Qn=!1}function er(){return sr}const nr=1;let rr,ir,sr,or=nr,ar=0,lr=0;function cr(t=null){Rr!==t&&(Lr(null==t?-1:t),or=null==t?0:nr,ar=0,lr=0)}function ur(){or+=1+lr,ar=0,lr=0}function hr(t){ar+=t,lr=Math.max(lr,ar)}function dr(t){_r=t}function pr(){return rr}function mr(t,e){rr=t,ir=e}function fr(t,e){rr=t,sr=e}function gr(){return ir}function yr(){ir=!1}function vr(t=sr){return 4==(4&t[ze])}let _r=null;function br(){return _r}let wr=!1;function Er(){return wr}function Cr(t){wr=t}let xr=-1;function Sr(){return xr}function Tr(t){xr=t}let Ir=0;function kr(){return Ir}function Ar(t){Ir=t}function Dr(t,e){const n=sr;if(t){const e=t[qe];xr=e.bindingStartIndex}return rr=e,ir=!0,sr=_r=t,n}function Nr(t=1){return(_r=function(t,e){for(;t>0;)e=e[rn],t--;return e}(t,_r))[Ye]}function Or(){ir=!1,rr=null,Gn=0,Qn=!0,zr(null),Ln(),Nn.clear()}function Pr(t,e){const n=sr[qe];if(vr(sr))sr[ze]&=-5;else try{Kn(sr),e&&kn(sr,n.viewHooks,n.viewCheckHooks,wr,2,void 0)}finally{sr[ze]&=-73,sr[Ge]=n.bindingStartIndex}Dr(t,null)}let Rr=-1;function Mr(){return Rr}function Lr(t){Rr=t,Ln()}let Fr,Vr=null;function Br(){Vr="http://www.w3.org/2000/svg"}function jr(){Vr="http://www.w3.org/1998/MathML/"}function Ur(){qr()}function qr(){Vr=null}function zr(t){Fr=t}function $r(){return Fr}function Hr(t,e){return!(t!=t&&e!=e)&&t!==e}function Wr(t){return"string"==typeof t?t:null==t?"":""+t}function Kr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Wr(t)}const Gr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Vt))();function Qr(t){return{name:"window",target:t.ownerDocument.defaultView}}function Yr(t){return{name:"document",target:t.ownerDocument}}function Xr(t){return{name:"body",target:t.ownerDocument.body}}const Zr="\ufffd";const Jr="--MAP--",ti=0;function ei(t,e){if(e===ti){t[2]>ti&&function(t){ri(t,2|ni(t))}(t)}else t[2]=e}function ni(t){return t[1]}function ri(t,e){t[1]=e}function ii(t,e){return t[e+2]}function si(t,e){return 1&t[e+0]}function oi(t,e){return(1&si(t,e))>0}function ai(t,e){return t[e+0]>>1}function li(t,e,n){const r=si(t,e),i=n<<1;t[e+0]=r|i}function ci(t,e){return t[e+1]}function ui(t,e,n){return t[e+3+n]}function hi(t,e){return!(!t||e!==t[2])}function di(t){return(1&ni(t))>0}function pi(t){return(2&ni(t))>0}function mi(t){return 6+t[4]}function fi(t,e){let n=Array.isArray(t)?t[0]:t,r=Array.isArray(e)?e[0]:e;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),Hr(n,r)}function gi(t){return null!=t&&""!==t}function yi(t,e,n=" "){return t+(e.length&&t.length?n:"")+e}function vi(t){return t.replace(/[a-z][A-Z]/g,t=>t.charAt(0)+"-"+t.charAt(1)).toLowerCase()}function _i(t){return bi(t)?t[0]:t}function bi(t){return Array.isArray(t)&&t.length>=6&&"string"!=typeof t[1]}function wi(t){const e=_i(t);return e&&e[0]||""}function Ei(t){return 0!=(8&t.flags)}function Ci(t){return 0!=(16&t.flags)}function xi(t,e){return t[e+0]}function Si(t,e,n){t[e+1]=n}function Ti(t,e){return t[e+1]}const Ii={Important:1,DashCase:2};function ki(t){return!!t.listen}Ii[Ii.Important]="Important",Ii[Ii.DashCase]="DashCase";const Ai={createRenderer:(t,e)=>document};function Di(t,e){const n=er()[Je],r=ki(n);let i=0;for(;i<e.length;){const s=e[i];if("number"==typeof s){if(0!==s)break;i++;const o=e[i++],a=e[i++],l=e[i++];r?n.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=e[++i];Pi(o)?r&&n.setProperty(t,o,a):r?n.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function Ni(t){return 3===t||4===t||6===t}const Oi="@";function Pi(t){return t[0]===Oi}function Ri(t){return t!==Cn}function Mi(t){return 32767&t}function Li(t){return t>>16}function Fi(t,e){let n=Li(t),r=e;for(;n>0;)r=r[rn],n--;return r}function Vi(t){const e=t[$e];return fn(e)?e[$e]:e}function Bi(t){let e=mn(t)?t:Wn(t);for(;e&&!(512&e[ze]);)e=Vi(e);return e}function ji(t){let e=t[Ke];for(;null!==e&&2===e.type;)e=(t=t[rn])[Ke];return t}function Ui(t){const e=Bi(t);return e[Ye]}let qi=!0;function zi(t){const e=qi;return qi=t,e}const $i=255;let Hi=0;function Wi(t,e){const n=Gi(t,e);if(-1!==n)return n;const r=e[qe];r.firstTemplatePass&&(t.injectorIndex=e.length,Ki(r.data,t),Ki(e,null),Ki(r.blueprint,null));const i=Qi(t,e),s=Mi(i),o=Fi(i,e),a=t.injectorIndex;if(Ri(i)){const t=o[qe].data;for(let n=0;n<8;n++)e[a+n]=o[s+n]|t[s+n]}return e[a+wn]=i,a}function Ki(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Gi(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+wn]?-1:t.injectorIndex}function Qi(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[Ke],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[rn])?e[Ke]:null,r++;return n?n.injectorIndex|r<<16:-1}function Yi(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Se]:n.charCodeAt(0)||0;null==r&&(r=n[Se]=Hi++);const i=r&$i,s=1<<i,o=128&i,a=64&i,l=32&i,c=e.data;o?a?l?c[t+7]|=s:c[t+6]|=s:l?c[t+5]|=s:c[t+4]|=s:a?l?c[t+3]|=s:c[t+2]|=s:l?c[t+1]|=s:c[t]|=s}(t,e,n)}function Xi(t,e,n,r=wt.Default,i){if(t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Se];return"number"==typeof e&&e>0?e&$i:e}(n);if("function"==typeof i){const s=pr(),o=er();fr(t,e);try{const t=i();if(null!=t||r&wt.Optional)return t;throw new Error(`No provider for ${Kr(n)}!`)}finally{fr(s,o)}}else if("number"==typeof i){if(-1===i)return new is(t,e);let s=null,o=Gi(t,e),a=Cn,l=r&wt.Host?ji(e)[Ke]:null;for((-1===o||r&wt.SkipSelf)&&(a=-1===o?Qi(t,e):e[o+wn],rs(r,!1)?(s=e[qe],o=Mi(a),e=Fi(a,e)):o=-1);-1!==o;){a=e[o+wn];const t=e[qe];if(ns(i,o,t.data)){const t=Ji(o,e,n,s,r,l);if(t!==Zi)return t}rs(r,e[qe].data[o+bn]===l)&&ns(i,o,e)?(s=t,o=Mi(a),e=Fi(a,e)):o=-1}}}if(r&wt.Optional&&void 0===i&&(i=null),0==(r&(wt.Self|wt.Host))){const t=e[Xe],s=Zt(void 0);try{return t?t.get(n,i,r&wt.Optional):ee(n,i,r&wt.Optional)}finally{Zt(s)}}if(r&wt.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Kr(n)}]`)}const Zi={};function Ji(t,e,n,r,i,s){const o=e[qe],a=o.data[t+bn],l=ts(a,o,n,null==r?yn(a)&&qi:r!=o&&3===a.type,i&wt.Host&&s===a);return null!==l?es(o.data,e,l,a):Zi}function ts(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=65535&s,l=t.directiveStart,c=t.directiveEnd,u=s>>16,h=i?a+u:c;for(let d=r?a:a+u;d<h;d++){const t=o[d];if(d<l&&n===t||d>=l&&t.type===n)return d}if(i){const t=o[l];if(t&&vn(t)&&t.type===n)return l}return null}function es(t,e,n,r){let i=e[n];if(null!==(s=i)&&"object"==typeof s&&Object.getPrototypeOf(s)==xn.prototype){const s=i;if(s.resolving)throw new Error(`Circular dep for ${Kr(t[n])}`);const o=zi(s.canSeeViewProviders);let a;s.resolving=!0,s.injectImpl&&(a=Zt(s.injectImpl));const l=pr(),c=er();fr(r,e);try{i=e[n]=s.factory(void 0,t,e,r)}finally{s.injectImpl&&Zt(a),zi(o),s.resolving=!1,fr(l,c)}}var s;return i}function ns(t,e,n){const r=1<<t,i=64&t,s=32&t;let o;return!!((o=128&t?i?s?n[e+7]:n[e+6]:s?n[e+5]:n[e+4]:i?s?n[e+3]:n[e+2]:s?n[e+1]:n[e])&r)}function rs(t,e){return!(t&wt.Self||t&wt.Host&&e)}class is{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Xi(this._tNode,this._lView,t,void 0,e)}}function ss(t){const e=t,n=Fe(e)||Ve(e)||Be(e)||Tt(e)||It(e);return n&&void 0!==n.factory?n.factory:null}function os(t){const e=ss(Object.getPrototypeOf(t.prototype).constructor);return null!==e?e:t=>new t}const as="ngDebugContext",ls="ngOriginalError",cs="ngErrorLogger";function us(t){return t[as]}function hs(t){return t[ls]}function ds(t,...e){t.error(...e)}class ps{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[cs]||ds}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?us(t)?us(t):this._findContext(hs(t)):null}_findOriginalError(t){let e=hs(t);for(;e&&hs(e);)e=hs(e);return e}}const ms="__SANITIZER_TRUSTED_BRAND__";function fs(t,e){return t instanceof String&&t[ms]===e}let gs=!0,ys=!1;function vs(){return ys=!0,gs}class _s{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement=this.getInertBodyElement_DOMParser:this.getInertBodyElement=this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const n=(new window.DOMParser).parseFromString(t,"text/html").body;return n.removeChild(n.firstChild),n}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const bs=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,ws=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Es(t){return(t=String(t)).match(bs)||t.match(ws)?t:(vs()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Cs(t){return(t=String(t)).split(",").map(t=>Es(t.trim())).join(", ")}function xs(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Ss(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Ts=xs("area,br,col,hr,img,wbr"),Is=xs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ks=xs("rp,rt"),As=Ss(ks,Is),Ds=Ss(Is,xs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ns=Ss(ks,xs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Os=Ss(Ts,Ds,Ns,As),Ps=xs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rs=xs("srcset"),Ms=xs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ls=xs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Fs=Ss(Ps,Rs,Ms,Ls),Vs=xs("script,style,template");class Bs{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Os.hasOwnProperty(e))return this.sanitizedSomething=!0,!Vs.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!Fs.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;Ps[i]&&(s=Es(s)),Rs[i]&&(s=Cs(s)),this.buf.push(" ",e,'="',qs(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Os.hasOwnProperty(e)&&!Ts.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(qs(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const js=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Us=/([^\#-~ |!])/g;function qs(t){return t.replace(/&/g,"&amp;").replace(js,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Us,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zs;function $s(t,e){let n=null;try{zs=zs||new _s(t);let r=e?String(e):"";n=zs.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=zs.getInertBodyElement(r)}while(r!==s);const o=new Bs,a=o.sanitizeChildren(Hs(n)||n);return vs()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Hs(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Hs(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Ws={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};Ws[Ws.NONE]="NONE",Ws[Ws.HTML]="HTML",Ws[Ws.STYLE]="STYLE",Ws[Ws.SCRIPT]="SCRIPT",Ws[Ws.URL]="URL",Ws[Ws.RESOURCE_URL]="RESOURCE_URL";class Ks{}const Gs=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Qs=/^url\(([^)]+)\)$/;function Ys(t){if(!(t=String(t).trim()))return"";const e=t.match(Qs);return e&&Es(e[1])===e[1]||t.match(Gs)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(vs()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function Xs(t){const e=io();return e?e.sanitize(Ws.HTML,t)||"":fs(t,"Html")?t.toString():$s(document,Wr(t))}function Zs(t){const e=io();return e?e.sanitize(Ws.STYLE,t)||"":fs(t,"Style")?t.toString():Ys(Wr(t))}function Js(t){const e=io();return e?e.sanitize(Ws.URL,t)||"":fs(t,"Url")?t.toString():Es(Wr(t))}function to(t){const e=io();if(e)return e.sanitize(Ws.RESOURCE_URL,t)||"";if(fs(t,"ResourceUrl"))return t.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function eo(t){const e=io();if(e)return e.sanitize(Ws.SCRIPT,t)||"";if(fs(t,"Script"))return t.toString();throw new Error("unsafe value used in a script context")}function no(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?to:Js}(e,n)(t)}const ro=function(t,e,n){let r=!0;return 1&(n=n||3)&&(r="background-image"===t||"background"===t||"border-image"===t||"filter"===t||"list-style"===t||"list-style-image"===t||"clip-path"===t),2&n?r?Zs(e):e:r};function io(){const t=er();return t&&t[tn]}function so(t){var e;return e=t.replace(/[$@]/g,"_"),`ng-reflect-${t=e.replace(oo,(...t)=>"-"+t[1].toLowerCase())}`}const oo=/([A-Z])/g;function ao(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function lo(t,e){t[Fn]=e}function co(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}const uo="ng-template";function ho(t,e){const n=t.length,r=t.indexOf(e),i=r+e.length;return!(-1===r||r>0&&" "!==t[r-1]||i<n&&" "!==t[i])}function po(t,e,n){return e===(0!==t.type||n?t.tagName:uo)}function mo(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++){if(Ni(t[e]))return e}return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!po(t,l,n)||""===l&&1===e.length){if(fo(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&t.classes){if(!ho(wi(t.classes),c)){if(fo(r))return!1;o=!0}continue}const u=go(8&r?"class":l,i,0==t.type&&t.tagName!==uo,n);if(-1===u){if(fo(r))return!1;o=!0;continue}if(""!==c){let t;t=u>s?"":i[u+1];const e=8&r?t:null;if(e&&!ho(e,c)||2&r&&c!==t){if(fo(r))return!1;o=!0}}}}else{if(!o&&!fo(r)&&!fo(l))return!1;if(o&&fo(l))continue;o=!1,r=l|1&r}}return fo(r)||o}function fo(t){return 0==(1&t)}function go(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function yo(t,e,n=!1){for(let r=0;r<e.length;r++)if(mo(t,e[r],n))return!0;return!1}function vo(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}const _o=1,bo=0,wo=null,Eo=1;let Co=[];function xo(t,e,n,r,i,s,o,a){const l=!r,c=Mn(n,pi(t)),u=l?bo:c.classesIndex++;return!(!To(t,e,u,r,i,s,o,a,!1)&&!a)&&(c.classesBitMask|=1<<u,!0)}function So(t,e,n,r,i,s,o,a,l){const c=!r,u=Mn(n,pi(t)),h=c?bo:u.stylesIndex++;return!(!To(t,e,h,r,i,s,a,l,!!c||!!o&&o(r,null,1))&&!l)&&(u.stylesBitMask|=1<<h,!0)}function To(t,e,n,r,i,s,o,a,l){di(t)||(o?function(t,e,n,r,i){Co.unshift(t,e,n,r,i)}(t,n,r,i,l):(Co.length&&Io(),ko(t,n,r,i,l)));const c=a||fi(e[i],s);return c&&(e[i]=s),c}function Io(){let t=0;for(;t<Co.length;){ko(Co[t++],Co[t++],Co[t++],Co[t++],Co[t++])}Co.length=0}function ko(t,e,n,r,i){let s=!1;if(n){let o=!1,a=mi(t);for(;a<t.length;){const s=ci(t,a),l=ii(t,a);if(o=n<=l){n<l&&Ao(t,a,n,i),Do(t,!1,a,r,e);break}a+=3+s}o||(Ao(t,t.length,n,i),Do(t,!1,a,r,e),s=!0)}else Do(t,!0,3,r,e),s=!0;return s}function Ao(t,e,n,r){const i=r?1:0;t.splice(e,0,i,Eo,n,wo),li(t,e,_o)}function Do(t,e,n,r,i){const s=n+3;let o=s+ci(t,n);if(e||o--,"number"==typeof r){for(let e=s;e<=o;e++){if(t[e]===r)return}t.splice(o,0,r),t[n+1]++,li(t,n,ai(t,n)|1<<i)}else null!==r&&null==t[o]&&(t[o]=r)}function No(t,e,n,r,i,s,o){const a=n?pi(n):!!r&&pi(r),l=hi(n,s),c=hi(r,s);Co.length&&(l||c)&&Io();const u=Mn(i,a),h=Oo(t,i,e,n,l,u.classesBitMask,Lo,null),d=Oo(t,i,e,r,c,u.stylesBitMask,Mo,o);h&&d?(Ln(),a&&function(t){Nn.delete(t)}(i)):a&&function(t,e){Nn.set(t,e)}(i,u)}function Oo(t,e,n,r,i,s,o,a){return i&&r&&(function(t){if(!di(t)){const e=_i(t);e&&function(t,e){for(let n=1;n<e.length;n+=2){const r=Ti(e,n);if(r){const i=xi(e,n);ko(t,-1,i,r,!1)}}}(t,e),function(t){ri(t,1|ni(t))}(t)}}(r),function(t,e){return t&&e>Rn}(r,s))?(Po(r,t,e,n,s,o,a),!0):i}function Po(t,e,n,r,i,s,o){const a=!0===(l=i)?-1:!1===l?0:l;var l;const c=Ro,u=(a&ai(t,3))>0?1:0;let h=mi(t);for(;h<t.length;){const i=ci(t,h);if(a&ai(t,h)){let a=!1;const l=ii(t,h),d=i-1,p=ui(t,h,d);for(let i=0;i<d;i++){const c=ui(t,h,i),u=r[c];if(gi(u)){s(e,n,l,o&&oi(t,h)?o(l,u,2):u,c),a=!0;break}}if(c){const i=c(t,e,n,r,s,o,u|(a?4:2),l,p);a=a||i}a||s(e,n,l,p)}h+=3+i}c&&c(t,e,n,r,s,o,u)}let Ro=null;const Mo=(t,e,n,r)=>{const i=e.style;r?(r=r.toString(),t&&ki(t)?t.setStyle(e,n,r,Ii.DashCase):i&&i.setProperty(n,r)):t&&ki(t)?t.removeStyle(e,n,Ii.DashCase):i&&i.removeProperty(n)},Lo=(t,e,n,r)=>{if(""!==n){const i=e.classList;r?t&&ki(t)?t.addClass(e,n):i&&i.add(n):t&&ki(t)?t.removeClass(e,n):i&&i.remove(n)}};function Fo(t,e,n,r){const i=_i(n);if(i)for(let s=1;s<i.length;s+=2){const n=xi(i,s),o=Ti(i,s);r?Lo(t,e,n,o,null):Mo(t,e,n,o,null)}}const Vo={},Bo={marker:"element"},jo={marker:"comment"};const Uo=(t,e,n,r,i,s,o,a,l)=>{let c=!1;if(ci(t,3)){let u=!0;const h=!a;h&&-2&o&&(u=!1,c=!0),u&&(c=function t(e,n,r,i,s,o,a,l,c,u){let h=!1;const d=ci(e,3);if(c<d){const d=ui(e,3,c),m=i[d];let f=function(t){t>=Ho.length&&Ho.push(1);return Ho[t]}(c);for(;f<m.length;){const p=xi(m,f),g=l&&p>l,y=!g&&p===l,v=Ti(m,f),_=gi(v),b=g?a:zo(a,_,y),w=g?l:p;let E=t(e,n,r,i,s,o,b,w,c+1,u);if(g){h||(h=E);break}if(!E&&$o(a,y)){const t=y&&!_,e=t?u:v,i=t?d:null,a=o?o(p,e,3):e;s(n,r,p,a,i),E=!0}h=E&&y,f+=2}if(p=f,Ho[c]=p,1===m.length||!l)return t(e,n,r,i,s,o,a,l,c+1,u)}var p;return h}(t,e,n,r,i,s,o,a||null,0,l||null)),h&&function(){for(let t=0;t<Ho.length;t++)Ho[t]=1}()}return c};function qo(){Ro=Uo}function zo(t,e,n){let r=t;return e||4&t||!(n||1&t)?(r|=4,r&=-3):(r|=2,r&=-5),r}function $o(t,e){let n=(1&t)>0;return n?4&t&&e&&(n=!1):2&t&&(n=e),n}const Ho=[];function Wo(t,e,n,r){for(let i=1;i<t.length;i+=2){const s=xi(t,i);if(e<=s){let o=!1;if(s===e){const e=t[i];!r&&gi(e)||(o=!0,Si(t,i,n))}else o=!0,t.splice(i,0,e,n);return o}}return t.push(e,n),!0}function Ko(t,e){let n="";for(let r=1;r<t.length;r+=2){const i=xi(t,r),s=Ti(t,r),o=yi(i,e?"":s,":");n=yi(n,o,e?" ":"; ")}return n}function Go(t){Qo(er(),t)}function Qo(t,e){In(t,t[qe],Er(),e),Lr(e)}const Yo=(()=>Promise.resolve(null))();function Xo(t){const e=t[qe],n=vr(t);if(e.firstTemplatePass=!1,t[Ge]=e.bindingStartIndex,!n){const n=Er();In(t,e,n,void 0),function(t){for(let e=t[en];null!==e;e=e[He])if(-1===e[cn]&&fn(e))for(let t=pn;t<e.length;t++){const n=e[t];ra(n,n[qe],n[Ye])}}(t),Zo(e,t),Kn(t),kn(t,e.contentHooks,e.contentCheckHooks,n,1,void 0),function(t,e){const n=Mr();try{if(t.expandoInstructions){let n=e[Ge]=t.expandoStartIndex;Tr(n);let r=-1,i=-1;for(let s=0;s<t.expandoInstructions.length;s++){const o=t.expandoInstructions[s];if("number"==typeof o){if(o<=0){cr(i=-o);const e=t.expandoInstructions[++s];r=n+=En+e}else n+=o;Tr(n)}else{if(null!==o){e[Ge]=n;const t=Vn(e[r]);o(2,t,i),ur()}r++}}}}finally{cr(n)}}(e,t)}n&&e.staticContentQueries&&Zo(e,t),n&&!e.staticViewQueries||La(2,e,t[Ye]),function(t,e){if(null!=e)for(let n=0;n<e.length;n++)ka(t,e[n])}(t,e.components)}function Zo(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Ar(i),n.contentQueries(2,e[s],s)}}}function Jo(t,e){let n;const r=e||er()[Je],i=Vr;return n=ki(r)?r.createElement(t,i):null===i?r.createElement(t):r.createElementNS(i,t)}function ta(t,e,n,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[Ue]=i,u[ze]=140|r,Kn(u),u[$e]=u[rn]=t,u[Ye]=n,u[Ze]=o||t&&t[Ze],u[Je]=a||t&&t[Je],u[tn]=l||t&&t[tn]||null,u[Xe]=c||t&&t[Xe]||null,u[Ke]=s,u}function ea(t,e,n,r,i,s){const o=n+an,a=t.data[o]||function(t,e,n,r,i,s,o){const a=pr(),l=gr(),c=l?a:a&&a.parent,u=c&&c!==e?c:null,h=t.data[n]=da(t,u,r,n,i,s);0!==o&&t.firstChild||(t.firstChild=h);a&&(!l||null!=a.child||null===h.parent&&2!==a.type?l||(a.next=h):a.child=h);return h}(t,e,o,r,i,s,n);return mr(a,!0),a}function na(t,e,n,r){let i=t.node;return null==i&&(t.node=i=da(t,e,2,n,null,null)),r[Ke]=i}function ra(t,e,n){const r=gr(),i=pr();let s;if(512&t[ze])Na(Ui(t));else{let o=!1;try{mr(null,!0),s=Dr(t,t[Ke]),Kn(t),sa(t,e.template,oa(t),n),e.firstTemplatePass=!1,Xo(t),o=!0}finally{Pr(s,o),mr(i,r)}}}function ia(t,e,n){const r=t[Ze],i=Dr(t,t[Ke]),s=!Er(),o=vr(t);let a=!1;try{s&&!o&&r.begin&&r.begin(),o&&(n&&sa(t,n,1,e),Xo(t),t[ze]&=-5),Kn(t),n&&sa(t,n,2,e),Xo(t),a=!0}finally{s&&!o&&r.end&&r.end(),Pr(i,a)}}function sa(t,e,n,r){qr();const i=Mr();try{cr(null),2&n&&Qo(t,0),e(n,r)}finally{Lr(i)}}function oa(t){return vr(t)?1:2}function aa(t,e,n){if(gn(e)){const r=e.directiveStart,i=e.directiveEnd;for(let e=r;e<i;e++){const r=t.data[e];r.contentQueries&&r.contentQueries(1,n[e],e)}}}function la(t,e,n,r=jn){Zn()&&(!function(t,e,n){const r=n.directiveStart,i=n.directiveEnd;!t.firstTemplatePass&&r<i&&Wi(n,e);for(let s=r;s<i;s++){const r=t.data[s];vn(r)&&Sa(e,n,r);const i=es(t.data,e,s,n);_a(e,i,r,s)}}(t,e,n),function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstTemplatePass,a=n.index-an,l=Mr();try{cr(a);for(let a=r;a<i;a++){const r=t.data[a],i=e[a];r.hostBindings?(ya(r,s,i,n,o),ur()):o&&s.push(null)}}finally{cr(l)}}(t,e,n),function(t,e,n){const r=e.localNames;if(r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}(e,n,r),cr(null))}function ca(t){return t.tView||(t.tView=ua(-1,t.template,t.consts,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas))}function ua(t,e,n,r,i,s,o,a){const l=an+n,c=l+r,u=function(t,e){const n=new Array(e).fill(null,0,t).fill(Vo,t);return n[Ge]=t,n}(l,c);return u[qe]={id:t,blueprint:u,template:e,queries:null,viewQuery:o,node:null,data:u.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:c,expandoInstructions:null,firstTemplatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a}}function ha(t,e){const n=t.createRenderer(null,null),r="string"==typeof e?ki(n)?n.selectRootElement(e):n.querySelector(e):e;return r}function da(t,e,n,r,i,s){let o=e?e.injectorIndex:-1;return{type:n,index:r,injectorIndex:o,directiveStart:-1,directiveEnd:-1,propertyMetadataStartIndex:-1,propertyMetadataEndIndex:-1,flags:0,providerIndexes:0,tagName:i,attrs:s,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,classes:null}}function pa(t,e){const n=er()[qe];let r=null;const i=t.directiveStart,s=t.directiveEnd;if(s>i){const t=0===e,o=n.data;for(let e=i;e<s;e++){const n=o[e],i=t?n.inputs:n.outputs;for(let t in i)if(i.hasOwnProperty(t)){r=r||{};const n=i[t];r.hasOwnProperty(t)?r[t].push(e,t,n):r[t]=[e,t,n]}}}return r}const ma={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};function fa(t,e,n,r,i,s){const o=er(),a=Bn(t,o),l=qn(t,o);let c,u;if(!i&&(c=Ba(l))&&(u=c[e]))$a(o,u,n),yn(l)&&function(t,e){const n=$n(e,t);16&n[ze]||(n[ze]|=64)}(o,t+an);else if(3===l.type){(function(t,e,n,r,i){const s=e[Ge]-1,o=r[s];o[0]==Zr&&(r[s]=n+o,i||(-1==t.propertyMetadataStartIndex&&(t.propertyMetadataStartIndex=s),t.propertyMetadataEndIndex=s+1))})(l,o,e=ma[e]||e,o[qe].data,i);const t=s?s(l,o):o[Je];n=null!=r?r(n,l.tagName||"",e):n,ki(t)?t.setProperty(a,e,n):Pi(e)||(a.setProperty?a.setProperty(e,n):a[e]=n)}else l.type}function ga(t,e,n,r){if(!Zn())return;const i=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];yo(n,o.selectors,!1)&&(i||(i=[]),Yi(Wi(n,e),t,o.type),vn(o)?(1&n.flags&&co(n),n.flags=1,i.unshift(o)):i.push(o))}return i}(t,e,n),s=r?{"":-1}:null;if(i){Ca(n,t.data.length,i.length);for(let t=0;t<i.length;t++){const e=i[t];e.providersResolver&&e.providersResolver(e)}va(t,n,i.length);const r=t.preOrderHooks&&t.preOrderHooks.length||0,o=t.preOrderCheckHooks&&t.preOrderCheckHooks.length||0,a=n.index-an;for(let n=0;n<i.length;n++){const l=i[n],c=t.data.length;xa(t,e,l,l.factory),Ea(t.data.length-1,l,s),Sn(c,l,t,a,r,o)}}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}function ya(t,e,n,r,i){const s=e.length;Xn(t);const o=r.index-an;t.hostBindings(1,n,o),Xn(null),s===e.length&&i&&e.push(t.hostBindings)}function va(t,e,n){const r=-(e.index-an),i=65535&e.providerIndexes,s=t.data.length-i;(t.expandoInstructions||(t.expandoInstructions=[])).push(r,s,n)}function _a(t,e,n,r){const i=pr();if(ba(t,i,e),i&&i.attrs&&function(t,e,n,r){let i=r.initialInputs;(void 0===i||t>=i.length)&&(i=function(t,e,n){const r=n.initialInputs||(n.initialInputs=[]);for(let o=r.length;o<=t;o++)r.push(null);const i=n.attrs;let s=0;for(;s<i.length;){const n=i[s];if(0===n){s+=4;continue}if(5===n){s+=2;continue}if("number"==typeof n)break;const o=e[n],a=i[s+1];if(void 0!==o){(r[t]||(r[t]=[])).push(n,o,a)}s+=2}return r}(t,n.inputs,r));const s=i[t];if(s){const t=n.setInput;for(let r=0;r<s.length;){const i=s[r++],o=s[r++],a=s[r++];t?n.setInput(e,a,i,o):e[o]=a}}}(r,e,n,i),t[qe].firstTemplatePass&&n.contentQueries&&(i.flags|=4),vn(n)){$n(i.index,t)[Ye]=e}}function ba(t,e,n){const r=jn(e,t);lo(n,t),r&&lo(r,t)}function wa(t){const e=er()[qe];(e.components||(e.components=[])).push(t.index)}function Ea(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;e.template&&(n[""]=t)}}function Ca(t,e,n){const r=t.flags;t.flags=1&r,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xa(t,e,n,r){t.data.push(n);const i=new xn(r,vn(n),null);t.blueprint.push(i),e.push(i)}function Sa(t,e,n){const r=jn(e,t),i=ca(n),s=t[Ze],o=Aa(t,ta(t,i,null,n.onPush?64:16,t[e.index],e,s,s.createRenderer(r,n)));o[Ke]=e,t[e.index]=o,t[qe].firstTemplatePass&&wa(e)}function Ta(t,e,n,r,i,s){const o=Bn(t,r),a=r[Je];if(null==n)ki(a)?a.removeAttribute(o,e,s):o.removeAttribute(e);else{const l=qn(t,r),c=null==i?Wr(n):i(n,l.tagName||"",e);ki(a)?a.setAttribute(o,e,c,s):s?o.setAttributeNS(s,e,c):o.setAttribute(e,c)}}function Ia(t,e,n,r,i){const s=new Array(t,!0,i?-1:0,e,null,null,r,n,null);return s}function ka(t,e){const n=$n(e,t);(128==(128&n[ze])||vr(t))&&80&n[ze]&&(!function(t){const e=t[qe];for(let n=t.length;n<e.blueprint.length;n++)t[n]=e.blueprint[n]}(n),Ma(n,n[Ye]))}function Aa(t,e){return t[en]?t[nn][He]=e:t[en]=e,t[nn]=e,e}function Da(t){for(;t;){t[ze]|=64;const e=Vi(t);if(_n(t)&&!e)return t;t=e}return null}function Na(t){for(let e=0;e<t.components.length;e++){const n=t.components[e];ia(Wn(n),n)}}function Oa(t,e){const n=t[Ze];n.begin&&n.begin();try{vr(t)&&Ma(t,e),Ma(t,e)}catch(r){throw za(t,r),r}finally{n.end&&n.end()}}function Pa(t){Na(t[Ye])}function Ra(t,e){Cr(!0);try{Oa(t,e)}finally{Cr(!1)}}function Ma(t,e){const n=t[qe],r=Dr(t,t[Ke]),i=n.template,s=vr(t);let o=!1;try{Kn(t),s&&La(1,n,e),sa(t,i,oa(t),e),Xo(t),o=!0}finally{Pr(r,o)}}function La(t,e,n){const r=e.viewQuery;null!==r&&(Ar(0),r(t,n))}function Fa(t,e="",n=""){const r=t[qe].data,i=t[Ge]-1,s=Zr+e+Zr+n;return null==r[i]?r[i]=s:null}const Va=Yo;function Ba(t){return void 0===t.inputs&&(t.inputs=pa(t,0)),t.inputs}function ja(t){return t[Qe]||(t[Qe]=[])}function Ua(t){return t[qe].cleanup||(t[qe].cleanup=[])}function qa(t,e){return e[t.index][Je]}function za(t,e){const n=t[Xe],r=n?n.get(ps,null):null;r&&r.handleError(e)}function $a(t,e,n){const r=t[qe];for(let i=0;i<e.length;){const s=e[i++],o=e[i++],a=e[i++],l=t[s],c=r.data[s];c.setInput?c.setInput(l,n,o,a):l[a]=n}}function Ha(t,e,n){const r=Bn(e,t),i=t[Je];ki(i)?i.setValue(r,n):r.textContent=n}function Wa(t,e,n){Fo(t,e,n.classes,!0),Fo(t,e,n.styles,!1)}function Ka(t,e){const n=e[$e];return-1===t.index?fn(n)?n:null:n}function Ga(t,e){const n=Ka(t,e);return n?ll(e[Je],n[hn]):null}function Qa(t,e,n,r,i){if(null!=r){let s,o=!1;fn(r)?s=r:mn(r)&&(o=!0,r=r[Ue]);const a=Vn(r);0===t?ol(e,n,a,i||null):1===t?hl(e,a,o):2===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[hn],o=Vn(n);s!==o&&Qa(e,t,r,s,i);for(let a=pn;a<n.length;a++){const i=n[a];fl(t,e,i,r,s)}}(e,t,s,n,i)}}function Ya(t,e){return ki(e)?e.createText(Wr(t)):e.createTextNode(Wr(t))}function Xa(t,e,n){const r=Ga(t[qe].node,t);if(r){fl(t[Je],e?0:1,t,r,n)}}function Za(t,e,n){const r=pn+n,i=e.length;n>0&&(e[r-1][He]=t),n<i-pn?(t[He]=e[r],ue(e,pn+n,t)):(e.push(t),t[He]=null),t[$e]=e;const s=t[sn];null!==s&&e!==s&&function(t,e){const n=t[un];null===n?t[un]=[e]:n.push(e)}(s,t);const o=t[We];null!==o&&o.insertView(t[qe]),t[ze]|=128}function Ja(t,e){const n=t[un],r=n.indexOf(e);n.splice(r,1)}function tl(t,e){if(t.length<=pn)return;const n=pn+e,r=t[n];if(r){const i=r[sn];null!==i&&i!==t&&Ja(i,r),e>0&&(t[n-1][He]=r[He]);const s=he(t,pn+e);Xa(r,!1);const o=s[We];null!==o&&o.detachView(s[qe]),r[$e]=null,r[He]=null,r[ze]&=-129}return r}function el(t,e){const n=tl(t,e);n&&nl(n)}function nl(t){if(!(256&t[ze])){const e=t[Je];ki(e)&&e.destroyNode&&fl(e,2,t,null,null),function(t){let e=t[en];if(!e)return il(t);for(;e;){let n=null;if(mn(e))n=e[en];else{const t=e[pn];t&&(n=t)}if(!n){for(;e&&!e[He]&&e!==t;)il(e),e=rl(e,t);il(e||t),n=e&&e[He]}e=n}}(t)}}function rl(t,e){let n;return mn(t)&&(n=t[Ke])&&2===n.type?Ka(n,t):t[$e]===e?null:t[$e]}function il(t){if(mn(t)&&!(256&t[ze])){t[ze]&=-129,t[ze]|=256,function(t){const e=t[qe];let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];e instanceof xn||n[r+1].call(e)}}(t),function(t){const e=t[qe].cleanup;if(null!==e){const n=t[Qe];for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const i=e[r+1],s="function"==typeof i?i(t):Vn(t[i]),o=n[e[r+2]],a=e[r+3];"boolean"==typeof a?s.removeEventListener(e[r],o,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else{const t=n[e[r+1]];e[r].call(t)}t[Qe]=null}}(t);const e=t[Ke];e&&3===e.type&&ki(t[Je])&&t[Je].destroy();const n=t[sn];if(null!==n&&fn(t[$e])){n!==t[$e]&&Ja(n,t);const e=t[We];null!==e&&e.detachView(t[qe])}}}function sl(t,e){if(_n(e))return ll(e[Je],jn(t,e));const n=function(t){for(;null!=t.parent&&(4===t.parent.type||5===t.parent.type);)t=t.parent;return t}(t),r=n.parent;if(null==r){const t=e[Ke];return 2===t.type?Ga(t,e):function(t){const e=t[Ke];return e&&3===e.type?jn(e,Vi(t)):null}(e)}{const t=n&&5===n.type;if(t&&2&n.flags)return jn(n,e).parentNode;if(1&r.flags&&!t){const t=e[qe].data,n=t[t[r.index].directiveStart].encapsulation;if(n!==ye.ShadowDom&&n!==ye.Native)return null}return jn(r,e)}}function ol(t,e,n,r){ki(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function al(t,e,n,r){null!==r?ol(t,e,n,r):function(t,e,n){ki(t)?t.appendChild(e,n):e.appendChild(n)}(t,e,n)}function ll(t,e){return ki(t)?t.parentNode(e):e.parentNode}function cl(t,e,n){const r=sl(e,n);if(null!=r){const i=n[Je],s=function(t,e){if(2===t.type){const n=Ka(t,e);return ul(n.indexOf(e,pn)-pn,n)}return 4===t.type||5===t.type?jn(t,e):null}(e.parent||n[Ke],n);if(Array.isArray(t))for(let e of t)al(i,r,e,s);else al(i,r,t,s)}}function ul(t,e){const n=pn+t+1;if(n<e.length){const t=e[n],r=t[Ke].child;return null!==r?Un(r,t):e[hn]}return e[hn]}function hl(t,e,n){const r=ll(t,e);r&&function(t,e,n,r){ki(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function dl(t,e,n,r){const i=r[$e];let s=r[Ke].projection[n];if(Array.isArray(s))cl(s,e,t);else for(;s;)32&s.flags||(1===s.type?dl(t,e,s.projection,ji(i)):(s.flags|=2,ml(s,e,t,i))),s=s.projectionNext}function pl(t,e,n,r){for(;t;)ml(t,e,n,r),t=t.next}function ml(t,e,n,r){const i=jn(t,r);cl(i,e,n),lo(i,r);const s=r[t.index];if(0===t.type)for(let o=pn;o<s.length;o++)Xa(s[o],!0,s[hn]);else if(5===t.type){let e=t.child;pl(e,e,r,r)}else 4===t.type&&pl(t.child,e,n,r),fn(s)&&cl(s[hn],e,n)}function fl(t,e,n,r,i){const s=n[qe];let o=s.node.child;for(;null!==o;)gl(t,e,n,o,r,i),o=o.next}function gl(t,e,n,r,i,s){const o=r.type;32&r.flags||(4===o||5===o?function(t,e,n,r,i,s){Qa(e,t,i,n[r.index],s);let o=r.child;for(;o;)gl(t,e,n,o,i,s),o=o.next}(t,e,n,r,i,s):1===o?function(t,e,n,r,i,s){const o=ji(n),a=o[Ke],l=a.projection[r.projection];if(void 0!==l)if(Array.isArray(l))for(let c=0;c<l.length;c++){const n=l[c];Qa(e,t,i,n,s)}else{let n=l;const r=o[$e];for(;null!==n;)gl(t,e,r,n,i,s),n=n.projectionNext}}(t,e,n,r,i,s):Qa(e,t,i,n[r.index],s))}class yl{constructor(t,e,n){this._context=e,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=t}get rootNodes(){if(null==this._lView[Ue]){const t=this._lView[Ke];return function t(e,n,r){let i=n.child;for(;i;){const n=Un(i,e);if(n&&r.push(n),4===i.type)t(e,i,r);else if(1===i.type){const t=ji(e),n=t[Ke],s=Vi(t);let o=n.projection[i.projection];for(;o&&s;)r.push(jn(o,s)),o=o.next}i=i.next}return r}(this._lView,t,[])}return[]}get context(){return this._context?this._context:this._lookUpContext()}get destroyed(){return 256==(256&this._lView[ze])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}nl(this._lView)}onDestroy(t){var e,n;e=this._lView,n=t,ja(e).push(n),e[qe].firstTemplatePass&&Ua(e).push(e[Qe].length-1,null)}markForCheck(){Da(this._lView)}detach(){this._lView[ze]&=-129}reattach(){this._lView[ze]|=128}detectChanges(){Oa(this._lView,this.context)}checkNoChanges(){Ra(this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){this._appRef=null,function(t){fl(t[Je],1,t,null,null)}(this._lView)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}_lookUpContext(){return this._context=Vi(this._lView)[this._componentIndex]}}class vl extends yl{constructor(t){super(t,null,-1),this._view=t}detectChanges(){Pa(this._view)}checkNoChanges(){!function(t){Cr(!0);try{Pa(t)}finally{Cr(!1)}}(this._view)}get context(){return null}}let _l,bl,wl;function El(t,e,n){return _l||(_l=class extends t{}),new _l(jn(e,n))}function Cl(t,e,n,r){return bl||(bl=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=function(t,e,n,r){const i=gr(),s=pr();mr(null,!0);const o=ta(n,t,e,16,null,null);return o[rn]=n,na(t,null,-1,o),t.firstTemplatePass&&(t.node.injectorIndex=r),mr(s,i),o}(e,t,this._declarationView,this._declarationTContainer.injectorIndex),r=this._declarationView[this._declarationTContainer.index];n[sn]=r;const i=this._declarationView[We];null!==i&&(n[We]=i.createEmbeddedView(e)),ra(n,e,t);const s=new yl(n,t,-1);return s._tViewNode=n[Ke],s}}),0===n.type?new bl(r,n,El(e,n,r)):null}function xl(t,e,n,r){let i;wl||(wl=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return El(e,this._hostTNode,this._hostView)}get injector(){return new is(this._hostTNode,this._hostView)}get parentInjector(){const t=Qi(this._hostTNode,this._hostView),e=Fi(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.injectorIndex;)e=e.parent;return e}let r=Li(t),i=e,s=e[Ke];for(;r>1;)s=(i=i[rn])[Ke],r--;return s}(t,this._hostView,this._hostTNode);return Ri(t)&&null!=n?new is(n,e):new is(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[dn]&&this._lContainer[dn][t]||null}get length(){return this._lContainer.length-pn}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;!i&&null==t.ngModule&&s&&(i=s.get(oe,null));const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");this.allocateContainerIfNeeded();const n=t._lView,r=this._adjustIndex(e);if(fn(n[$e]))return this.move(t,r);return Za(n,this._lContainer,r),Xa(n,!0,ul(r,this._lContainer)),t.attachToViewContainerRef(this),ue(this._lContainer[dn],r,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this.indexOf(t);return-1!==n&&this.detach(n),this.insert(t,e),t}indexOf(t){return null!==this._lContainer[dn]?this._lContainer[dn].indexOf(t):0}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);el(this._lContainer,e),he(this._lContainer[dn],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=tl(this._lContainer,e);return n&&null!=he(this._lContainer[dn],e)?new yl(n,n[Ye],-1):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[dn]&&(this._lContainer[dn]=[])}});const s=r[n.index];if(fn(s))(i=s)[cn]=-1;else{let t;if(t=4===n.type?Vn(s):r[Je].createComment(""),_n(r)){const e=r[Je],i=jn(n,r);ol(e,ll(e,i),t,function(t,e){return ki(t)?t.nextSibling(e):e.nextSibling}(e,i))}else cl(t,n,r);r[n.index]=i=Ia(s,r,t,n,!0),Aa(r,i)}return new wl(i,n,r)}function Sl(t=!1){return function(t,e,n){if(yn(t)&&!n){const n=t.directiveStart,r=$n(t.index,e);return new yl(r,null,n)}if(3===t.type||0===t.type||4===t.type){const t=ji(e);return new yl(t,t[Ye],-1)}return null}(pr(),er(),t)}class Tl{}Tl.__NG_ELEMENT_ID__=()=>kl();const Il=(...t)=>{},kl=Il,Al=Function;function Dl(t){return"function"==typeof t}const Nl=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Ol=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Pl=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Rl=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class Ml{constructor(t){this._reflect=t||Vt.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=void 0===t?new Array(e.length):new Array(t.length);for(let r=0;r<n.length;r++)void 0===t?n[r]=[]:t[r]&&t[r]!=Object?n[r]=[t[r]]:n[r]=[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(function(t){return Nl.test(t)||Rl.test(t)||Ol.test(t)&&!Pl.test(t)}(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const n=t.ctorParameters;if(n&&n!==e.ctorParameters){const t="function"==typeof n?n():n,e=t.map(t=>t&&t.type),r=t.map(t=>t&&Ll(t.decorators));return this._zipTypesAndAnnotations(e,r)}const r=t.hasOwnProperty(ct)&&t[ct],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return i||r?this._zipTypesAndAnnotations(i,r):new Array(t.length).fill(void 0)}parameters(t){if(!Dl(t))return[];const e=Fl(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Ll(t.decorators):t.hasOwnProperty(lt)?t[lt]:null}annotations(t){if(!Dl(t))return[];const e=Fl(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Ll(e[t])}),n}return t.hasOwnProperty(ut)?t[ut]:null}propMetadata(t){if(!Dl(t))return{};const e=Fl(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return Dl(t)&&this._ownPropMetadata(t,Fl(t))||{}}hasLifecycleHook(t,e){return t instanceof Al&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${Dt(t)}`}resourceUri(t){return`./${Dt(t)}`}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function Ll(t){return t?t.map(t=>{return new(0,t.type.annotationCls)(...t.args?t.args:[])}):[]}function Fl(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}Et({provide:String,useValue:Et});const Vl=Et({provide:String,useValue:Et}),Bl=[];function jl(t,e){if(!e){const e=(new Ml).parameters(t);return()=>new t(...ne(e))}if(Vl in e){const t=e;return()=>t.useValue}if(e.useExisting){const t=e;return()=>Jt(t.useExisting)}if(e.useFactory){const t=e;return()=>t.useFactory(...ne(t.deps||Bl))}if(e.useClass){const n=e;let r=e.deps;if(!r){const e=new Ml;r=e.parameters(t)}return()=>new n.useClass(...ne(r))}{let n=e.deps;if(!n){const e=new Ml;n=e.parameters(t)}return()=>new t(...ne(n))}}const Ul=ht("Injectable",void 0,void 0,void 0,(t,e)=>ql(t,e));const ql=function(t,e){e&&void 0!==e.providedIn&&!Tt(t)&&(t.ngInjectableDef=xt({token:t,providedIn:e.providedIn,factory:jl(t,e)}))},zl=new jt("The presence of this token marks an injector as being the root injector.");function $l(t){const e=Tt(t);if(null!==e)return e.factory;const n=It(t);if(null!==n)return n.factory;if(t instanceof jt)throw new Error(`Token ${Dt(t)} is missing an ngInjectableDef definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=new Array(e).fill("?");throw new Error(`Can't resolve all parameters for ${Dt(t)}: (${n.join(", ")}).`)}const n=(r=t,r&&r[kt]?(console.warn(`DEPRECATED: DI is instantiating a token "${r.name}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${r.name}" class.`),r[kt]):null);var r;return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Hl(t,e,n){let r=void 0;if(Kl(t))return $l(Pt(t));if(Wl(t))r=()=>Pt(t.useValue);else if((i=t)&&i.useExisting)r=()=>Jt(Pt(t.useExisting));else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ne(t.deps||[]));else{const i=Pt(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";if(t&&e){r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`}throw new Error(`Invalid provider for the NgModule '${Dt(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return $l(i);r=()=>new i(...ne(t.deps))}var i;return r}function Wl(t){return null!==t&&"object"==typeof t&&Gt in t}function Kl(t){return"function"==typeof t}const Gl=function(t,e,n){return new ec(t,e,n)};class Ql{static create(t,e){return Array.isArray(t)?Gl(t,e,""):Gl(t.providers,t.parent,t.name||"")}}Ql.THROW_IF_NOT_FOUND=qt,Ql.NULL=new re,Ql.ngInjectableDef=xt({token:Ql,providedIn:"any",factory:()=>Jt(Ut)}),Ql.__NG_ELEMENT_ID__=-1;const Yl=function(t){return t},Xl=[],Zl=Yl,Jl=function(){return Array.prototype.slice.call(arguments)},tc="\u0275";class ec{constructor(t,e=Ql.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Ql,{token:Ql,fn:Yl,deps:Xl,value:this,useNew:!1}),r.set(Ut,{token:Ut,fn:Yl,deps:Xl,value:this,useNew:!1}),function t(e,n){if(n)if((n=Pt(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw ic("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ic("Unexpected provider",n);{let t=Pt(n.provide);const r=function(t){const e=function(t){let e=Xl;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=Pt(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof gt||n==gt?r|=1:n instanceof vt||n==vt?r&=-3:n instanceof yt||n==yt?r&=-5:i=n instanceof ft?n.token:Pt(n)}e.push({token:i,options:r})}}else if(t.useExisting){const n=Pt(t.useExisting);e=[{token:n,options:6}]}else if(!(n||Gt in t))throw ic("'deps' required",t);return e}(t);let n=Yl,r=Xl,i=!1,s=Pt(t.provide);if(Gt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=Pt(t.useClass);else{if("function"!=typeof s)throw ic("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=s}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==Jl)throw nc(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:Jl,value:Xl});t=n,r.deps.push({token:t,options:6})}const i=e.get(t);if(i&&i.fn==Jl)throw nc(t);e.set(t,r)}}}(r,t)}get(t,e,n=wt.Default){const r=this._records.get(t);try{return rc(t,r,this._records,this.parent,e,n)}catch(i){return ie(i,t,"StaticInjectorError",this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(Dt(n))),`StaticInjector[${t.join(", ")}]`}}function nc(t){return ic("Cannot mix multi providers and regular providers",t)}function rc(t,e,n,r,i,s){try{return function(t,e,n,r,i,s){let o;if(!e||s&wt.SkipSelf)s&wt.Self||(o=r.get(t,i,wt.Default));else{if((o=e.value)==Zl)throw Error(tc+"Circular dependency");if(o===Xl){e.value=Zl;let t=void 0,i=e.useNew,s=e.fn,a=e.deps,l=Xl;if(a.length){l=[];for(let t=0;t<a.length;t++){const e=a[t],i=e.options,s=2&i?n.get(e.token):void 0;l.push(rc(e.token,s,n,s||4&i?r:Ql.NULL,1&i?null:Ql.THROW_IF_NOT_FOUND,wt.Default))}}e.value=o=i?new s(...l):s.apply(t,l)}}return o}(t,e,n,r,i,s)}catch(o){throw o instanceof Error||(o=new Error(o)),(o[zt]=o[zt]||[]).unshift(t),e&&e.value==Zl&&(e.value=Xl),o}}function ic(t,e){return new Error(se(t,e,"StaticInjectorError"))}function sc(t){if(t.length>1){return" ("+function(t){const e=[];for(let n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(t=>Dt(t.token)).join(" -> ")+")"}return""}function oc(t,e,n,r){const i=[e],s=n(i),o=r?function(t,e){const n=`${t} caused by: ${e instanceof Error?e.message:e}`,r=Error(n);return r[ls]=e,r}(s,r):Error(s);return o.addKey=ac,o.keys=i,o.injectors=[t],o.constructResolvingMessage=n,o[ls]=r,o}function ac(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function lc(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const t=e[r];t&&0!=t.length?n.push(t.map(Dt).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+Dt(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+Dt(t)+"' is decorated with Injectable.")}class cc{constructor(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=Dt(this.token)}static get(t){return uc.get(Pt(t))}static get numberOfKeys(){return uc.numberOfKeys}}const uc=new class{constructor(){this._allKeys=new Map}get(t){if(t instanceof cc)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const e=new cc(t,cc.numberOfKeys);return this._allKeys.set(t,e),e}get numberOfKeys(){return this._allKeys.size}};const hc=new class{constructor(t){this.reflectionCapabilities=t}updateCapabilities(t){this.reflectionCapabilities=t}factory(t){return this.reflectionCapabilities.factory(t)}parameters(t){return this.reflectionCapabilities.parameters(t)}annotations(t){return this.reflectionCapabilities.annotations(t)}propMetadata(t){return this.reflectionCapabilities.propMetadata(t)}hasLifecycleHook(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)}getter(t){return this.reflectionCapabilities.getter(t)}setter(t){return this.reflectionCapabilities.setter(t)}method(t){return this.reflectionCapabilities.method(t)}importUri(t){return this.reflectionCapabilities.importUri(t)}resourceUri(t){return this.reflectionCapabilities.resourceUri(t)}resolveIdentifier(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)}resolveEnum(t,e){return this.reflectionCapabilities.resolveEnum(t,e)}}(new Ml);class dc{constructor(t,e,n){this.key=t,this.optional=e,this.visibility=n}static fromKey(t){return new dc(t,!1,null)}}const pc=[];class mc{constructor(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class fc{constructor(t,e){this.factory=t,this.dependencies=e}}function gc(t){let e,n;if(t.useClass){const r=Pt(t.useClass);e=hc.factory(r),n=_c(r)}else t.useExisting?(e=t=>t,n=[dc.fromKey(cc.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){const n=e.map(t=>[t]);return e.map(e=>bc(t,e,n))}return _c(t)}(t.useFactory,t.deps)):(e=()=>t.useValue,n=pc);return new fc(e,n)}function yc(t){return new mc(cc.get(t.provide),[gc(t)],t.multi||!1)}function vc(t){const e=function(t,e){for(let n=0;n<t.length;n++){const r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let t=0;t<r.resolvedFactories.length;t++)i.resolvedFactories.push(r.resolvedFactories[t]);else e.set(r.key.id,r)}else{let t;t=r.multiProvider?new mc(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,t)}}return e}(function t(e,n){e.forEach(e=>{if(e instanceof Al)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw function(t){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${t}`)}(e);t(e,n)}});return n}(t,[]).map(yc),new Map);return Array.from(e.values())}function _c(t){const e=hc.parameters(t);if(!e)return[];if(e.some(t=>null==t))throw lc(t,e);return e.map(n=>bc(t,n,e))}function bc(t,e,n){let r=null,i=!1;if(!Array.isArray(e))return wc(e instanceof ft?e.token:e,i,null);let s=null;for(let o=0;o<e.length;++o){const t=e[o];t instanceof Al?r=t:t instanceof ft?r=t.token:t instanceof gt?i=!0:t instanceof yt||t instanceof vt?s=t:t instanceof jt&&(r=t)}if(null!=(r=Pt(r)))return wc(r,i,s);throw lc(t,n)}function wc(t,e,n){return new dc(cc.get(t),e,n)}const Ec=new Object;class Cc{static resolve(t){return vc(t)}static resolveAndCreate(t,e){const n=Cc.resolve(t);return Cc.fromResolvedProviders(n,e)}static fromResolvedProviders(t,e){return new xc(t,e)}}class xc{constructor(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;const n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=Ec}get(t,e=qt){return this._getByKey(cc.get(t),null,e)}resolveAndCreateChild(t){const e=Cc.resolve(t);return this.createChildFromResolved(e)}createChildFromResolved(t){const e=new xc(t);return e.parent=this,e}resolveAndInstantiate(t){return this.instantiateResolved(Cc.resolve([t])[0])}instantiateResolved(t){return this._instantiateProvider(t)}getProviderAtIndex(t){if(t<0||t>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(t);return this._providers[t]}_new(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw e=this,n=t.key,oc(e,n,function(t){return`Cannot instantiate cyclic dependency!${sc(t)}`});var e,n;return this._instantiateProvider(t)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(t){if(t.multiProvider){const e=new Array(t.resolvedFactories.length);for(let n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])}_instantiate(t,e){const n=e.factory;let r,i;try{r=e.dependencies.map(t=>this._getByReflectiveDependency(t))}catch(l){throw l.addKey&&l.addKey(this,t.key),l}try{i=n(...r)}catch(l){throw s=this,o=l,l.stack,a=t.key,oc(s,a,function(t){const e=Dt(t[0].token);return`${o.message}: Error during instantiation of ${e}!${sc(t)}.`},o)}var s,o,a;return i}_getByReflectiveDependency(t){return this._getByKey(t.key,t.visibility,t.optional?null:qt)}_getByKey(t,e,n){return t===xc.INJECTOR_KEY?this:e instanceof yt?this._getByKeySelf(t,n):this._getByKeyDefault(t,n,e)}_getObjByKeyId(t){for(let e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Ec&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Ec}_throwOrNull(t,e){if(e!==qt)return e;throw function(t,e){return oc(t,e,function(t){return`No provider for ${Dt(t[0].token)}!${sc(t)}`})}(this,t)}_getByKeySelf(t,e){const n=this._getObjByKeyId(t.id);return n!==Ec?n:this._throwOrNull(t,e)}_getByKeyDefault(t,e,n){let r;for(r=n instanceof vt?this.parent:this;r instanceof xc;){const e=r,n=e._getObjByKeyId(t.id);if(n!==Ec)return n;r=e.parent}return null!==r?r.get(t.token,e):this._throwOrNull(t,e)}get displayName(){return`ReflectiveInjector(providers: [${function(t,e){const n=new Array(t._providers.length);for(let r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}(this,t=>' "'+t.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}xc.INJECTOR_KEY=cc.get(Ql);const Sc=new jt("AnalyzeForEntryComponents");class Tc{}const Ic=mt("ContentChildren",(t,e={})=>Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1},e),Tc);const kc=mt("ContentChild",(t,e={})=>Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},e),Tc);mt("ViewChildren",(t,e={})=>Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0},e),Tc);const Ac=mt("ViewChild",(t,e)=>Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},e),Tc);new Map;new Set;function Dc(t){const e=er(),n=e[qe];n.firstTemplatePass&&(function(t,e,n){const r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===e.hostBindings?r[i-1]=r[i-1]+n:r.push(e.hostBindings,n)}(n,Yn,t),function(t,e,n){for(let r=0;r<n;r++)e.push(Vo),t.blueprint.push(Vo),t.data.push(null)}(n,e,t))}let Nc=null;function Oc(){if(!Nc){const t=Vt.Symbol;if(t&&t.iterator)Nc=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Nc=n)}}}return Nc}function Pc(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Rc(t,e){const n=Lc(t),r=Lc(e);if(n&&r)return function(t,e,n){const r=t[Oc()](),i=e[Oc()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Rc);{const i=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!s)||Pc(t,e)}}class Mc{constructor(t){this.wrapped=t}static wrap(t){return new Mc(t)}static unwrap(t){return Mc.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Mc}}function Lc(t){return!!Fc(t)&&(Array.isArray(t)||!(t instanceof Map)&&Oc()in t)}function Fc(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Vc(t,e,n){return t[e]=n}function Bc(t,e){return t[e]}function jc(t,e,n){const r=t[e];return!!Hr(r,n)&&(t[e]=n,!0)}function Uc(t,e,n,r){const i=jc(t,e,n);return jc(t,e+1,r)||i}function qc(t,e,n,r,i){const s=Uc(t,e,n,r);return jc(t,e+2,i)||s}function zc(t,e,n,r,i,s){const o=Uc(t,e,n,r);return Uc(t,e+2,i,s)||o}function $c(t,e,n){const r=Mr(),i=Hc(er(),e);return i!==Vo&&fa(r,t,i,n),$c}function Hc(t,e){const n=t[Ge]++;return Fa(t),jc(t,n,e)?e:Vo}function Wc(t,e,n,r){const i=Mr(),s=er(),o=Hc(s,e);return o!==Vo&&Ta(i,t,o,s,n,r),Wc}function Kc(t,e){let n=!1;const r=t[qe].data;let i=t[Ge];if(null==r[i]){for(let t=2;t<e.length;t+=2)r[i++]=e[t];i=t[Ge]}for(let o=1;o<e.length;o+=2)n=jc(t,i++,e[o])||n;if(t[Ge]=i,Fa(t,e[0],e[e.length-1]),!n)return Vo;let s=e[0];for(let o=1;o<e.length;o+=2)s+=Wr(e[o])+e[o+1];return s}function Gc(t,e,n,r){const i=jc(t,t[Ge]++,n);return Fa(t,e,r),i?e+Wr(n)+r:Vo}function Qc(t,e,n,r,i,s){const o=t[Ge],a=Uc(t,o,n,i);return t[Ge]+=2,Fa(t,e,s)&&(t[qe].data[o]=r),a?e+Wr(n)+r+Wr(i)+s:Vo}function Yc(t,e,n,r,i,s,o,a){const l=t[Ge],c=qc(t,l,n,i,o);if(t[Ge]+=3,Fa(t,e,a)){const e=t[qe].data;e[l]=r,e[l+1]=s}return c?e+Wr(n)+r+Wr(i)+s+Wr(o)+a:Vo}function Xc(t,e,n,r,i,s,o,a,l,c){const u=t[Ge],h=zc(t,u,n,i,o,l);if(t[Ge]+=4,Fa(t,e,c)){const e=t[qe].data;e[u]=r,e[u+1]=s,e[u+2]=a}return h?e+Wr(n)+r+Wr(i)+s+Wr(o)+a+Wr(l)+c:Vo}function Zc(t,e,n,r,i,s,o,a,l,c,u,h){const d=t[Ge];let p=zc(t,d,n,i,o,l);if(p=jc(t,d+4,u)||p,t[Ge]+=5,Fa(t,e,h)){const e=t[qe].data;e[d]=r,e[d+1]=s,e[d+2]=a,e[d+3]=c}return p?e+Wr(n)+r+Wr(i)+s+Wr(o)+a+Wr(l)+c+Wr(u)+h:Vo}function Jc(t,e,n,r,i,s,o,a,l,c,u,h,d,p){const m=t[Ge];let f=zc(t,m,n,i,o,l);if(f=Uc(t,m+4,u,d)||f,t[Ge]+=6,Fa(t,e,p)){const e=t[qe].data;e[m]=r,e[m+1]=s,e[m+2]=a,e[m+3]=c,e[m+4]=h}return f?e+Wr(n)+r+Wr(i)+s+Wr(o)+a+Wr(l)+c+Wr(u)+h+Wr(d)+p:Vo}function tu(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f){const g=t[Ge];let y=zc(t,g,n,i,o,l);if(y=qc(t,g+4,u,d,m)||y,t[Ge]+=7,Fa(t,e,f)){const e=t[qe].data;e[g]=r,e[g+1]=s,e[g+2]=a,e[g+3]=c,e[g+4]=h,e[g+5]=p}return y?e+Wr(n)+r+Wr(i)+s+Wr(o)+a+Wr(l)+c+Wr(u)+h+Wr(d)+p+Wr(m)+f:Vo}function eu(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g,y){const v=t[Ge];let _=zc(t,v,n,i,o,l);if(_=zc(t,v+4,u,d,m,g)||_,t[Ge]+=8,Fa(t,e,y)){const e=t[qe].data;e[v]=r,e[v+1]=s,e[v+2]=a,e[v+3]=c,e[v+4]=h,e[v+5]=p,e[v+6]=f}return _?e+Wr(n)+r+Wr(i)+s+Wr(o)+a+Wr(l)+c+Wr(u)+h+Wr(d)+p+Wr(m)+f+Wr(g)+y:Vo}function nu(t,e,n,r,i,s){const o=Mr(),a=er(),l=Gc(a,e,n,r);return l!==Vo&&Ta(o,t,l,a,i,s),nu}function ru(t,e,n,r,i,s,o,a){const l=Mr(),c=er(),u=Qc(c,e,n,r,i,s);return u!==Vo&&Ta(l,t,u,c,o,a),ru}function iu(t,e,n,r,i,s,o,a,l,c){const u=Mr(),h=er(),d=Yc(h,e,n,r,i,s,o,a);return d!==Vo&&Ta(u,t,d,h,l,c),iu}function su(t,e,n,r,i,s,o,a,l,c,u,h){const d=Mr(),p=er(),m=Xc(p,e,n,r,i,s,o,a,l,c);return m!==Vo&&Ta(d,t,m,p,u,h),su}function ou(t,e,n,r,i,s,o,a,l,c,u,h,d,p){const m=Mr(),f=er(),g=Zc(f,e,n,r,i,s,o,a,l,c,u,h);return g!==Vo&&Ta(m,t,g,f,d,p),ou}function au(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f){const g=Mr(),y=er(),v=Jc(y,e,n,r,i,s,o,a,l,c,u,h,d,p);return v!==Vo&&Ta(g,t,v,y,m,f),au}function lu(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g,y){const v=Mr(),_=er(),b=tu(_,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f);return b!==Vo&&Ta(v,t,b,_,g,y),lu}function cu(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g,y,v,_){const b=Mr(),w=er(),E=eu(w,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g,y);return E!==Vo&&Ta(b,t,E,w,v,_),cu}function uu(t,e,n,r){const i=Mr(),s=er(),o=Kc(s,e);return o!==Vo&&Ta(i,t,o,s,n,r),uu}function hu(t){const e=er(),n=fu(e,t,null,null);e[qe].firstTemplatePass&&(n.tViews=[]),yr()}function du(t,e,n,r,i,s,o,a){const l=er(),c=l[qe],u=fu(l,t,i||null,s||null);if(c.firstTemplatePass){ga(c,l,u,o||null);const t=u.tViews=ua(-1,e,n,r,c.directiveRegistry,c.pipeRegistry,null,null);null!==c.queries&&(c.queries.template(c,u),t.queries=c.queries.embeddedTView(u))}la(c,l,u,a),lo(jn(u,l),l),Tn(c,u),yr()}function pu(t){const e=er(),n=e[qe];let r=zn(n.data,t);mr(r,!0),e[t+an][cn]=0,In(e,n,Er(),void 0)}function mu(){let t=pr();gr()?yr():mr(t=t.parent,!1);const e=er()[t.index],n=e[cn];for(;n<e.length-pn;)el(e,n)}function fu(t,e,n,r){const i=e+an,s=t[i]=t[Je].createComment(""),o=ea(t[qe],t[Ke],e,0,n,r),a=t[i]=Ia(s,t,s,o);return cl(s,o,t),Aa(t,a),o}function gu(t){return zn(br(),t)}function yu(t){return zn(er(),t)}function vu(t,e=wt.Default){t=Pt(t);const n=er();return null==n?Jt(t,e):Xi(pr(),n,t,e)}function _u(t){return function(t,e){if("class"===e)return wi(t.classes);if("style"===e)return wi(t.styles);const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ni(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(pr(),t)}function bu(){var t,e;er()[qe].firstTemplatePass&&(t=pr(),e=Ru(),ei(Lu(t),e),ei(Mu(t),e))}function wu(t){zr(t)}function Eu(t,e,n){Cu(Mr(),t,e,n)}function Cu(t,e,n,r){Su(t,er()[Ge]++,e,function(t,e){if(t===Vo)return t;let n=null;null!==t&&(n=e?Wr(t)+e:t);return n}(n,r),!1,Vu())}function xu(t,e){const n=er()[Ge]++;Su(Mr(),n,t,e,!0,Vu())}function Su(t,e,n,r,i,s){const o=er(),a=qn(t,o),l=jn(a,o);let c=!1;if(r!==Vo)if(i)c=xo(Lu(a),o,l,n,e,r,s,!1);else{const t=$r();c=So(Mu(a),o,l,n,e,r,t,s,!1)}return c}function Tu(t){const e=Mr(),n=er(),r=qn(e,n),i=Mu(r),s=Ru(),o=n[Ge]++;!s&&Ci(r)&&t!==Vo&&(Du(i,n,r,o,t,!1),t=Vo);Au(e,i,o,t,!1,Vu())}function Iu(t){ku(Mr(),t)}function ku(t,e){const n=er(),r=qn(t,n),i=Lu(r),s=Ru(),o=n[Ge]++;!s&&Ei(r)&&e!==Vo&&(Du(i,n,r,o,e,!0),e=Vo);Au(t,i,o,e,!0,Vu())}function Au(t,e,n,r,i,s){qo();const o=er();let a=!1;if(r!==Vo){const l=jn(qn(t,o),o),c=o[n];a=fi(c,r);const u=function(t,e,n){const r=Array.isArray(t)?t:[null];r[0]=e||null;for(let a=1;a<r.length;a+=2)Si(r,a,null);let i,s=null,o=!1;if("string"==typeof e?e.length&&(s=e.split(/\s+/),o=!0):(s=e?Object.keys(e):null,i=e),s)for(let a=0;a<s.length;a++){const t=s[a];Wo(r,n?vi(t):t,!!o||i[t],!0)}return r}(c,r,!i);if(i)xo(e,o,l,null,n,u,s,a);else{So(e,o,l,null,n,u,$r(),s,a)}}return a}function Du(t,e,n,r,i,s){if(e[r]!==i){if(i||di(t)){$a(e,n.inputs[s?"class":"style"],function(t,e,n){let r=e;t.length>0&&(r=n?yi(t,((i=e)&&"string"!=typeof i&&(i=Object.keys(i).join(" ")),i||"")):yi(t,function(t){let e="";if(t){const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];e=yi(e,`${i}:${t[i]}`,";")}}return e}(e),";"));var i;return r}(wi(t),i,s))}e[r]=i}}function Nu(){const t=Mr(),e=er(),n=qn(t,e),r=function(t,e){return 3===t.type?e[Je]:null}(n,e),i=jn(n,e),s=Ru(),o=$r();No(r,e,Lu(n),Mu(n),i,s,o),zr(null)}function Ou(t,e,n){let r=!1,i=_i(t.styles),s=_i(t.classes),o=-1;for(let a=n;a<e.length;a++){const t=e[a];if("number"==typeof t)o=t;else if(1==o)Wo(s=s||[""],t,!0),r=!0;else if(2==o){Wo(i=i||[""],t,e[++a]),r=!0}}return s&&s.length>1&&(t.classes||(t.classes=s),Pu(t.classes,Ko(s,!0))),i&&i.length>1&&(t.styles||(t.styles=i),Pu(t.styles,Ko(i,!1))),r}function Pu(t,e){_i(t)[0]=e}function Ru(){return or+ar}function Mu(t){return Fu(t,!1)}function Lu(t){return Fu(t,!0)}function Fu(t,e){let n=e?t.classes:t.styles;return bi(n)||(n=[n||[""],0,ti,1,0,Jr],e?t.classes=n:t.styles=n),n}function Vu(){return lr>0}function Bu(t,e,n,r){const i=er(),s=i[qe],o=i[t+an]=Jo(e),a=i[Je],l=ea(s,i[Ke],t,3,e,n||null);if(null!=n){const t=Di(o,n);s.firstTemplatePass&&Ou(l,n,t)}if(Wa(a,o,l),cl(o,l,i),0===Gn&&lo(o,i),Gn++,s.firstTemplatePass){ga(s,i,l,r||null);const t=Ba(l);t&&t.hasOwnProperty("class")&&(l.flags|=8),t&&t.hasOwnProperty("style")&&(l.flags|=16),null!==s.queries&&s.queries.elementStart(s,l)}la(s,i,l),aa(s,l,i)}function ju(){let t=pr();gr()?yr():mr(t=t.parent,!1);const e=t,n=er(),r=n[qe];Tn(r,t),Gn--,r.firstTemplatePass&&null!==r.queries&&gn(t)&&r.queries.elementEnd(t),Ei(e)&&e.classes&&zu(e.classes,n,e.inputs.class),Ci(e)&&e.styles&&zu(e.styles,n,e.inputs.style)}function Uu(t,e,n,r){Bu(t,e,n,r),ju()}function qu(t){const e=Mr(),n=er(),r=n[qe],i=qn(e,n);if(3===i.type){const e=jn(i,n),s=Di(e,t);if(r.firstTemplatePass){if(Ou(i,t,s)){Wa(n[Je],e,i)}}}}function zu(t,e,n){$a(e,n,wi(t)||null)}function $u(t,e,n){const r=er(),i=r[qe],s=r[Je],o=r[t+an]=s.createComment(""),a=ea(i,r[Ke],t,4,"ng-container",e||null);e&&i.firstTemplatePass&&Ou(a,e,0),cl(o,a,r),i.firstTemplatePass&&(ga(i,r,a,n||null),i.queries&&i.queries.elementStart(i,a)),la(i,r,a),lo(o,r),aa(i,a,r)}function Hu(){let t=pr();const e=er()[qe];gr()?yr():mr(t=t.parent,!1),Tn(e,t),e.firstTemplatePass&&null!==e.queries&&gn(t)&&e.queries.elementEnd(t)}function Wu(t,e,n){$u(t,e,n),Hu()}function Ku(t,e,n){const r=er(),i=pr(),s=2===i.type?i.parent:i,o=r[s.index];let a=function(t,e,n){for(let r=e+pn;r<t.length;r++){const e=t[r][qe].id;if(e===n)return t[r];if(!(e<n))break;el(t,r-pn)}return null}(o,o[cn],t);if(a)ir=!0,Dr(a,a[qe].node);else{a=ta(r,function(t,e,n,r){const i=er()[qe];const s=r.tViews;(t>=s.length||null==s[t])&&(s[t]=ua(t,null,e,n,i.directiveRegistry,i.pipeRegistry,null,null));return s[t]}(t,e,n,s),null,16,null,null);const o=gr()?i:i&&i.parent;na(a[qe],o,t,a),Dr(a,a[qe].node)}return o&&(vr(a)&&Za(a,o,o[cn]),o[cn]++),vr(a)?3:2}function Gu(){const t=er(),e=t[Ke];vr(t)&&(Xo(t),t[ze]&=-5),Kn(t),Xo(t);const n=t[$e];Pr(n[$e],!0),mr(e,!1)}function Qu(){return er()}function Yu(t){return!!t&&"function"==typeof t.then}function Xu(t){return!!t&&"function"==typeof t.subscribe}function Zu(t,e,n=!1,r){th(t,e,n,r)}function Ju(t,e,n=!1,r){th(t,e,n,r,qa)}function th(t,e,n=!1,r,i){const s=er(),o=pr(),a=s[qe],l=a.firstTemplatePass&&(a.cleanup||(a.cleanup=[]));let c=!0;if(3===o.type){const a=jn(o,s),u=r?r(a):_e,h=u.target||a,d=i?i(o,s):s[Je],p=ja(s),m=p.length,f=r?t=>r(Vn(t[o.index])).target:o.index;if(ki(d)){let n=null;if(!r&&function(t){return t.directiveEnd>t.directiveStart}(o)&&(n=function(t,e,n){const r=t[qe].cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const s=r[i];if(s===e&&r[i+1]===n){const e=t[Qe],n=r[i+2];return e.length>n?e[n]:null}"string"==typeof s&&(i+=2)}return null}(s,t,o.index)),null!==n)e.__ngNextListenerFn__=n.__ngNextListenerFn__,n.__ngNextListenerFn__=e,c=!1;else{e=nh(o,s,e,!1);const n=d.listen(u.name||h,t,e);p.push(e,n),l&&l.push(t,f,m,m+1)}}else e=nh(o,s,e,!0),h.addEventListener(t,e,n),p.push(e),l&&l.push(t,f,m,n)}void 0===o.outputs&&(o.outputs=pa(o,1));const u=o.outputs;let h;if(c&&u&&(h=u[t])){const n=h.length;if(n){const r=ja(s);for(let i=0;i<n;i+=3){const n=h[i],a=h[i+2],c=s[n],u=c[a];0;const d=u.subscribe(e),p=r.length;r.push(e,d),l&&l.push(t,o.index,p,-(p+1))}}}}function eh(t,e,n){try{return!1!==e(n)}catch(r){return za(t,r),!1}}function nh(t,e,n,r){return function i(s){const o=1&t.flags?$n(t.index,e):e;0==(32&e[ze])&&Da(o);let a=eh(e,n,s),l=i.__ngNextListenerFn__;for(;l;)a=eh(e,l,s)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function rh(t=1){return Nr(t)}function ih(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?yo(t,s,!0):vo(r,s))return i}else n=i}return n}function sh(t){const e=ji(er())[Ke];if(!e.projection){const n=t?t.length:1,r=e.projection=new Array(n).fill(null),i=r.slice();let s=e.child;for(;null!==s;){const e=t?ih(s,t):0;null!==e&&(i[e]?i[e].projectionNext=s:r[e]=s,i[e]=s),s=s.next}}}let oh=!1;function ah(t){oh=t}function lh(t,e=0,n){const r=er(),i=ea(r[qe],r[Ke],t,1,null,n||null);null===i.projection&&(i.projection=e),yr(),oh||dl(r,i,e,ji(r))}function ch(t,e,n){return uh(t,"",e,"",n),ch}function uh(t,e,n,r,i){const s=Mr(),o=Gc(er(),e,n,r);return o!==Vo&&fa(s,t,o,i),uh}function hh(t,e,n,r,i,s,o){const a=Mr(),l=Qc(er(),e,n,r,i,s);return l!==Vo&&fa(a,t,l,o),hh}function dh(t,e,n,r,i,s,o,a,l){const c=Mr(),u=Yc(er(),e,n,r,i,s,o,a);return u!==Vo&&fa(c,t,u,l),dh}function ph(t,e,n,r,i,s,o,a,l,c,u){const h=Mr(),d=Xc(er(),e,n,r,i,s,o,a,l,c);return d!==Vo&&fa(h,t,d,u),ph}function mh(t,e,n,r,i,s,o,a,l,c,u,h,d){const p=Mr(),m=Zc(er(),e,n,r,i,s,o,a,l,c,u,h);return m!==Vo&&fa(p,t,m,d),mh}function fh(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m){const f=Mr(),g=Jc(er(),e,n,r,i,s,o,a,l,c,u,h,d,p);return g!==Vo&&fa(f,t,g,m),fh}function gh(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g){const y=Mr(),v=tu(er(),e,n,r,i,s,o,a,l,c,u,h,d,p,m,f);return v!==Vo&&fa(y,t,v,g),gh}function yh(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g,y,v){const _=Mr(),b=eu(er(),e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g,y);return b!==Vo&&fa(_,t,b,v),yh}function vh(t,e,n){const r=Mr(),i=Kc(er(),e);return i!==Vo&&fa(r,t,i,n),vh}function _h(t,e){const n=er(),r=n[t+an]=Ya(e,n[Je]),i=ea(n[qe],n[Ke],t,3,null,null);yr(),cl(r,i,n)}function bh(t){const e=er(),n=Mr(),r=Hc(e,t);r!==Vo&&Ha(e,n,Wr(r))}function wh(t){return Eh("",t,""),wh}function Eh(t,e,n){const r=Mr(),i=er(),s=Gc(i,t,e,n);return s!==Vo&&Ha(i,r,s),Eh}function Ch(t,e,n,r,i){const s=Mr(),o=er(),a=Qc(o,t,e,n,r,i);return a!==Vo&&Ha(o,s,a),Ch}function xh(t,e,n,r,i,s,o){const a=Mr(),l=er(),c=Yc(l,t,e,n,r,i,s,o);return c!==Vo&&Ha(l,a,c),xh}function Sh(t,e,n,r,i,s,o,a,l){const c=Mr(),u=er(),h=Xc(u,t,e,n,r,i,s,o,a,l);return h!==Vo&&Ha(u,c,h),Sh}function Th(t,e,n,r,i,s,o,a,l,c,u){const h=Mr(),d=er(),p=Zc(d,t,e,n,r,i,s,o,a,l,c,u);return p!==Vo&&Ha(d,h,p),Th}function Ih(t,e,n,r,i,s,o,a,l,c,u,h,d){const p=Mr(),m=er(),f=Jc(m,t,e,n,r,i,s,o,a,l,c,u,h,d);return f!==Vo&&Ha(m,p,f),Ih}function kh(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m){const f=Mr(),g=er(),y=tu(g,t,e,n,r,i,s,o,a,l,c,u,h,d,p,m);return y!==Vo&&Ha(g,f,y),kh}function Ah(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g){const y=Mr(),v=er(),_=eu(v,t,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g);return _!==Vo&&Ha(v,y,_),Ah}function Dh(t){const e=Mr(),n=er(),r=Kc(n,t);return r!==Vo&&Ha(n,e,r),Dh}function Nh(t,e,n){const r=Gc(er(),t,e,n);ku(Mr(),r)}function Oh(t,e,n,r,i){const s=Qc(er(),t,e,n,r,i);ku(Mr(),s)}function Ph(t,e,n,r,i,s,o){const a=Yc(er(),t,e,n,r,i,s,o);ku(Mr(),a)}function Rh(t,e,n,r,i,s,o,a,l){const c=Xc(er(),t,e,n,r,i,s,o,a,l);ku(Mr(),c)}function Mh(t,e,n,r,i,s,o,a,l,c,u){const h=Zc(er(),t,e,n,r,i,s,o,a,l,c,u);ku(Mr(),h)}function Lh(t,e,n,r,i,s,o,a,l,c,u,h,d){const p=Jc(er(),t,e,n,r,i,s,o,a,l,c,u,h,d);ku(Mr(),p)}function Fh(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m){const f=tu(er(),t,e,n,r,i,s,o,a,l,c,u,h,d,p,m);ku(Mr(),f)}function Vh(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g){const y=eu(er(),t,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g);ku(Mr(),y)}function Bh(t){const e=Kc(er(),t);ku(Mr(),e)}function jh(t,e,n,r,i){const s=Gc(er(),e,n,r);return Cu(Mr(),t,s,i),jh}function Uh(t,e,n,r,i,s,o){const a=Qc(er(),e,n,r,i,s);return Cu(Mr(),t,a,o),Uh}function qh(t,e,n,r,i,s,o,a,l){const c=Yc(er(),e,n,r,i,s,o,a);return Cu(Mr(),t,c,l),qh}function zh(t,e,n,r,i,s,o,a,l,c,u){const h=Xc(er(),e,n,r,i,s,o,a,l,c);return Cu(Mr(),t,h,u),zh}function $h(t,e,n,r,i,s,o,a,l,c,u,h,d){const p=Zc(er(),e,n,r,i,s,o,a,l,c,u,h);return Cu(Mr(),t,p,d),$h}function Hh(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m){const f=Jc(er(),e,n,r,i,s,o,a,l,c,u,h,d,p);return Cu(Mr(),t,f,m),Hh}function Wh(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g){const y=tu(er(),e,n,r,i,s,o,a,l,c,u,h,d,p,m,f);return Cu(Mr(),t,y,g),Wh}function Kh(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g,y,v){const _=eu(er(),e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g,y);return Cu(Mr(),t,_,v),Kh}function Gh(t,e,n){const r=Kc(er(),e);return Cu(Mr(),t,r,n),Gh}function Qh(t,e,n){const r=Mr(),i=Hc(er(),e);return i!==Vo&&fa(r,t,i,n,!0),Qh}function Yh(t,e,n){const r=Mr(),i=Hc(er(),e);return i!==Vo&&fa(r,t,i,n,!0,qa),Yh}function Xh(t,e,n,r,i,s){Or();const o=n[qe];n[0+an]=t;const a=ea(o,null,0,3,null,null),l=ta(n,ca(e),null,e.onPush?64:16,n[an],a,r,i,s);return o.firstTemplatePass&&(Yi(Wi(a,n),o,e.type),a.flags=1,Ca(a,n.length,1),wa(a)),n[an]=l}function Zh(t,e,n,r,i){const s=n[qe],o=function(t,e,n){const r=pr();t.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),va(t,r,1),xa(t,e,n,n.factory));const i=es(t.data,e,e.length-1,r);return ba(e,r,i),i}(s,n,e);r.components.push(o),t[Ye]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=pr();if(s.firstTemplatePass&&e.hostBindings){cr(a.index-an);const t=s.expandoInstructions;ya(e,t,o,a,s.firstTemplatePass),cr(null)}return o}function Jh(t,e){return{components:[],scheduler:t||Gr,clean:Va,playerHandler:e||null,flags:0}}function td(t,e){const n=Wn(t)[qe],r=n.data.length-1;Sn(r,e,n,-1,-1,-1),Tn(n,{directiveStart:r,directiveEnd:r+1})}class ed{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function nd(){return rd.ngInherit=!0,rd}function rd(t){t.type.prototype.ngOnChanges&&(t.setInput=id,t.onChanges=function(){const t=od(this),e=t&&t.current;if(e){const n=t.previous;if(n===_e)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function id(t,e,n,r){const i=od(t)||function(t,e){return t[sd]=e}(t,{previous:_e,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new ed(l&&l.currentValue,e,o===_e),t[r]=e}const sd="__ngSimpleChanges__";function od(t){return t[sd]||null}function ad(t){let e=(n=t.type,Object.getPrototypeOf(n.prototype).constructor);for(var n;e;){let n=void 0;if(vn(t))n=e.ngComponentDef||e.ngDirectiveDef;else{if(e.ngComponentDef)throw new Error("Directives cannot inherit Components");n=e.ngDirectiveDef}const r=e.ngBaseDef;if(r||n){const e=t;e.inputs=ld(t.inputs),e.declaredInputs=ld(t.declaredInputs),e.outputs=ld(t.outputs)}if(r){const e=r.viewQuery,n=r.contentQueries,i=r.hostBindings;i&&hd(t,i),e&&cd(t,e),n&&ud(t,n),Ct(t.inputs,r.inputs),Ct(t.declaredInputs,r.declaredInputs),Ct(t.outputs,r.outputs)}if(n){const e=n.hostBindings;e&&hd(t,e);const r=n.viewQuery,i=n.contentQueries;r&&cd(t,r),i&&ud(t,i),Ct(t.inputs,n.inputs),Ct(t.declaredInputs,n.declaredInputs),Ct(t.outputs,n.outputs),t.afterContentChecked=t.afterContentChecked||n.afterContentChecked,t.afterContentInit=t.afterContentInit||n.afterContentInit,t.afterViewChecked=t.afterViewChecked||n.afterViewChecked,t.afterViewInit=t.afterViewInit||n.afterViewInit,t.doCheck=t.doCheck||n.doCheck,t.onDestroy=t.onDestroy||n.onDestroy,t.onInit=t.onInit||n.onInit;const s=n.features;if(s)for(const n of s)n&&n.ngInherit&&n(t)}else{const n=e.prototype;n&&(t.afterContentChecked=t.afterContentChecked||n.ngAfterContentChecked,t.afterContentInit=t.afterContentInit||n.ngAfterContentInit,t.afterViewChecked=t.afterViewChecked||n.ngAfterViewChecked,t.afterViewInit=t.afterViewInit||n.ngAfterViewInit,t.doCheck=t.doCheck||n.ngDoCheck,t.onDestroy=t.onDestroy||n.ngOnDestroy,t.onInit=t.onInit||n.ngOnInit,n.ngOnChanges&&nd()(t))}e=Object.getPrototypeOf(e)}}function ld(t){return t===_e?{}:t===be?[]:t}function cd(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ud(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function hd(t,e){const n=t.hostBindings;e!==n&&(t.hostBindings=n?(t,r,i)=>{hr(1);try{e(t,r,i)}finally{hr(-1)}n(t,r,i)}:e)}function dd(t,e,n,r,i){if(t=Pt(t),Array.isArray(t))for(let s=0;s<t.length;s++)dd(t[s],e,n,r,i);else{const s=er(),o=s[qe];let a=Kl(t)?t:Pt(t.provide),l=Hl(t);const c=pr(),u=65535&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>16;if(t.useClass||Kl(t)){const n=(t.useClass||t).prototype.ngOnDestroy;n&&(o.destroyHooks||(o.destroyHooks=[])).push(e.length,n)}if(Kl(t)||!t.multi){const t=new xn(l,i,vu),r=md(a,e,i?u:u+d,h);-1==r?(Yi(Wi(c,s),o,a),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(t),s.push(t)):(n[r]=t,s[r]=t)}else{const t=md(a,e,u+d,h),p=md(a,e,u,u+d),m=t>=0&&n[t],f=p>=0&&n[p];if(i&&!f||!i&&!m){Yi(Wi(c,s),o,a);const t=function(t,e,n,r,i){const s=new xn(t,n,vu);return s.multi=[],s.index=e,s.componentProviders=0,pd(s,i,r&&!n),s}(i?gd:fd,n.length,i,r,l);!i&&f&&(n[p].providerFactory=t),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(t),s.push(t)}else pd(n[i?p:t],l,!i&&r);!i&&r&&f&&n[p].componentProviders++}}}function pd(t,e,n){t.multi.push(e),n&&t.componentProviders++}function md(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fd(t,e,n,r){return yd(this.multi,[])}function gd(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,o=es(e,n,this.providerFactory.index,r);yd(i,s=o.slice(0,t));for(let e=t;e<o.length;e++)s.push(o[e])}else yd(i,s=[]);return s}function yd(t,e){for(let n=0;n<t.length;n++){const r=t[n];e.push(r())}return e}function vd(t,e=[]){return n=>{n.providersResolver=(n,r)=>(function(t,e,n){const r=er()[qe];if(r.firstTemplatePass){const i=vn(t);dd(n,r.data,r.blueprint,i,!0),dd(e,r.data,r.blueprint,i,!1)}})(n,r?r(t):t,e)}}class _d{}class bd{}function wd(t){const e=Error(`No component factory found for ${Dt(t)}. Did you add it to @NgModule.entryComponents?`);return e[Ed]=t,e}const Ed="ngComponent";class Cd{}Cd.NULL=new class{resolveComponentFactory(t){throw wd(t)}};class xd{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw wd(t);return new Sd(e,this._ngModule)}}class Sd extends bd{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function Td(...t){}class Id{constructor(t){this.nativeElement=t}}Id.__NG_ELEMENT_ID__=()=>kd(Id);const kd=Td;class Ad{}new jt("Renderer2Interceptor");class Dd{}const Nd={Important:1,DashCase:2};Nd[Nd.Important]="Important",Nd[Nd.DashCase]="DashCase";class Od{}Od.__NG_ELEMENT_ID__=()=>Pd();const Pd=Td;class Rd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Md=new Rd("8.2.5");class Ld{constructor(){}supports(t){return Lc(t)}create(t){return new Vd(t)}}const Fd=(t,e)=>e;class Vd{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Fd}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<qd(n,r,i)?e:n,o=qd(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Lc(t))throw new Error(`Error trying to diff '${Dt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Pc(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Pc(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Oc()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Pc(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Pc(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Pc(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Pc(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Bd(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),null===this._additionsTail?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ud),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(null===this._movesTail?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ud),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}}class Bd{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jd{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Pc(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ud{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new jd,this.map.set(e,n)),n.add(t)}get(t,e){const n=t,r=this.map.get(n);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qd(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class zd{constructor(){}supports(t){return t instanceof Map||Fc(t)}create(){return new $d}}class $d{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Fc(t)))throw new Error(`Error trying to diff '${Dt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Hd(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Pc(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Hd{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}class Wd{constructor(t){this.factories=t}static create(t,e){if(null!=e){const n=e.factories.slice();t=t.concat(n)}return new Wd(t)}static extend(t){return{provide:Wd,useFactory:e=>{if(!e)throw new Error("Cannot extend IterableDiffers without a parent injector");return Wd.create(t,e)},deps:[[Wd,new vt,new gt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}Wd.ngInjectableDef=xt({token:Wd,providedIn:"root",factory:()=>new Wd([new Ld])});class Kd{constructor(t){this.factories=t}static create(t,e){if(e){const n=e.factories.slice();t=t.concat(n)}return new Kd(t)}static extend(t){return{provide:Kd,useFactory:e=>{if(!e)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return Kd.create(t,e)},deps:[[Kd,new vt,new gt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}Kd.ngInjectableDef=xt({token:Kd,providedIn:"root",factory:()=>new Kd([new zd])});const Gd=[new zd],Qd=[new Ld],Yd=new Wd(Qd),Xd=new Kd(Gd);class Zd{}Zd.__NG_ELEMENT_ID__=()=>Jd(Zd,Id);const Jd=Td;class tp{}tp.__NG_ELEMENT_ID__=()=>ep(tp,Id);const ep=Td;function np(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return rp(n,e),n}(i,t)}function rp(t,e){t[as]=e,t[cs]=e.logError.bind(e)}function ip(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function sp(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function op(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function ap(t,e){return t.nodes[e]}function lp(t,e){return t.nodes[e]}function cp(t,e){return t.nodes[e]}function up(t,e){return t.nodes[e]}function hp(t,e){return t.nodes[e]}const dp={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},pp=()=>{},mp=new Map;function fp(t){let e=mp.get(t);return e||(e=Dt(t)+"_"+mp.size,mp.set(t,e)),e}function gp(t,e,n,r){if(Mc.isWrapped(r)){r=Mc.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,s=Mc.unwrap(t.oldValues[i]);t.oldValues[i]=new Mc(s)}return r}const yp="$$undefined",vp="$$empty";function _p(t){return{id:yp,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let bp=0;function wp(t,e,n,r){const i=t.oldValues;return!(!(2&t.state)&&Pc(i[e.bindingIndex+n],r))}function Ep(t,e,n,r){return!!wp(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Cp(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Rc(i,r)){const s=e.bindings[n].name;throw np(dp.createDebugContext(t,e.nodeIndex),`${s}: ${i}`,`${s}: ${r}`,0!=(1&t.state))}}function xp(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Sp(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Tp(t,e,n,r){try{return xp(33554432&t.def.nodes[e].flags?lp(t,e).componentView:t),dp.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Ip(t){if(t.parent){return lp(t.parent,t.parentNodeDef.nodeIndex)}return null}function kp(t){return t.parent?t.parentNodeDef.parent:null}function Ap(t,e){switch(201347067&e.flags){case 1:return lp(t,e.nodeIndex).renderElement;case 2:return ap(t,e.nodeIndex).renderText}}function Dp(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Np(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Op(t){return 1<<t%32}function Pp(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=Op(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Rp(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Kt,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:fp(n)}})}function Mp(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===ye.Native?lp(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Lp=new WeakMap;function Fp(t){let e=Lp.get(t);return e||((e=t(()=>pp)).factory=t,Lp.set(t,e)),e}function Vp(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Ap(t,t.def.lastRenderRootNode))),Bp(t,e,0,t.def.nodes.length-1,n,r,i)}function Bp(t,e,n,r,i,s,o){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&Up(t,n,e,i,s,o),a+=n.childCount}}function jp(t,e,n,r,i,s){let o=t;for(;o&&!Dp(o);)o=o.parent;const a=o.parent,l=kp(o),c=l.nodeIndex+1,u=l.nodeIndex+l.childCount;for(let h=c;h<=u;h++){const t=a.def.nodes[h];t.ngContentIndex===e&&Up(a,t,n,r,i,s),h+=t.childCount}if(!a.parent){const o=t.root.projectableNodes[e];if(o)for(let e=0;e<o.length;e++)qp(t,o[e],n,r,i,s)}}function Up(t,e,n,r,i,s){if(8&e.flags)jp(t,e.ngContent.index,n,r,i,s);else{const o=Ap(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags){if(16&e.bindingFlags&&qp(t,o,n,r,i,s),32&e.bindingFlags){qp(lp(t,e.nodeIndex).componentView,o,n,r,i,s)}}else qp(t,o,n,r,i,s);if(16777216&e.flags){const o=lp(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<o.length;t++)Vp(o[t],n,r,i,s)}1&e.flags&&!e.element.name&&Bp(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,s)}}function qp(t,e,n,r,i,s){const o=t.renderer;switch(n){case 1:o.appendChild(r,e);break;case 2:o.insertBefore(r,e,i);break;case 3:o.removeChild(r,e);break;case 0:s.push(e)}}const zp=/^:([^:]+):(.+)$/;function $p(t){if(":"===t[0]){const e=t.match(zp);return[e[1],e[2]]}return["",t]}function Hp(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function Wp(t,e){let n="";for(let r=0;r<2*t;r+=2)n=n+e[r]+Gp(e[r+1]);return n+e[2*t]}function Kp(t,e,n,r,i,s,o,a,l,c,u,h,d,p,m,f,g,y,v,_){switch(t){case 1:return e+Gp(n)+r;case 2:return e+Gp(n)+r+Gp(i)+s;case 3:return e+Gp(n)+r+Gp(i)+s+Gp(o)+a;case 4:return e+Gp(n)+r+Gp(i)+s+Gp(o)+a+Gp(l)+c;case 5:return e+Gp(n)+r+Gp(i)+s+Gp(o)+a+Gp(l)+c+Gp(u)+h;case 6:return e+Gp(n)+r+Gp(i)+s+Gp(o)+a+Gp(l)+c+Gp(u)+h+Gp(d)+p;case 7:return e+Gp(n)+r+Gp(i)+s+Gp(o)+a+Gp(l)+c+Gp(u)+h+Gp(d)+p+Gp(m)+f;case 8:return e+Gp(n)+r+Gp(i)+s+Gp(o)+a+Gp(l)+c+Gp(u)+h+Gp(d)+p+Gp(m)+f+Gp(g)+y;case 9:return e+Gp(n)+r+Gp(i)+s+Gp(o)+a+Gp(l)+c+Gp(u)+h+Gp(d)+p+Gp(m)+f+Gp(g)+y+Gp(v)+_;default:throw new Error("Does not support more than 9 expressions")}}function Gp(t){return null!=t?t.toString():""}const Qp=[],Yp={},Xp=new Object,Zp=fp(Ql),Jp=fp(Ut),tm=fp(oe);function em(t,e,n,r){return n=Pt(n),{index:-1,deps:Rp(r,Dt(e)),flags:t,token:e,value:n}}function nm(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const s=t[i];s.token===zl&&!0===s.value&&(r=!0),1073741824&s.flags&&n.push(s.token),s.index=i,e[fp(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function rm(t,e,n=Ql.THROW_IF_NOT_FOUND){const r=Xt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const o=e.tokenKey;switch(o){case Zp:case Jp:case tm:return t}const a=t._def.providersByKey[o];let l;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=im(t,a)),e===Xp?void 0:e}if((l=Tt(e.token))&&(i=t,null!=(s=l).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(i,s.providedIn)||"root"===s.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:e.token},t._providers[n]=Xp,t._providers[n]=im(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Xt(r)}var i,s}function im(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(rm(t,n[0]));case 2:return new e(rm(t,n[0]),rm(t,n[1]));case 3:return new e(rm(t,n[0]),rm(t,n[1]),rm(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=rm(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(rm(t,n[0]));case 2:return e(rm(t,n[0]),rm(t,n[1]));case 3:return e(rm(t,n[0]),rm(t,n[1]),rm(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=rm(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=rm(t,e.deps[0]);break;case 256:n=e.value}return n===Xp||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Xp:n}function sm(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,ue(i,n,r),function(t,e){const n=Ip(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]);r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),dp.dirtyParentQueries(r),am(e,n>0?i[n-1]:null,r)}function om(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,he(n,e),dp.dirtyParentQueries(r),lm(r),r}function am(t,e,n){const r=e?Ap(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),s=n.renderer.nextSibling(r);Vp(n,2,i,s,void 0)}function lm(t){Vp(t,3,null,null,void 0)}const cm=new Object;function um(t,e,n,r,i,s){return new hm(t,e,n,r,i,s)}class hm extends bd{constructor(t,e,n,r,i,s){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e){const r=e[n];t.push({propName:n,templateName:r})}return t}get outputs(){const t=[];for(let e in this._outputs){const n=this._outputs[e];t.push({propName:e,templateName:n})}return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=Fp(this.viewDefFactory),s=i.nodes[0].element.componentProvider.nodeIndex,o=dp.createRootView(t,e||[],n,i,r,cm),a=cp(o,s).instance;return n&&o.renderer.setAttribute(lp(o,0).renderElement,"ng-version",Md.full),new dm(o,new gm(o),a)}}class dm extends _d{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Id(lp(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new bm(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function pm(t,e,n){return new mm(t,e,n)}class mm{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Id(this._data.renderElement)}get injector(){return new bm(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=kp(t),t=t.parent;return t?new bm(t,e):new bm(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=om(this._data,t);dp.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new gm(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;i||t instanceof Sd||(i=s.get(oe));const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t,r=n._view;return sm(this._view,this._data,e,r),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];he(r,e),null==n&&(n=r.length),ue(r,n,i),dp.dirtyParentQueries(i),lm(i),am(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=om(this._data,t);e&&dp.destroyView(e)}detach(t){const e=om(this._data,t);return e?new gm(e):null}}function fm(t){return new gm(t)}class gm{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Vp(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){xp(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{dp.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){dp.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),dp.destroyView(this._view)}detachFromAppRef(){this._appRef=null,lm(this._view),dp.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function ym(t,e){return new vm(t,e)}class vm extends Zd{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new gm(dp.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Id(lp(this._parentView,this._def.nodeIndex).renderElement)}}function _m(t,e){return new bm(t,e)}class bm{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Ql.THROW_IF_NOT_FOUND){const n=!!this.elDef&&0!=(33554432&this.elDef.flags);return dp.resolveDep(this.view,this.elDef,n,{flags:0,token:t,tokenKey:fp(t)},e)}}function wm(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=lp(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return ap(t,n.nodeIndex).renderText;if(20240&n.flags)return cp(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function Em(t){return new Cm(t.renderer)}class Cm{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=$p(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=$p(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function xm(t,e,n,r){return new Sm(t,e,n,r)}class Sm{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=im(t,i))}}(this)}get(t,e=Ql.THROW_IF_NOT_FOUND,n=wt.Default){let r=0;return n&wt.SkipSelf?r|=1:n&wt.Self&&(r|=4),rm(this,{token:t,tokenKey:fp(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Cd)}destroy(){if(this._destroyed)throw new Error(`The ng module ${Dt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++){if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Xp){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Tm=fp(Ad),Im=fp(Od),km=fp(Id),Am=fp(tp),Dm=fp(Zd),Nm=fp(Tl),Om=fp(Ql),Pm=fp(Ut);function Rm(t,e,n,r,i,s,o,a){const l=[];if(o)for(let u in o){const[t,e]=o[u];l[t]={flags:8,name:u,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let u in a)c.push({type:1,propName:u,target:null,eventName:a[u]});return Fm(t,e|=16384,n,r,i,i,s,l,c)}function Mm(t,e,n){return Fm(-1,t|=16,null,0,e,e,n)}function Lm(t,e,n,r,i){return Fm(-1,t,e,0,n,r,i)}function Fm(t,e,n,r,i,s,o,a,l){const{matchedQueries:c,references:u,matchedQueryIds:h}=Pp(n);l||(l=[]),a||(a=[]),s=Pt(s);const d=Rp(o,Dt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:u,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Hp(a),outputs:l,element:null,provider:{token:i,value:s,deps:d},text:null,query:null,ngContent:null}}function Vm(t,e){return qm(t,e)}function Bm(t,e){let n=t;for(;n.parent&&!Dp(n);)n=n.parent;return zm(n.parent,kp(n),!0,e.provider.value,e.provider.deps)}function jm(t,e){const n=(32768&e.flags)>0,r=zm(t,e.parent,n,e.provider.value,e.provider.deps);if(e.outputs.length)for(let i=0;i<e.outputs.length;i++){const n=e.outputs[i],s=r[n.propName];if(!Xu(s))throw new Error(`@Output ${n.propName} not initialized in '${r.constructor.name}'.`);{const r=s.subscribe(Um(t,e.parent.nodeIndex,n.eventName));t.disposables[e.outputIndex+i]=r.unsubscribe.bind(r)}}return r}function Um(t,e,n){return r=>Tp(t,e,n,r)}function qm(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return zm(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const s=i.length;switch(s){case 0:return r();case 1:return r(Hm(t,e,n,i[0]));case 2:return r(Hm(t,e,n,i[0]),Hm(t,e,n,i[1]));case 3:return r(Hm(t,e,n,i[0]),Hm(t,e,n,i[1]),Hm(t,e,n,i[2]));default:const o=Array(s);for(let r=0;r<s;r++)o[r]=Hm(t,e,n,i[r]);return r(...o)}}(t,e.parent,n,r.value,r.deps);case 2048:return Hm(t,e.parent,n,r.deps[0]);case 256:return r.value}}function zm(t,e,n,r,i){const s=i.length;switch(s){case 0:return new r;case 1:return new r(Hm(t,e,n,i[0]));case 2:return new r(Hm(t,e,n,i[0]),Hm(t,e,n,i[1]));case 3:return new r(Hm(t,e,n,i[0]),Hm(t,e,n,i[1]),Hm(t,e,n,i[2]));default:const o=new Array(s);for(let r=0;r<s;r++)o[r]=Hm(t,e,n,i[r]);return new r(...o)}}const $m={};function Hm(t,e,n,r,i=Ql.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const s=t;2&r.flags&&(i=null);const o=r.tokenKey;o===Nm&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(o){case Tm:return Em(Wm(a,e,n));case Im:return Wm(a,e,n).renderer;case km:return new Id(lp(a,e.nodeIndex).renderElement);case Am:return lp(a,e.nodeIndex).viewContainer;case Dm:if(e.element.template)return lp(a,e.nodeIndex).template;break;case Nm:return fm(Wm(a,e,n));case Om:case Pm:return _m(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[o];if(t){let e=cp(a,t.nodeIndex);return e||(e={instance:qm(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=Dp(a),e=kp(a),a=a.parent,4&r.flags&&(a=null)}const l=s.root.injector.get(r.token,$m);return l!==$m||i===$m?l:s.root.ngModule.injector.get(r.token,i)}function Wm(t,e,n){let r;if(n)r=lp(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Dp(r);)r=r.parent;return r}function Km(t,e,n,r,i,s){if(32768&n.flags){const e=lp(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}const o=n.bindings[r].name;if(e.instance[o]=i,524288&n.flags){s=s||{};const e=Mc.unwrap(t.oldValues[n.bindingIndex+r]);s[n.bindings[r].nonMinifiedName]=new ed(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,s}function Gm(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const s=n[i];let o=s.parent;for(!o&&s.flags&e&&Ym(t,i,s.flags&e,r++),0==(s.childFlags&e)&&(i+=s.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(r=Qm(t,o,e,r)),o=o.parent}}function Qm(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Ym(t,i,e.flags&n,r++),i+=e.childCount}return r}function Ym(t,e,n,r){const i=cp(t,e);if(!i)return;const s=i.instance;s&&(dp.setCurrentNode(t,e),1048576&n&&op(t,512,r)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&op(t,768,r)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}class Xm extends Cd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Fe(t);return new tf(e,this.ngModule)}}function Zm(t){const e=[];for(let n in t)if(t.hasOwnProperty(n)){const r=t[n];e.push({propName:r,templateName:n})}return e}const Jm=new jt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Gr});class tf extends bd{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors[0][0]||"div",this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Zm(this.componentDef.inputs)}get outputs(){return Zm(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,$m,i);return s!==$m||r===$m?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Dd,Ai),o=i.get(Ks,null);qr();const a=n?ha(s,n):Jo(this.selector,s.createRenderer(null,this.componentDef)),l=this.componentDef.onPush?576:528,c="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),u=Jh(),h=s.createRenderer(a,this.componentDef);n&&a&&(ki(h)?h.setAttribute(a,"ng-version",Md.full):a.setAttribute("ng-version",Md.full));const d=ta(null,ua(-1,null,1,0,null,null,null,null),u,l,null,null,s,h,o,i),p=Dr(d,null);let m,f,g=!1;try{const t=Xh(a,this.componentDef,d,s,h);f=qn(0,d),e&&(f.projection=e.map(t=>Array.from(t))),m=Zh(t,this.componentDef,d,u,[td]),Aa(d,t),Xo(d),g=!0}finally{Pr(p,g)}const y=new ef(this.componentType,m,El(Id,f,d),d,f);return n&&!c||(y.hostView._tViewNode.child=f),y}}new Xm;class ef extends _d{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new vl(r),this.hostView._tViewNode=na(r[qe],null,-1,r),this.componentType=t}get injector(){return new is(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const nf={},rf={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};rf[rf.LocaleId]="LocaleId",rf[rf.DayPeriodsFormat]="DayPeriodsFormat",rf[rf.DayPeriodsStandalone]="DayPeriodsStandalone",rf[rf.DaysFormat]="DaysFormat",rf[rf.DaysStandalone]="DaysStandalone",rf[rf.MonthsFormat]="MonthsFormat",rf[rf.MonthsStandalone]="MonthsStandalone",rf[rf.Eras]="Eras",rf[rf.FirstDayOfWeek]="FirstDayOfWeek",rf[rf.WeekendRange]="WeekendRange",rf[rf.DateFormat]="DateFormat",rf[rf.TimeFormat]="TimeFormat",rf[rf.DateTimeFormat]="DateTimeFormat",rf[rf.NumberSymbols]="NumberSymbols",rf[rf.NumberFormats]="NumberFormats",rf[rf.CurrencySymbol]="CurrencySymbol",rf[rf.CurrencyName]="CurrencyName",rf[rf.Currencies]="Currencies",rf[rf.PluralCase]="PluralCase",rf[rf.ExtraData]="ExtraData";const sf=void 0;var of=["en",[["a","p"],["AM","PM"],sf],[["AM","PM"],sf,sf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sf,"{1} 'at' {0}",sf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function af(t){return lf(t)[rf.PluralCase]}function lf(t){const e=t.toLowerCase().replace(/_/g,"-");let n=nf[e];if(n)return n;const r=e.split("-")[0];if(n=nf[r])return n;if("en"===r)return of;throw new Error(`Missing locale data for the locale "${t}".`)}const cf="en-US",uf="\ufffd",hf=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,df=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,pf=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,mf=/\ufffd(\d+):?\d*\ufffd/gi,ff=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,gf=0,yf=/\[(\ufffd.+?\ufffd?)\]/,vf=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,_f=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,bf=/{([A-Z0-9_]+)}/g,wf=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Ef=/\/\*/,Cf=/\d+\:(\d+)/;function xf(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);hf.test(n)?r.push(Sf(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function Sf(t){const e=[],n=[];let r=1,i=0;const s=xf(t=t.replace(hf,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=xf(s[o++]);e.length>n.length&&n.push(i)}return de(e.indexOf("other"),-1,'Missing key "other" in ICU statement.'),{type:r,mainBinding:i,cases:e,values:n}}function Tf(t){let e,n,r="",i=0,s=!1;for(;null!==(e=df.exec(t));)s?e[0]===`${uf}/*${n}${uf}`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i)}function If(t,e,n,r=null){const i=[null,null],s=t.split(mf);let o=0;for(let a=0;a<s.length;a++){const t=s[a];if(1&a){const e=parseInt(t,10);i.push(-1-e),o|=Nf(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=o,i[1]=i.length-2,i}function kf(t,e=0){let n;e|=Nf(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=mf.exec(r);)e|=Nf(parseInt(n[1],10));else e=kf(r,e)}}return e}const Af=[];let Df=-1;function Nf(t){return 1<<Math.min(t,31)}const Of=[];function Pf(t,e,n){const r=er()[qe];Af[++Df]=t,ah(!0),r.firstTemplatePass&&null===r.data[t+an]&&function(t,e,n,r){const i=er(),s=t.blueprint.length-an;Rf=0;const o=pr(),a=gr()?pr():o&&o.parent;let l=a&&a!==i[Ke]?a.index-an:e,c=0;Of[c]=l;const u=[];e>0&&o!==a&&u.push(o.index<<3|0);const h=[],d=[],p=(m=function(t,e){if("number"!=typeof e)return Tf(t);{const n=t.indexOf(`:${e}${uf}`)+2+e.toString().length,r=t.search(new RegExp(`${uf}\\/\\*\\d+:${e}${uf}`));return Tf(t.substring(n,r))}}(n,r),m.replace(Xf," ")).split(pf);var m;for(let g=0;g<p.length;g++){let t=p[g];if(1&g)if("/"===t.charAt(0)){if("#"===t.charAt(1)){const e=parseInt(t.substr(2),10);l=Of[--c],u.push(e<<3|5)}}else{const e=parseInt(t.substr(1),10);u.push(e<<3|0,l<<17|1),"#"===t.charAt(0)&&(Of[++c]=l=e)}else{const e=xf(t);for(let t=0;t<e.length;t++)if(1&t){const n=s+Rf++;u.push(jo,"",n,l<<17|1);const r=e[t],i=kf(r);Gf(d,r,n,n);const o=d.length-1;h.push(Nf(r.mainBinding),3,-1-r.mainBinding,n<<2|2,o,i,2,n<<2|3,o)}else if(""!==e[t]){const n=e[t],r=n.match(mf),i=s+Rf++;u.push(r?"":n,i,l<<17|1),r&&le(If(n,i),h)}}}Rf>0&&function(t,e){if(e>0){const n=t[qe];if(n.firstTemplatePass){for(let r=0;r<e;r++)n.blueprint.push(null),n.data.push(null),t.push(null);n.expandoInstructions?n.expandoInstructions.push(e):n.expandoStartIndex+=e}}}(i,Rf);const f={vars:Rf,create:u,update:h,icus:d.length?d:null};t.data[e+an]=f}(r,t,e,n)}let Rf;function Mf(t,e,n,r){const i=t.next;n||(n=e),n===e&&t!==e.child?(t.next=e.child,e.child=t):n!==e&&t!==n.next?(t.next=n.next,n.next=t):t.next=null,e!==r[Ke]&&(t.parent=e);let s=t.next;for(;s;)s.next===t&&(s.next=i),s=s.next;if(1===t.type){return dl(r,t,t.projection,ji(r)),t}cl(jn(t,r),t,r);const o=r[t.index];return 0!==t.type&&fn(o)&&cl(o[hn],t,r),t}function Lf(t,e={}){let n=t;if(yf.test(t)){const t={},e=[gf];n=n.replace(vf,(n,r,i)=>{const s=r||i,o=t[s]||[];if(o.length||(s.split("|").forEach(t=>{const e=t.match(Cf),n=e?parseInt(e[1],10):gf,r=Ef.test(t);o.push([n,r,t])}),t[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=e[e.length-1];let l=0;for(let t=0;t<o.length;t++)if(o[t][0]===a){l=t;break}const[c,u,h]=o[l];return u?e.pop():a!==c&&e.push(c),o.splice(l,1),h})}return Object.keys(e).length?n=(n=(n=n.replace(_f,(t,n,r,i,s,o)=>e.hasOwnProperty(r)?`${n}${e[r]}${o}`:t)).replace(bf,(t,n)=>e.hasOwnProperty(n)?e[n]:t)).replace(wf,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}):n}function Ff(){const t=er()[qe];!function(t){const e=er();const n=Af[Df--],r=t.data[n+an];let i=pr();const s=Bf(n,r.create,r.icus,e);for(let o=n+1;o<=i.index-an;o++)-1===s.indexOf(o)&&jf(o,e)}(t),ah(!1)}function Vf(t,e,n,r,i){const s=pr();t[e+an]=r;const o=ea(t[qe],t[Ke],e,n,i,null);return s.next===o&&(s.next=null),o}function Bf(t,e,n,r){const i=er()[Je];let s=null,o=null;const a=[];for(let l=0;l<e.length;l++){const n=e[l];if("string"==typeof n){const t=Ya(n,i),c=e[++l];o=s,s=Vf(r,c,3,t,null),a.push(c),yr()}else if("number"==typeof n)switch(7&n){case 1:const i=n>>>17;let c;o=Mf(s,c=i===t?r[Ke]:qn(i,r),o,r);break;case 0:const u=n>>>3;a.push(u),o=s,(s=qn(u,r))&&mr(s,3===s.type);break;case 5:o=s=qn(n>>>3,r),mr(s,!1);break;case 4:Ta(n>>>3,e[++l],e[++l],r);break;default:throw new Error(`Unable to determine the type of mutate operation for "${n}"`)}else switch(n){case jo:const t=e[++l],c=e[++l],u=i.createComment(t);o=s,s=Vf(r,c,5,u,null),a.push(c),lo(u,r),s.activeCaseIndex=null,yr();break;case Bo:const h=e[++l],d=e[++l];o=s,s=Vf(r,d,3,i.createElement(h),h),a.push(d);break;default:throw new Error(`Unable to determine the type of mutate operation for "${n}"`)}}return yr(),a}function jf(t,e){const n=qn(t,e),r=Bn(t,e);r&&hl(e[Je],r);const i=yu(t);if(fn(i)){const t=i;0!==n.type&&hl(e[Je],t[hn])}n.flags|=32}function Uf(t,e,n){Pf(t,e,n),Ff()}function qf(t,e){const n=er()[qe];!function(t,e,n){const r=pr().index-an,i=[];for(let s=0;s<n.length;s+=2){const o=n[s],a=n[s+1].split(ff);for(let n=0;n<a.length;n++){const s=a[n];if(1&n)throw new Error("ICU expressions are not yet supported in attributes");if(""!==s){if(!!s.match(mf))t.firstTemplatePass&&null===t.data[e+an]&&le(If(s,r,o),i);else{const t=er();Ta(r,o,s,t);const e=qn(r,t),n=e.inputs&&e.inputs[o];n&&$a(t,n,s)}}}}t.firstTemplatePass&&null===t.data[e+an]&&(t.data[e+an]=i)}(n,t,e)}let zf=0,$f=0;function Hf(t){return Hc(er(),t)!==Vo&&(zf|=1<<$f),$f++,Hf}function Wf(t){if($f){const e=er(),n=e[qe],r=n.data[t+an];let i,s=null;Array.isArray(r)?i=r:(i=r.update,s=r.icus),!function t(e,n,r,i,s,o=!1){let a=!1;for(let l=0;l<e.length;l++){const c=e[l],u=e[++l];if(o||c&i){let o="";for(let c=l+1;c<=l+u;c++){const l=e[c];if("string"==typeof l)o+=l;else if("number"==typeof l)if(l<0)o+=Wr(s[r-l]);else{const u=l>>>2;let h,d,p;switch(3&l){case 1:fa(u,e[++c],o,e[++c]);break;case 0:Ha(s,u,o);break;case 2:if(d=n[h=e[++c]],null!==(p=qn(u,s)).activeCaseIndex){const t=d.remove[p.activeCaseIndex];for(let e=0;e<t.length;e++){const r=t[e];switch(7&r){case 3:jf(r>>>3,s);break;case 6:const i=qn(t[e+1]>>>3,s).activeCaseIndex;null!==i&&le(n[r>>>3].remove[i],t)}}}const m=Kf(d,o);p.activeCaseIndex=-1!==m?m:null,Bf(-1,d.create[m],0,s),a=!0;break;case 3:d=n[h=e[++c]],p=qn(u,s),t(d.update[p.activeCaseIndex],n,r,i,s,a)}}}}l+=u}}(i,s,e[Ge]-$f-1,zf,e),zf=0,$f=0}}function Kf(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){switch(af(e)(t)){case 0:return"zero";case 1:return"one";case 2:return"two";case 3:return"few";case 4:return"many";default:return"other"}}(e,eg);-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return n}function Gf(t,e,n,r){const i=[],s=[],o=[],a=[],l=[];for(let u=0;u<e.values.length;u++){const c=e.values[u],h=[];for(let t=0;t<c.length;t++){const e=c[t];if("string"!=typeof e){const n=h.push(e)-1;c[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}const d=Qf(c.join(""),n,h,t,r);i.push(d.create),s.push(d.remove),o.push(d.update),a.push(d.vars),l.push(d.childIcus)}const c={type:e.type,vars:a,childIcus:l,cases:e.cases,create:i,remove:s,update:o};t.push(c),Rf+=Math.max(...a)}function Qf(t,e,n,r,i){const s=new _s(document).getInertBodyElement(t);if(!s)throw new Error("Unable to generate inert body element");const o={vars:0,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,s,o){if(e){const a=[];for(;e;){const l=e.nextSibling,c=o+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:const l=e,u=l.tagName.toLowerCase();if(Os.hasOwnProperty(u)){n.create.push(Bo,u,c,r<<17|1);const a=l.attributes;for(let t=0;t<a.length;t++){const e=a.item(t),r=e.name.toLowerCase(),i=!!e.value.match(mf);i?Fs.hasOwnProperty(r)&&(Ps[r]?le(If(e.value,c,e.name,Es),n.update):Rs[r]?le(If(e.value,c,e.name,Cs),n.update):le(If(e.value,c,e.name),n.update)):n.create.push(c<<3|4,e.name,e.value)}t(e.firstChild,n,c,i,s,o),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=e.textContent||"",d=h.match(mf);n.create.push(d?"":h,c,r<<17|1),n.remove.push(c<<3|3),d&&le(If(h,c),n.update);break;case Node.COMMENT_NODE:const p=Yf.exec(e.textContent||"");if(p){const t=parseInt(p[1],10),e="";n.create.push(jo,e,c,r<<17|1);const s=i[t];a.push([s,c])}else n.vars--;break;default:n.vars--}e=l}for(let t=0;t<a.length;t++){const e=a[t][0],r=a[t][1];Gf(s,e,r,o+n.vars);const i=s.length-1;n.vars+=Math.max(...s[i].vars),n.childIcus.push(i);const l=kf(e);n.update.push(Nf(e.mainBinding),3,-1-e.mainBinding,r<<2|2,i,l,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((Hs(s)||s).firstChild,o,e,n,r,i),o}const Yf=/\ufffd(\d+)\ufffd/;const Xf=/\uE500/g;let Zf={};const Jf=/\{\$(.*?)\}/g;function tg(t,e){return void 0!==Zf[t]&&(t=Zf[t]),void 0!==e&&Object.keys(e).length?t.replace(Jf,(t,n)=>e[n]||""):t}let eg=cf;function ng(t){pe(t,"Expected localeId to be defined"),"string"==typeof t&&(eg=t.toLowerCase().replace(/_/g,"-"))}const rg=new Map;function ig(t,e){const n=rg.get(t);sg(t,n&&n.moduleType,e.moduleType),rg.set(t,e)}function sg(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${Dt(e)} vs ${Dt(e.name)}`)}function og(t,e,n){const r=Sr()+t,i=er();return vr()?Vc(i,r,n?e.call(n):e()):Bc(i,r)}function ag(t,e,n,r){const i=er(),s=Sr()+t;return jc(i,s,n)?Vc(i,s+1,r?e.call(r,n):e(n)):Bc(i,s+1)}function lg(t,e,n,r,i){const s=Sr()+t,o=er();return Uc(o,s,n,r)?Vc(o,s+2,i?e.call(i,n,r):e(n,r)):Bc(o,s+2)}function cg(t,e,n,r,i,s){const o=Sr()+t,a=er();return qc(a,o,n,r,i)?Vc(a,o+3,s?e.call(s,n,r,i):e(n,r,i)):Bc(a,o+3)}function ug(t,e,n,r,i,s,o){const a=Sr()+t,l=er();return zc(l,a,n,r,i,s)?Vc(l,a+4,o?e.call(o,n,r,i,s):e(n,r,i,s)):Bc(l,a+4)}function hg(t,e,n,r,i,s,o,a){const l=Sr()+t,c=er(),u=zc(c,l,n,r,i,s);return jc(c,l+4,o)||u?Vc(c,l+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):Bc(c,l+5)}function dg(t,e,n,r,i,s,o,a,l){const c=Sr()+t,u=er(),h=zc(u,c,n,r,i,s);return Uc(u,c+4,o,a)||h?Vc(u,c+6,l?e.call(l,n,r,i,s,o,a):e(n,r,i,s,o,a)):Bc(u,c+6)}function pg(t,e,n,r,i,s,o,a,l,c){const u=Sr()+t,h=er();let d=zc(h,u,n,r,i,s);return qc(h,u+4,o,a,l)||d?Vc(h,u+7,c?e.call(c,n,r,i,s,o,a,l):e(n,r,i,s,o,a,l)):Bc(h,u+7)}function mg(t,e,n,r,i,s,o,a,l,c,u){const h=Sr()+t,d=er(),p=zc(d,h,n,r,i,s);return zc(d,h+4,o,a,l,c)||p?Vc(d,h+8,u?e.call(u,n,r,i,s,o,a,l,c):e(n,r,i,s,o,a,l,c)):Bc(d,h+8)}function fg(t,e,n,r){let i=Sr()+t,s=!1;const o=er();for(let a=0;a<n.length;a++)jc(o,i++,n[a])&&(s=!0);return s?Vc(o,i,e.apply(r,n)):Bc(o,i)}function gg(t,e){const n=er()[qe];let r;const i=t+an;n.firstTemplatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory();return function(t,e){const n=er(),r=n[qe],i=t+an;i>=r.data.length&&(r.data[i]=null,r.blueprint[i]=null),n[i]=e}(t,s),s}function yg(t,e,n){const r=yu(t);return Cg(Eg(t)?ag(e,r.transform,n,r):r.transform(n))}function vg(t,e,n,r){const i=yu(t);return Cg(Eg(t)?lg(e,i.transform,n,r,i):i.transform(n,r))}function _g(t,e,n,r,i){const s=yu(t);return Cg(Eg(t)?cg(e,s.transform,n,r,i,s):s.transform(n,r,i))}function bg(t,e,n,r,i,s){const o=yu(t);return Cg(Eg(t)?ug(e,o.transform,n,r,i,s,o):o.transform(n,r,i,s))}function wg(t,e,n){const r=yu(t);return Cg(Eg(t)?fg(e,r.transform,n,r):r.transform.apply(r,n))}function Eg(t){return er()[qe].data[t+an].pure}function Cg(t){if(Mc.isWrapped(t)){t=Mc.unwrap(t);const e=er();e[e[Ge]]=Vo}return t}class xg extends k{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return t instanceof p&&t.add(o),o}}function Sg(){return this._results[Oc()]()}class Tg{constructor(){this.dirty=!0,this._results=[],this.changes=new xg,this.length=0;const t=Oc(),e=Tg.prototype;e[t]||(e[t]=Sg)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=ce(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ig{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ig(this.queryList)}setDirty(){this.queryList.setDirty()}}class kg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=new Array(n);for(let t=0;t<n;t++){const n=e.getByIndex(t),i=this.queries[n.indexInDeclarationView];r[t]=i.clone()}return new kg(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Kg(t,e).matches&&this.queries[e].setDirty()}}class Ag{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Dg{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n of this.queries)n.elementStart(t,e)}elementEnd(t){for(let e of this.queries)e.elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Dg(e):null}template(t,e){for(let n of this.queries)n.template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ng{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ng(this.metadata)):null}isApplyingToNode(t){return this._appliesToNextNode&&!1===this.metadata.descendants?this._declarationNodeIndex===(t.parent?t.parent.index:-1):this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Og(e,n[r]))}else{const n=this.metadata.predicate;n===Zd?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ts(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Id||r===tp||r===Zd&&0===e.type)this.addMatch(e.index,-2);else{const n=ts(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Og(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Pg(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?El(Id,t,e):0===t.type?Cl(Zd,Id,t,e):null}(e,t):-2===n?function(t,e,n){if(n===Id)return El(Id,e,t);if(n===Zd)return Cl(Zd,Id,e,t);if(n===tp)return xl(tp,Id,e,t)}(t,e,r):es(t[qe].data,t,n,e)}function Rg(t,e,n){const r=t[We].queries[n];if(null===r.matches){const n=t[qe].data,i=e.matches,s=new Array(i.length/2);for(let r=0;r<i.length;r+=2){const o=i[r];if(o<0)s[r/2]=null;else{const a=n[o];s[r/2]=Pg(t,a,i[r+1],e.metadata.read)}}r.matches=s}return r.matches}function Mg(t){const e=er(),n=kr();Ar(n+1);const r=Kg(e[qe],n);if(t.dirty&&vr()===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{const i=r.crossesNgTemplate?function t(e,n,r){const i=e[qe].queries.getByIndex(n),s=i.matches;if(null!==s){const o=Rg(e,i,n);for(let n=0;n<s.length;n+=2){const i=s[n];if(i>0){const t=o[n/2];r.push(t)}else{const o=s[n+1],a=e[-i];for(let e=pn;e<a.length;e++){const n=a[e];n[sn]===n[$e]&&t(n,o,r)}if(null!==a[un])for(let e of a[un])t(e,o,r)}}}return r}(e,n,[]):Rg(e,r,n);t.reset(i),t.notifyOnChanges()}return!0}return!1}function Lg(t,e,n){Vg(er(),t,e,n,!0)}function Fg(t,e,n){Vg(er(),t,e,n,!1)}function Vg(t,e,n,r,i){const s=t[qe];s.firstTemplatePass&&(Wg(s,new Ag(e,n,i,r),-1),i&&(s.staticViewQueries=!0)),Hg(t)}function Bg(){return $g(er(),kr())}function jg(t,e,n,r){qg(er(),e,n,r,!1,pr(),t)}function Ug(t,e,n,r){qg(er(),e,n,r,!0,pr(),t)}function qg(t,e,n,r,i,s,o){const a=t[qe];a.firstTemplatePass&&(Wg(a,new Ag(e,n,i,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]),r=t.contentQueries.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}(a,o),i&&(a.staticContentQueries=!0)),Hg(t)}function zg(){return $g(er(),kr())}function $g(t,e){return t[We].queries[e].queryList}function Hg(t){const e=new Tg;!function(t,e,n){const r=ja(t);r.push(e),t[qe].firstTemplatePass&&Ua(t).push(n,r.length-1)}(t,e,e.destroy),null===t[We]&&(t[We]=new kg),t[We].queries.push(new Ig(e))}function Wg(t,e,n){null===t.queries&&(t.queries=new Dg),t.queries.track(new Ng(e,n))}function Kg(t,e){return t.queries.getByIndex(e)}function Gg(t,e){return Cl(Zd,Id,t,e)}function Qg(t=wt.Default){const e=Sl(!0);if(null!=e||t&wt.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}(()=>({"\u0275\u0275attribute":Wc,"\u0275\u0275attributeInterpolate1":nu,"\u0275\u0275attributeInterpolate2":ru,"\u0275\u0275attributeInterpolate3":iu,"\u0275\u0275attributeInterpolate4":su,"\u0275\u0275attributeInterpolate5":ou,"\u0275\u0275attributeInterpolate6":au,"\u0275\u0275attributeInterpolate7":lu,"\u0275\u0275attributeInterpolate8":cu,"\u0275\u0275attributeInterpolateV":uu,"\u0275\u0275defineBase":Re,"\u0275\u0275defineComponent":Ie,"\u0275\u0275defineDirective":Me,"\u0275\u0275defineInjectable":xt,"\u0275\u0275defineInjector":St,"\u0275\u0275defineNgModule":Ne,"\u0275\u0275definePipe":Le,"\u0275\u0275directiveInject":vu,"\u0275\u0275getFactoryOf":ss,"\u0275\u0275getInheritedFactory":os,"\u0275\u0275inject":Jt,"\u0275\u0275injectAttribute":_u,"\u0275\u0275injectPipeChangeDetectorRef":Qg,"\u0275\u0275templateRefExtractor":Gg,"\u0275\u0275NgOnChangesFeature":nd,"\u0275\u0275ProvidersFeature":vd,"\u0275\u0275InheritDefinitionFeature":ad,"\u0275\u0275container":hu,"\u0275\u0275nextContext":rh,"\u0275\u0275containerRefreshStart":pu,"\u0275\u0275containerRefreshEnd":mu,"\u0275\u0275namespaceHTML":Ur,"\u0275\u0275namespaceMathML":jr,"\u0275\u0275namespaceSVG":Br,"\u0275\u0275enableBindings":Jn,"\u0275\u0275disableBindings":tr,"\u0275\u0275allocHostVars":Dc,"\u0275\u0275elementStart":Bu,"\u0275\u0275elementEnd":ju,"\u0275\u0275element":Uu,"\u0275\u0275elementContainerStart":$u,"\u0275\u0275elementContainerEnd":Hu,"\u0275\u0275elementContainer":Wu,"\u0275\u0275pureFunction0":og,"\u0275\u0275pureFunction1":ag,"\u0275\u0275pureFunction2":lg,"\u0275\u0275pureFunction3":cg,"\u0275\u0275pureFunction4":ug,"\u0275\u0275pureFunction5":hg,"\u0275\u0275pureFunction6":dg,"\u0275\u0275pureFunction7":pg,"\u0275\u0275pureFunction8":mg,"\u0275\u0275pureFunctionV":fg,"\u0275\u0275getCurrentView":Qu,"\u0275\u0275restoreView":dr,"\u0275\u0275listener":Zu,"\u0275\u0275load":yu,"\u0275\u0275projection":lh,"\u0275\u0275updateSyntheticHostBinding":Yh,"\u0275\u0275componentHostSyntheticListener":Ju,"\u0275\u0275pipeBind1":yg,"\u0275\u0275pipeBind2":vg,"\u0275\u0275pipeBind3":_g,"\u0275\u0275pipeBind4":bg,"\u0275\u0275pipeBindV":wg,"\u0275\u0275projectionDef":sh,"\u0275\u0275hostProperty":Qh,"\u0275\u0275property":$c,"\u0275\u0275propertyInterpolate":ch,"\u0275\u0275propertyInterpolate1":uh,"\u0275\u0275propertyInterpolate2":hh,"\u0275\u0275propertyInterpolate3":dh,"\u0275\u0275propertyInterpolate4":ph,"\u0275\u0275propertyInterpolate5":mh,"\u0275\u0275propertyInterpolate6":fh,"\u0275\u0275propertyInterpolate7":gh,"\u0275\u0275propertyInterpolate8":yh,"\u0275\u0275propertyInterpolateV":vh,"\u0275\u0275pipe":gg,"\u0275\u0275queryRefresh":Mg,"\u0275\u0275viewQuery":Fg,"\u0275\u0275staticViewQuery":Lg,"\u0275\u0275staticContentQuery":Ug,"\u0275\u0275loadViewQuery":Bg,"\u0275\u0275contentQuery":jg,"\u0275\u0275loadContentQuery":zg,"\u0275\u0275reference":gu,"\u0275\u0275elementHostAttrs":qu,"\u0275\u0275classMap":Iu,"\u0275\u0275classMapInterpolate1":Nh,"\u0275\u0275classMapInterpolate2":Oh,"\u0275\u0275classMapInterpolate3":Ph,"\u0275\u0275classMapInterpolate4":Rh,"\u0275\u0275classMapInterpolate5":Mh,"\u0275\u0275classMapInterpolate6":Lh,"\u0275\u0275classMapInterpolate7":Fh,"\u0275\u0275classMapInterpolate8":Vh,"\u0275\u0275classMapInterpolateV":Bh,"\u0275\u0275styling":bu,"\u0275\u0275styleMap":Tu,"\u0275\u0275styleProp":Eu,"\u0275\u0275stylePropInterpolate1":jh,"\u0275\u0275stylePropInterpolate2":Uh,"\u0275\u0275stylePropInterpolate3":qh,"\u0275\u0275stylePropInterpolate4":zh,"\u0275\u0275stylePropInterpolate5":$h,"\u0275\u0275stylePropInterpolate6":Hh,"\u0275\u0275stylePropInterpolate7":Wh,"\u0275\u0275stylePropInterpolate8":Kh,"\u0275\u0275stylePropInterpolateV":Gh,"\u0275\u0275styleSanitizer":wu,"\u0275\u0275stylingApply":Nu,"\u0275\u0275classProp":xu,"\u0275\u0275select":Go,"\u0275\u0275template":du,"\u0275\u0275text":_h,"\u0275\u0275textBinding":bh,"\u0275\u0275textInterpolate":wh,"\u0275\u0275textInterpolate1":Eh,"\u0275\u0275textInterpolate2":Ch,"\u0275\u0275textInterpolate3":xh,"\u0275\u0275textInterpolate4":Sh,"\u0275\u0275textInterpolate5":Th,"\u0275\u0275textInterpolate6":Ih,"\u0275\u0275textInterpolate7":kh,"\u0275\u0275textInterpolate8":Ah,"\u0275\u0275textInterpolateV":Dh,"\u0275\u0275embeddedViewStart":Ku,"\u0275\u0275embeddedViewEnd":Gu,"\u0275\u0275i18n":Uf,"\u0275\u0275i18nAttributes":qf,"\u0275\u0275i18nExp":Hf,"\u0275\u0275i18nStart":Pf,"\u0275\u0275i18nEnd":Ff,"\u0275\u0275i18nApply":Wf,"\u0275\u0275i18nPostprocess":Lf,"\u0275\u0275i18nLocalize":tg,"\u0275\u0275resolveWindow":Qr,"\u0275\u0275resolveDocument":Yr,"\u0275\u0275resolveBody":Xr,"\u0275\u0275setComponentScope":ke,"\u0275\u0275setNgModuleScope":Oe,"\u0275\u0275sanitizeHtml":Xs,"\u0275\u0275sanitizeStyle":Zs,"\u0275\u0275defaultStyleSanitizer":ro,"\u0275\u0275sanitizeResourceUrl":to,"\u0275\u0275sanitizeScript":eo,"\u0275\u0275sanitizeUrl":Js,"\u0275\u0275sanitizeUrlOrResourceUrl":no}))();new Map,new Map;const Yg=ht("Directive",(t={})=>t,void 0,void 0,(t,e)=>iy(t,e));const Xg=ht("Component",(t={})=>Object.assign({changeDetection:fe.Default},t),Yg,void 0,(t,e)=>ry(t,e));const Zg=ht("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,e)=>sy(t,e));const Jg=mt("Input",t=>({bindingPropertyName:t}));const ty=mt("Output",t=>({bindingPropertyName:t}));const ey=mt("HostBinding",t=>({hostPropertyName:t}));const ny=mt("HostListener",(t,e)=>({eventName:t,args:e})),ry=Td,iy=Td,sy=Td;const oy=ht("NgModule",t=>t,void 0,void 0,(t,e)=>ay(t,e));const ay=function(t,e){let n=e&&e.imports||[];e&&e.exports&&(n=[...n,e.exports]),t.ngInjectorDef=St({factory:jl(t,{useClass:t}),providers:e&&e.providers,imports:n})},ly=new jt("Application Initializer");class cy{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Yu(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}cy.decorators=[{type:Ul}],cy.ctorParameters=()=>[{type:Array,decorators:[{type:ft,args:[ly]},{type:gt}]}];const uy=new jt("AppId");const hy={provide:uy,useFactory:function(){return`${dy()}${dy()}${dy()}`},deps:[]};function dy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const py=new jt("Platform Initializer"),my=new jt("Platform ID"),fy=new jt("appBootstrapListener"),gy=new jt("Application Packages Root URL");class yy{log(t){console.log(t)}warn(t){console.warn(t)}}yy.decorators=[{type:Ul}];const vy=new jt("LocaleId"),_y=new jt("Translations"),by=new jt("TranslationsFormat"),wy={Error:0,Warning:1,Ignore:2};wy[wy.Error]="Error",wy[wy.Warning]="Warning",wy[wy.Ignore]="Ignore";const Ey=!1;function Cy(){throw new Error("Runtime compiler is not loaded")}const xy=Cy,Sy=Cy,Ty=Cy,Iy=Cy;class ky{constructor(){this.compileModuleSync=xy,this.compileModuleAsync=Sy,this.compileModuleAndAllComponentsSync=Ty,this.compileModuleAndAllComponentsAsync=Iy}clearCache(){}clearCacheFor(t){}getModuleId(t){}}ky.decorators=[{type:Ul}];const Ay=new jt("compilerOptions");class Dy{}let Ny,Oy;const Py=function(){const t=Vt.wtf;return!(!t||!(Ny=t.trace))&&(Oy=Ny.events,!0)}();const Ry=Py?function(t,e=null){return Oy.createScope(t,e)}:(t,e)=>(function(t,e){return null}),My=Py?function(t,e){return Ny.leaveScope(t,e),e}:(t,e)=>e,Ly=(()=>Promise.resolve(0))();function Fy(t){"undefined"==typeof Zone?Ly.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Vy{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xg(!1),this.onMicrotaskEmpty=new xg(!1),this.onStable=new xg(!1),this.onError=new xg(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const e=this;var n;e._nesting=0,e._outer=e._inner=Zone.current,Zone.wtfZoneSpec&&(e._inner=e._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(e._inner=e._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(e._inner=e._inner.fork(Zone.longStackTraceZoneSpec)),(n=e)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,e,r,i,s,o)=>{try{return qy(n),t.invokeTask(r,i,s,o)}finally{zy(n)}},onInvoke:(t,e,r,i,s,o,a)=>{try{return qy(n),t.invoke(r,i,s,o,a)}finally{zy(n)}},onHasTask:(t,e,r,i)=>{t.hasTask(r,i),e===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,Uy(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,e,r,i)=>(t.handleError(r,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vy.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vy.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,jy,By,By);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function By(){}const jy={};function Uy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zy(t){t._nesting--,Uy(t)}class $y{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xg,this.onMicrotaskEmpty=new xg,this.onStable=new xg,this.onError=new xg}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class Hy{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vy.assertNotInAngularZone(),Fy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}Hy.decorators=[{type:Ul}],Hy.ctorParameters=()=>[{type:Vy}];class Wy{constructor(){this._applications=new Map,Gy.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Gy.findTestabilityInTree(this,t,e)}}Wy.decorators=[{type:Ul}],Wy.ctorParameters=()=>[];let Ky,Gy=new class{addToWindow(t){}findTestabilityInTree(t,e,n){return null}},Qy=function(t,e,n){return t.get(Dy).createCompiler([e]).compileModuleAsync(n)};let Yy=function(t){return t instanceof Sd};const Xy=new jt("AllowMultipleToken");class Zy{constructor(t,e){this.name=t,this.token=e}}function Jy(t,e,n=[]){const r=`Platform: ${e}`,i=new jt(r);return(e=[])=>{let s=tv();if(!s||s.injector.get(Xy,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Ky&&!Ky.destroyed&&!Ky.injector.get(Xy,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ky=t.get(ev);const e=t.get(py,null);e&&e.forEach(t=>t())}(Ql.create({providers:t,name:r}))}return function(t){const e=tv();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function tv(){return Ky&&!Ky.destroyed?Ky:null}class ev{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t){let e;e="noop"===t?new $y:("zone.js"===t?void 0:t)||new Vy({enableLongStackTrace:vs()});return e}(e?e.ngZone:void 0),r=[{provide:Vy,useValue:n}];return n.run(()=>{const e=Ql.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(ps,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");if(Ey){ng(i.injector.get(vy,cf)||cf)}return i.onDestroy(()=>iv(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const i=n();return Yu(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(cy);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=nv({},e);return Qy(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(rv);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Dt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function nv(t,e){return t=Array.isArray(e)?e.reduce(nv,t):Object.assign({},t,e)}ev.decorators=[{type:Ul}],ev.ctorParameters=()=>[{type:Ql}];class rv{constructor(t,e,n,r,i,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=vs(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new E(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new E(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Vy.assertNotInAngularZone(),Fy(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Vy.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Z(o,a.pipe(at()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof bd?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=Yy(n)?null:this._injector.get(oe),i=e||n.selector,s=n.create(Ql.NULL,[],i,r);s.onDestroy(()=>{this._unloadComponent(s)});const o=s.injector.get(Hy,null);return o&&s.injector.get(Wy).registerApplication(s.location.nativeElement,o),this._loadComponent(s),vs()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=rv._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1,My(t)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;iv(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(fy,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),iv(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}function iv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}rv._tickScope=Ry("ApplicationRef#tick()"),rv.decorators=[{type:Ul}],rv.ctorParameters=()=>[{type:Vy},{type:yy},{type:Ql},{type:ps},{type:Cd},{type:cy}];class sv{}const ov="#",av="NgFactory";class lv{}const cv={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class uv{constructor(t,e){this._compiler=t,this._config=e||cv}load(t){return!Ey&&this._compiler instanceof ky?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split(ov);return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>hv(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split(ov),i=av;return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>hv(t,e,r))}}function hv(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}uv.decorators=[{type:Ul}],uv.ctorParameters=()=>[{type:ky},{type:lv,decorators:[{type:gt}]}];class dv{constructor(t,e){this.name=t,this.callback=e}}class pv{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof mv&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class mv extends pv{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof mv&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof mv&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof mv&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof mv)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const fv=new Map;const gv=function(t){return fv.get(t)||null};function yv(t){fv.set(t.nativeNode,t)}const vv=Jy(null,"core",[{provide:my,useValue:"unknown"},{provide:ev,deps:[Ql]},{provide:Wy,deps:[]},{provide:yy,deps:[]}]);const _v=[{provide:rv,useClass:rv,deps:[Vy,yy,Ql,ps,Cd,cy]},{provide:Jm,deps:[Vy],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:cy,useClass:cy,deps:[[new gt,ly]]},{provide:ky,useClass:ky,deps:[]},hy,{provide:Wd,useFactory:function(){return Yd},deps:[]},{provide:Kd,useFactory:function(){return Xd},deps:[]},{provide:vy,useFactory:function(t){return t?(Ey&&ng(t),t):cf},deps:[[new ft(vy),new gt,new vt]]}];class bv{constructor(t){}}function wv(t,e,n,r,i,s){t|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=Pp(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?Fp(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||pp},provider:null,text:null,query:null,ngContent:null}}function Ev(t,e,n,r,i,s,o=[],a,l,c,u,h){c||(c=pp);const{matchedQueries:d,references:p,matchedQueryIds:m}=Pp(n);let f=null,g=null;s&&([f,g]=$p(s)),a=a||[];const y=new Array(a.length);for(let b=0;b<a.length;b++){const[t,e,n]=a[b],[r,i]=$p(e);let s=void 0,o=void 0;switch(15&t){case 4:o=n;break;case 1:case 8:s=n}y[b]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:s,suffix:o}}l=l||[];const v=new Array(l.length);for(let b=0;b<l.length;b++){const[t,e]=l[b];v[b]={type:0,target:t,eventName:e,propName:null}}const _=(o=o||[]).map(([t,e])=>{const[n,r]=$p(t);return[n,r,e]});return h=function(t){if(t&&t.id===yp){const e=null!=t.encapsulation&&t.encapsulation!==ye.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${bp++}`:vp}return t&&t.id===vp&&(t=null),t||null}(h),u&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:m,references:p,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:Hp(y),outputs:v,element:{ns:f,name:g,attrs:_,template:null,componentProvider:null,componentView:u||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||pp},provider:null,text:null,query:null,ngContent:null}}function Cv(t,e,n){const r=n.element,i=t.root.selectorOrNode,s=t.renderer;let o;if(t.parent||!i){o=r.name?s.createElement(r.name,r.ns):s.createComment("");const i=Mp(t,e,n);i&&s.appendChild(i,o)}else{const t=!!r.componentRendererType&&r.componentRendererType.encapsulation===ye.ShadowDom;o=s.selectRootElement(i,t)}if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];s.setAttribute(o,e,n,t)}return o}function xv(t,e,n,r){for(let o=0;o<n.outputs.length;o++){const a=n.outputs[o],l=Sv(t,n.nodeIndex,(i=a.target,s=a.eventName,i?`${i}:${s}`:s));let c=a.target,u=t;"component"===a.target&&(c=null,u=e);const h=u.renderer.listen(c||r,a.eventName,l);t.disposables[n.outputIndex+o]=h}var i,s}function Sv(t,e,n){return r=>Tp(t,e,n,r)}function Tv(t,e,n,r){if(!Ep(t,e,n,r))return!1;const i=e.bindings[n],s=lp(t,e.nodeIndex),o=s.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,s){const o=e.securityContext;let a=o?t.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const l=t.renderer;null!=s?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(t,i,o,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,o,a,r);break;case 4:!function(t,e,n,r,i){let s=t.root.sanitizer.sanitize(Ws.STYLE,i);if(null!=s){s=s.toString();const t=e.suffix;null!=t&&(s+=t)}else s=null;const o=t.renderer;null!=s?o.setStyle(n,r,s):o.removeStyle(n,r)}(t,i,o,a,r);break;case 8:!function(t,e,n,r,i){const s=e.securityContext;let o=s?t.root.sanitizer.sanitize(s,i):i;t.renderer.setProperty(n,r,o)}(33554432&e.flags&&32&i.flags?s.componentView:t,i,o,a,r)}return!0}function Iv(t,e,n){let r=[];for(let i in n){const t=n[i];r.push({propName:i,bindingType:t})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Op(e),bindings:r},ngContent:null}}function kv(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&Np(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&hp(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&hp(t,n).setDirty(),n+=e.childCount}}function Av(t,e){const n=hp(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Dv(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=cp(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Dv(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const s=e.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const t=s[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,o=!0}r[t.propName]=e}o&&n.notifyOnChanges()}function Dv(t,e,n,r,i){for(let s=e;s<=n;s++){const e=t.def.nodes[s],n=e.matchedQueries[r.id];if(null!=n&&i.push(Nv(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=lp(t,s);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Dv(t,s+1,s+e.childCount,r,i),s+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const s=t[e],o=Ip(s);o&&o===n&&Dv(s,0,s.def.nodes.length-1,r,i)}}const o=n.template._projectedViews;if(o)for(let t=0;t<o.length;t++){const e=o[t];Dv(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(s+=e.childCount)}return i}function Nv(t,e,n){if(null!=n)switch(n){case 1:return lp(t,e.nodeIndex).renderElement;case 0:return new Id(lp(t,e.nodeIndex).renderElement);case 2:return lp(t,e.nodeIndex).template;case 3:return lp(t,e.nodeIndex).viewContainer;case 4:return cp(t,e.nodeIndex).instance}}function Ov(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Pv(t,e,n){const r=Mp(t,e,n);r&&jp(t,n.ngContent.index,1,r,null,void 0)}function Rv(t,e){return Fv(128,t,new Array(e+1))}function Mv(t,e){return Fv(32,t,new Array(e))}function Lv(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let s=0;s<r;s++){const t=n[s];i[e[t]]=t}return Fv(64,t,i)}function Fv(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Hp(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Vv(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Bv(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const s=Mp(t,e,n);return s&&i.appendChild(s,r),{renderText:r}}function jv(t,e){return(null!=t?t.toString():"")+e.suffix}function Uv(t,e,n,r){let i=0,s=0,o=0,a=0,l=0,c=null,u=null,h=!1,d=!1,p=null;for(let m=0;m<e.length;m++){const t=e[m];if(t.nodeIndex=m,t.parent=c,t.bindingIndex=i,t.outputIndex=s,t.renderParent=u,o|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=c?c.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(zv(c,t,e.length),i+=t.bindings.length,s+=t.outputs.length,!u&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const e=0!=(8192&t.flags),n=0!=(32768&t.flags);!e||n?c.element.publicProviders[fp(t.provider.token)]=t:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[fp(t.provider.token)]=t),n&&(c.element.componentProvider=t)}if(c?(c.childFlags|=t.flags,c.directChildFlags|=t.flags,c.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(c.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)c=t,qv(t)||(u=t);else for(;c&&m===c.nodeIndex+c.childCount;){const t=c.parent;t&&(t.childFlags|=c.childFlags,t.childMatchedQueries|=c.childMatchedQueries),u=(c=t)&&qv(c)?c.renderParent:c}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||pp,updateRenderer:r||pp,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:s,lastRenderRootNode:p}}function qv(t){return 0!=(1&t.flags)&&null===t.element.name}function zv(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags){if(0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`)}if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function $v(t,e,n,r){const i=Kv(t.root,t.renderer,t,e,n);return Gv(i,t.component,r),Qv(i),i}function Hv(t,e,n){const r=Kv(t,t.renderer,null,null,e);return Gv(r,n,n),Qv(r),r}function Wv(t,e,n,r){const i=e.element.componentRendererType;let s;return s=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Kv(t.root,s,t,e.element.componentProvider,n)}function Kv(t,e,n,r,i){const s=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:s,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function Gv(t,e,n){t.component=e,t.context=n}function Qv(t){let e;if(Dp(t)){const n=t.parentNodeDef;e=lp(t.parent,n.parent.nodeIndex).renderElement}const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];let o;switch(dp.setCurrentNode(t,i),201347067&s.flags){case 1:const n=Cv(t,e,s);let a=void 0;if(33554432&s.flags){const e=Fp(s.element.componentView);a=dp.createComponentView(t,s,e,n)}xv(t,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?ym(t,s):void 0},16777216&s.flags&&(o.viewContainer=pm(t,s,o));break;case 2:o=Bv(t,e,s);break;case 512:case 1024:case 2048:case 256:if(!((o=r[i])||4096&s.flags)){o={instance:Vm(t,s)}}break;case 16:o={instance:Bm(t,s)};break;case 16384:if(!(o=r[i])){o={instance:jm(t,s)}}if(32768&s.flags){Gv(lp(t,s.parent.nodeIndex).componentView,o.instance,o.instance)}break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new Tg;break;case 8:Pv(t,e,s),o=void 0}r[i]=o}i_(t,r_.CreateViewNodes),l_(t,201326592,268435456,0)}function Yv(t){Jv(t),dp.updateDirectives(t,1),s_(t,r_.CheckNoChanges),dp.updateRenderer(t,1),i_(t,r_.CheckNoChanges),t.state&=-97}function Xv(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,sp(t,0,256),Jv(t),dp.updateDirectives(t,0),s_(t,r_.CheckAndUpdate),l_(t,67108864,536870912,0);let e=sp(t,256,512);Gm(t,2097152|(e?1048576:0)),dp.updateRenderer(t,0),i_(t,r_.CheckAndUpdate),l_(t,134217728,536870912,0),Gm(t,8388608|((e=sp(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,sp(t,768,1024)}function Zv(t,e,n,r,i,s,o,a,l,c,u,h,d){return 0===n?function(t,e,n,r,i,s,o,a,l,c,u,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,s,o,a,l,c,u,h){const d=e.bindings.length;let p=!1;return d>0&&Tv(t,e,0,n)&&(p=!0),d>1&&Tv(t,e,1,r)&&(p=!0),d>2&&Tv(t,e,2,i)&&(p=!0),d>3&&Tv(t,e,3,s)&&(p=!0),d>4&&Tv(t,e,4,o)&&(p=!0),d>5&&Tv(t,e,5,a)&&(p=!0),d>6&&Tv(t,e,6,l)&&(p=!0),d>7&&Tv(t,e,7,c)&&(p=!0),d>8&&Tv(t,e,8,u)&&(p=!0),d>9&&Tv(t,e,9,h)&&(p=!0),p}(t,e,n,r,i,s,o,a,l,c,u,h);case 2:return function(t,e,n,r,i,s,o,a,l,c,u,h){let d=!1;const p=e.bindings,m=p.length;if(m>0&&Ep(t,e,0,n)&&(d=!0),m>1&&Ep(t,e,1,r)&&(d=!0),m>2&&Ep(t,e,2,i)&&(d=!0),m>3&&Ep(t,e,3,s)&&(d=!0),m>4&&Ep(t,e,4,o)&&(d=!0),m>5&&Ep(t,e,5,a)&&(d=!0),m>6&&Ep(t,e,6,l)&&(d=!0),m>7&&Ep(t,e,7,c)&&(d=!0),m>8&&Ep(t,e,8,u)&&(d=!0),m>9&&Ep(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;m>0&&(d+=jv(n,p[0])),m>1&&(d+=jv(r,p[1])),m>2&&(d+=jv(i,p[2])),m>3&&(d+=jv(s,p[3])),m>4&&(d+=jv(o,p[4])),m>5&&(d+=jv(a,p[5])),m>6&&(d+=jv(l,p[6])),m>7&&(d+=jv(c,p[7])),m>8&&(d+=jv(u,p[8])),m>9&&(d+=jv(h,p[9]));const f=ap(t,e.nodeIndex).renderText;t.renderer.setValue(f,d)}return d}(t,e,n,r,i,s,o,a,l,c,u,h);case 16384:return function(t,e,n,r,i,s,o,a,l,c,u,h){const d=cp(t,e.nodeIndex),p=d.instance;let m=!1,f=void 0;const g=e.bindings.length;return g>0&&wp(t,e,0,n)&&(m=!0,f=Km(t,d,e,0,n,f)),g>1&&wp(t,e,1,r)&&(m=!0,f=Km(t,d,e,1,r,f)),g>2&&wp(t,e,2,i)&&(m=!0,f=Km(t,d,e,2,i,f)),g>3&&wp(t,e,3,s)&&(m=!0,f=Km(t,d,e,3,s,f)),g>4&&wp(t,e,4,o)&&(m=!0,f=Km(t,d,e,4,o,f)),g>5&&wp(t,e,5,a)&&(m=!0,f=Km(t,d,e,5,a,f)),g>6&&wp(t,e,6,l)&&(m=!0,f=Km(t,d,e,6,l,f)),g>7&&wp(t,e,7,c)&&(m=!0,f=Km(t,d,e,7,c,f)),g>8&&wp(t,e,8,u)&&(m=!0,f=Km(t,d,e,8,u,f)),g>9&&wp(t,e,9,h)&&(m=!0,f=Km(t,d,e,9,h,f)),f&&p.ngOnChanges(f),65536&e.flags&&op(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),m}(t,e,n,r,i,s,o,a,l,c,u,h);case 32:case 64:case 128:return function(t,e,n,r,i,s,o,a,l,c,u,h){const d=e.bindings;let p=!1;const m=d.length;if(m>0&&Ep(t,e,0,n)&&(p=!0),m>1&&Ep(t,e,1,r)&&(p=!0),m>2&&Ep(t,e,2,i)&&(p=!0),m>3&&Ep(t,e,3,s)&&(p=!0),m>4&&Ep(t,e,4,o)&&(p=!0),m>5&&Ep(t,e,5,a)&&(p=!0),m>6&&Ep(t,e,6,l)&&(p=!0),m>7&&Ep(t,e,7,c)&&(p=!0),m>8&&Ep(t,e,8,u)&&(p=!0),m>9&&Ep(t,e,9,h)&&(p=!0),p){const p=up(t,e.nodeIndex);let f;switch(201347067&e.flags){case 32:f=new Array(d.length),m>0&&(f[0]=n),m>1&&(f[1]=r),m>2&&(f[2]=i),m>3&&(f[3]=s),m>4&&(f[4]=o),m>5&&(f[5]=a),m>6&&(f[6]=l),m>7&&(f[7]=c),m>8&&(f[8]=u),m>9&&(f[9]=h);break;case 64:f={},m>0&&(f[d[0].name]=n),m>1&&(f[d[1].name]=r),m>2&&(f[d[2].name]=i),m>3&&(f[d[3].name]=s),m>4&&(f[d[4].name]=o),m>5&&(f[d[5].name]=a),m>6&&(f[d[6].name]=l),m>7&&(f[d[7].name]=c),m>8&&(f[d[8].name]=u),m>9&&(f[d[9].name]=h);break;case 128:const t=n;switch(m){case 1:f=t.transform(n);break;case 2:f=t.transform(r);break;case 3:f=t.transform(r,i);break;case 4:f=t.transform(r,i,s);break;case 5:f=t.transform(r,i,s,o);break;case 6:f=t.transform(r,i,s,o,a);break;case 7:f=t.transform(r,i,s,o,a,l);break;case 8:f=t.transform(r,i,s,o,a,l,c);break;case 9:f=t.transform(r,i,s,o,a,l,c,u);break;case 10:f=t.transform(r,i,s,o,a,l,c,u,h)}}p.value=f}return p}(t,e,n,r,i,s,o,a,l,c,u,h);default:throw"unreachable"}}(t,e,r,i,s,o,a,l,c,u,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)Tv(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)Ep(t,e,s,n[s])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=jv(n[t],r[t]);i=e.text.prefix+i;const s=ap(t,e.nodeIndex).renderText;t.renderer.setValue(s,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=cp(t,e.nodeIndex),i=r.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)wp(t,e,a,n[a])&&(s=!0,o=Km(t,r,e,a,n[a],o));return o&&i.ngOnChanges(o),65536&e.flags&&op(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),s}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)Ep(t,e,s,n[s])&&(i=!0);if(i){const i=up(t,e.nodeIndex);let s;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(let e=0;e<n.length;e++)s[r[e].name]=n[e];break;case 128:const t=n[0],i=n.slice(1);s=t.transform(...i)}i.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Jv(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=lp(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,Sp(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function t_(t,e,n,r,i,s,o,a,l,c,u,h,d){return 0===n?function(t,e,n,r,i,s,o,a,l,c,u,h){const d=e.bindings.length;d>0&&Cp(t,e,0,n);d>1&&Cp(t,e,1,r);d>2&&Cp(t,e,2,i);d>3&&Cp(t,e,3,s);d>4&&Cp(t,e,4,o);d>5&&Cp(t,e,5,a);d>6&&Cp(t,e,6,l);d>7&&Cp(t,e,7,c);d>8&&Cp(t,e,8,u);d>9&&Cp(t,e,9,h)}(t,e,r,i,s,o,a,l,c,u,h,d):function(t,e,n){for(let r=0;r<n.length;r++)Cp(t,e,r,n[r])}(t,e,r),!1}function e_(t,e){if(hp(t,e.nodeIndex).dirty)throw np(dp.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function n_(t){if(!(128&t.state)){if(s_(t,r_.Destroy),i_(t,r_.Destroy),Gm(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Ip(t);if(e){const n=e.template._projectedViews;n&&(he(n,n.indexOf(t)),dp.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(lp(t,n).renderElement):2&e.flags?t.renderer.destroyNode(ap(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&hp(t,n).destroy()}}(t),Dp(t)&&t.renderer.destroy(),t.state|=128}}bv.decorators=[{type:oy,args:[{providers:_v}]}],bv.ctorParameters=()=>[{type:rv}];const r_={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};function i_(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?o_(lp(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function s_(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=lp(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)o_(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function o_(t,e){const n=t.state;switch(e){case r_.CheckNoChanges:0==(128&n)&&(12==(12&n)?Yv(t):64&n&&a_(t,r_.CheckNoChangesProjectedViews));break;case r_.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Yv(t):64&n&&a_(t,e));break;case r_.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Xv(t):64&n&&a_(t,r_.CheckAndUpdateProjectedViews));break;case r_.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Xv(t):64&n&&a_(t,e));break;case r_.Destroy:n_(t);break;case r_.CreateViewNodes:Qv(t)}}function a_(t,e){s_(t,e),i_(t,e)}function l_(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let s=0;s<i;s++){const i=t.def.nodes[s];if(i.flags&e&&i.flags&n)switch(dp.setCurrentNode(t,i.nodeIndex),r){case 0:Av(t,i);break;case 1:e_(t,i)}i.childFlags&e&&i.childFlags&n||(s+=i.childCount)}}r_[r_.CreateViewNodes]="CreateViewNodes",r_[r_.CheckNoChanges]="CheckNoChanges",r_[r_.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",r_[r_.CheckAndUpdate]="CheckAndUpdate",r_[r_.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",r_[r_.Destroy]="Destroy";let c_=!1;function u_(){if(c_)return;c_=!0;const t=vs()?{setCurrentNode:P_,createRootView:d_,createEmbeddedView:m_,createComponentView:f_,createNgModuleRef:g_,overrideProvider:b_,overrideComponentView:w_,clearOverrides:E_,checkAndUpdateView:T_,checkNoChangesView:I_,destroyView:k_,createDebugContext:(t,e)=>new U_(t,e),handleEvent:R_,updateDirectives:M_,updateRenderer:L_}:{setCurrentNode:()=>{},createRootView:h_,createEmbeddedView:$v,createComponentView:Wv,createNgModuleRef:xm,overrideProvider:pp,overrideComponentView:pp,clearOverrides:pp,checkAndUpdateView:Xv,checkNoChangesView:Yv,destroyView:n_,createDebugContext:(t,e)=>new U_(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?x_:S_,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?x_:S_,t)};dp.setCurrentNode=t.setCurrentNode,dp.createRootView=t.createRootView,dp.createEmbeddedView=t.createEmbeddedView,dp.createComponentView=t.createComponentView,dp.createNgModuleRef=t.createNgModuleRef,dp.overrideProvider=t.overrideProvider,dp.overrideComponentView=t.overrideComponentView,dp.clearOverrides=t.clearOverrides,dp.checkAndUpdateView=t.checkAndUpdateView,dp.checkNoChangesView=t.checkNoChangesView,dp.destroyView=t.destroyView,dp.resolveDep=Hm,dp.createDebugContext=t.createDebugContext,dp.handleEvent=t.handleEvent,dp.updateDirectives=t.updateDirectives,dp.updateRenderer=t.updateRenderer,dp.dirtyParentQueries=kv}function h_(t,e,n,r,i,s){const o=i.injector.get(Dd);return Hv(p_(t,i,o,e,n),r,s)}function d_(t,e,n,r,i,s){const o=i.injector.get(Dd),a=p_(t,i,new H_(o),e,n),l=C_(r);return z_(A_.create,Hv,null,[a,l,s])}function p_(t,e,n,r,i){const s=e.injector.get(Ks),o=e.injector.get(ps),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:s,rendererFactory:n,renderer:a,errorHandler:o}}function m_(t,e,n,r){const i=C_(n);return z_(A_.create,$v,null,[t,e,i,r])}function f_(t,e,n,r){const i=__.get(e.element.componentProvider.provider.token);return n=i||C_(n),z_(A_.create,Wv,null,[t,e,n,r])}function g_(t,e,n,r){return xm(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;if(0===y_.size)return{hasOverrides:e,hasDeprecatedOverrides:n};return t.providers.forEach(t=>{const r=y_.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{v_.forEach((r,i)=>{Tt(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n}}(t);if(!e)return t;return function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=y_.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Rp(i.deps),r.value=i.value)}if(v_.size>0){let e=new Set(t.modules);v_.forEach((r,i)=>{if(e.has(Tt(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:Rp(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[fp(i)]=e}})}}(t=t.factory(()=>pp)),t}(r))}const y_=new Map,v_=new Map,__=new Map;function b_(t){let e;y_.set(t.token,t),"function"==typeof t.token&&(e=Tt(t.token))&&"function"==typeof e.providedIn&&v_.set(t.token,t)}function w_(t,e){const n=Fp(e.viewDefFactory);const r=Fp(n.nodes[0].element.componentView);__.set(t,r)}function E_(){y_.clear(),v_.clear(),__.clear()}function C_(t){if(0===y_.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&y_.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>pp);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=y_.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=Rp(n.deps),t.value=n.value)}}}}function x_(t,e,n,r,i,s,o,a,l,c,u,h,d){const p=t.def.nodes[e];return Zv(t,p,n,r,i,s,o,a,l,c,u,h,d),224&p.flags?up(t,e).value:void 0}function S_(t,e,n,r,i,s,o,a,l,c,u,h,d){const p=t.def.nodes[e];return t_(t,p,n,r,i,s,o,a,l,c,u,h,d),224&p.flags?up(t,e).value:void 0}function T_(t){return z_(A_.detectChanges,Xv,null,[t])}function I_(t){return z_(A_.checkNoChanges,Yv,null,[t])}function k_(t){return z_(A_.destroy,n_,null,[t])}const A_={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};let D_,N_,O_;function P_(t,e){N_=t,O_=e}function R_(t,e,n,r){return P_(t,e),z_(A_.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function M_(t,e){if(128&t.state)throw ip(A_[D_]);return P_(t,B_(t,0)),t.def.updateDirectives(function(t,n,r,...i){const s=t.def.nodes[n];0===e?F_(t,s,r,i):V_(t,s,r,i);16384&s.flags&&P_(t,B_(t,n));return 224&s.flags?up(t,s.nodeIndex).value:void 0},t)}function L_(t,e){if(128&t.state)throw ip(A_[D_]);return P_(t,j_(t,0)),t.def.updateRenderer(function(t,n,r,...i){const s=t.def.nodes[n];0===e?F_(t,s,r,i):V_(t,s,r,i);3&s.flags&&P_(t,j_(t,n));return 224&s.flags?up(t,s.nodeIndex).value:void 0},t)}function F_(t,e,n,r){if(Zv(t,e,n,...r)){const i=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],s=i[t];8&r.flags&&(n[so(r.nonMinifiedName)]=ao(s))}const r=e.parent,s=lp(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(s,e,r):t.renderer.removeAttribute(s,e)}else t.renderer.setValue(s,`bindings=${JSON.stringify(n,null,2)}`)}}}function V_(t,e,n,r){t_(t,e,n,...r)}function B_(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function j_(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}A_[A_.create]="create",A_[A_.detectChanges]="detectChanges",A_[A_.checkNoChanges]="checkNoChanges",A_[A_.destroy]="destroy",A_[A_.handleEvent]="handleEvent";class U_{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=kp(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return lp(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return _m(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){q_(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&q_(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Dp(t);)t=t.parent;if(t.parent)return lp(t.parent,kp(t).nodeIndex);return null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Ap(this.view,this.nodeDef):Ap(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++){3&t.nodes[r].flags&&n++}return n}(n,r);let s=-1;n.factory(()=>++s===i?t.error.bind(t,...e):pp),s<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function q_(t,e,n){for(let r in e.references)n[r]=Nv(t,e,e.references[r])}function z_(t,e,n,r){const i=D_,s=N_,o=O_;try{D_=t;const l=e.apply(n,r);return N_=s,O_=o,D_=i,l}catch(a){if(us(a)||!N_)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),rp(t,e),t}(a,$_())}}function $_(){return N_?new U_(N_,O_):null}class H_{constructor(t){this.delegate=t}createRenderer(t,e){return new W_(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class W_{constructor(t){this.delegate=t,this.debugContextFactory=$_,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=gv(t);!function(t){fv.delete(t.nativeNode)}(e),e instanceof pv&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new mv(n,null,r);e.name=t,yv(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&yv(new pv(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&yv(new pv(e,null,n)),e}appendChild(t,e){const n=gv(t),r=gv(e);n&&r&&n instanceof mv&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=gv(t),i=gv(e),s=gv(n);r&&i&&r instanceof mv&&r.insertBefore(s,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=gv(t),r=gv(e);n&&r&&n instanceof mv&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=$_();return r&&yv(new mv(n,null,r)),n}setAttribute(t,e,n,r){const i=gv(t);if(i&&i instanceof mv){const t=r?r+":"+e:e;i.attributes[t]=n}this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=gv(t);if(r&&r instanceof mv){const t=n?n+":"+e:e;r.attributes[t]=null}this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=gv(t);n&&n instanceof mv&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=gv(t);n&&n instanceof mv&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=gv(t);i&&i instanceof mv&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=gv(t);r&&r instanceof mv&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=gv(t);r&&r instanceof mv&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=gv(t);r&&r.listeners.push(new dv(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function K_(t,e,n){return new G_(t,e,n)}class G_ extends ae{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){u_();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Fp(this._ngModuleDefFactory));return dp.createNgModuleRef(this.moduleType,t||Ql.NULL,this._bootstrapComponents,e)}}var Q_;function Y_(t){if(":"!=t[0])return[null,t];const e=t.indexOf(":",1);if(-1==e)throw new Error(`Unsupported format "${t}" expecting ":namespace:name"`);return[t.slice(1,e),t.slice(e+1)]}function X_(t){return"ng-container"===Y_(t)[1]}function Z_(t){return"ng-content"===Y_(t)[1]}function J_(t){return"ng-template"===Y_(t)[1]}function tb(t){return null===t?null:Y_(t)[0]}function eb(t,e){return t?`:${t}:${e}`:e}(function(t){t[t.RAW_TEXT=0]="RAW_TEXT",t[t.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",t[t.PARSABLE_DATA=2]="PARSABLE_DATA"})(Q_||(Q_={}));const nb={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",Alpha:"\u0391",alpha:"\u03b1",amp:"&",and:"\u2227",ang:"\u2220",apos:"'",Aring:"\xc5",aring:"\xe5",asymp:"\u2248",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",bdquo:"\u201e",Beta:"\u0392",beta:"\u03b2",brvbar:"\xa6",bull:"\u2022",cap:"\u2229",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",clubs:"\u2663",cong:"\u2245",copy:"\xa9",crarr:"\u21b5",cup:"\u222a",curren:"\xa4",dagger:"\u2020",Dagger:"\u2021",darr:"\u2193",dArr:"\u21d3",deg:"\xb0",Delta:"\u0394",delta:"\u03b4",diams:"\u2666",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",empty:"\u2205",emsp:"\u2003",ensp:"\u2002",Epsilon:"\u0395",epsilon:"\u03b5",equiv:"\u2261",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",exist:"\u2203",fnof:"\u0192",forall:"\u2200",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",frasl:"\u2044",Gamma:"\u0393",gamma:"\u03b3",ge:"\u2265",gt:">",harr:"\u2194",hArr:"\u21d4",hearts:"\u2665",hellip:"\u2026",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",image:"\u2111",infin:"\u221e",int:"\u222b",Iota:"\u0399",iota:"\u03b9",iquest:"\xbf",isin:"\u2208",Iuml:"\xcf",iuml:"\xef",Kappa:"\u039a",kappa:"\u03ba",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",laquo:"\xab",larr:"\u2190",lArr:"\u21d0",lceil:"\u2308",ldquo:"\u201c",le:"\u2264",lfloor:"\u230a",lowast:"\u2217",loz:"\u25ca",lrm:"\u200e",lsaquo:"\u2039",lsquo:"\u2018",lt:"<",macr:"\xaf",mdash:"\u2014",micro:"\xb5",middot:"\xb7",minus:"\u2212",Mu:"\u039c",mu:"\u03bc",nabla:"\u2207",nbsp:"\xa0",ndash:"\u2013",ne:"\u2260",ni:"\u220b",not:"\xac",notin:"\u2209",nsub:"\u2284",Ntilde:"\xd1",ntilde:"\xf1",Nu:"\u039d",nu:"\u03bd",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",OElig:"\u0152",oelig:"\u0153",Ograve:"\xd2",ograve:"\xf2",oline:"\u203e",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",oplus:"\u2295",or:"\u2228",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",permil:"\u2030",perp:"\u22a5",Phi:"\u03a6",phi:"\u03c6",Pi:"\u03a0",pi:"\u03c0",piv:"\u03d6",plusmn:"\xb1",pound:"\xa3",prime:"\u2032",Prime:"\u2033",prod:"\u220f",prop:"\u221d",Psi:"\u03a8",psi:"\u03c8",quot:'"',radic:"\u221a",rang:"\u27e9",raquo:"\xbb",rarr:"\u2192",rArr:"\u21d2",rceil:"\u2309",rdquo:"\u201d",real:"\u211c",reg:"\xae",rfloor:"\u230b",Rho:"\u03a1",rho:"\u03c1",rlm:"\u200f",rsaquo:"\u203a",rsquo:"\u2019",sbquo:"\u201a",Scaron:"\u0160",scaron:"\u0161",sdot:"\u22c5",sect:"\xa7",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sim:"\u223c",spades:"\u2660",sub:"\u2282",sube:"\u2286",sum:"\u2211",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supe:"\u2287",szlig:"\xdf",Tau:"\u03a4",tau:"\u03c4",there4:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thinsp:"\u2009",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",times:"\xd7",trade:"\u2122",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",uArr:"\u21d1",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",Uuml:"\xdc",uuml:"\xfc",weierp:"\u2118",Xi:"\u039e",xi:"\u03be",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff",Yuml:"\u0178",Zeta:"\u0396",zeta:"\u03b6",zwj:"\u200d",zwnj:"\u200c"},rb="\ue500";nb.ngsp=rb;class ib{constructor({closedByChildren:t,implicitNamespacePrefix:e,contentType:n=Q_.PARSABLE_DATA,closedByParent:r=!1,isVoid:i=!1,ignoreFirstLf:s=!1}={}){this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,t&&t.length>0&&t.forEach(t=>this.closedByChildren[t]=!0),this.isVoid=i,this.closedByParent=r||i,this.implicitNamespacePrefix=e||null,this.contentType=n,this.ignoreFirstLf=s}isClosedByChild(t){return this.isVoid||t.toLowerCase()in this.closedByChildren}}let sb,ob;function ab(t){return ob||(sb=new ib,ob={base:new ib({isVoid:!0}),meta:new ib({isVoid:!0}),area:new ib({isVoid:!0}),embed:new ib({isVoid:!0}),link:new ib({isVoid:!0}),img:new ib({isVoid:!0}),input:new ib({isVoid:!0}),param:new ib({isVoid:!0}),hr:new ib({isVoid:!0}),br:new ib({isVoid:!0}),source:new ib({isVoid:!0}),track:new ib({isVoid:!0}),wbr:new ib({isVoid:!0}),p:new ib({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new ib({closedByChildren:["tbody","tfoot"]}),tbody:new ib({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new ib({closedByChildren:["tbody"],closedByParent:!0}),tr:new ib({closedByChildren:["tr"],closedByParent:!0}),td:new ib({closedByChildren:["td","th"],closedByParent:!0}),th:new ib({closedByChildren:["td","th"],closedByParent:!0}),col:new ib({isVoid:!0}),svg:new ib({implicitNamespacePrefix:"svg"}),math:new ib({implicitNamespacePrefix:"math"}),li:new ib({closedByChildren:["li"],closedByParent:!0}),dt:new ib({closedByChildren:["dt","dd"]}),dd:new ib({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new ib({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new ib({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new ib({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new ib({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new ib({closedByChildren:["optgroup"],closedByParent:!0}),option:new ib({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new ib({ignoreFirstLf:!0}),listing:new ib({ignoreFirstLf:!0}),style:new ib({contentType:Q_.RAW_TEXT}),script:new ib({contentType:Q_.RAW_TEXT}),title:new ib({contentType:Q_.ESCAPABLE_RAW_TEXT}),textarea:new ib({contentType:Q_.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),ob[t.toLowerCase()]||sb}const lb=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g");class cb{constructor(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}static parse(t){const e=[],n=(t,e)=>{e.notSelectors.length>0&&!e.element&&0==e.classNames.length&&0==e.attrs.length&&(e.element="*"),t.push(e)};let r,i=new cb,s=i,o=!1;for(lb.lastIndex=0;r=lb.exec(t);){if(r[1]){if(o)throw new Error("Nesting :not is not allowed in a selector");o=!0,s=new cb,i.notSelectors.push(s)}if(r[2]&&s.setElement(r[2]),r[3]&&s.addClassName(r[3]),r[4]&&s.addAttribute(r[4],r[6]),r[7]&&(o=!1,s=i),r[8]){if(o)throw new Error("Multiple selectors in :not are not supported");n(e,i),i=s=new cb}}return n(e,i),e}isElementSelector(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}hasElementSelector(){return!!this.element}setElement(t=null){this.element=t}getMatchingElementTemplate(){const t=this.element||"div",e=this.classNames.length>0?` class="${this.classNames.join(" ")}"`:"";let n="";for(let r=0;r<this.attrs.length;r+=2){n+=` ${this.attrs[r]}${""!==this.attrs[r+1]?`="${this.attrs[r+1]}"`:""}`}return ab(t).isVoid?`<${t}${e}${n}/>`:`<${t}${e}${n}></${t}>`}getAttrs(){const t=[];return this.classNames.length>0&&t.push("class",this.classNames.join(" ")),t.concat(this.attrs)}addAttribute(t,e=""){this.attrs.push(t,e&&e.toLowerCase()||"")}addClassName(t){this.classNames.push(t.toLowerCase())}toString(){let t=this.element||"";if(this.classNames&&this.classNames.forEach(e=>t+=`.${e}`),this.attrs)for(let e=0;e<this.attrs.length;e+=2){const n=this.attrs[e],r=this.attrs[e+1];t+=`[${n}${r?"="+r:""}]`}return this.notSelectors.forEach(e=>t+=`:not(${e})`),t}}class ub{constructor(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}static createNotMatcher(t){const e=new ub;return e.addSelectables(t,null),e}addSelectables(t,e){let n=null;t.length>1&&(n=new hb(t),this._listContexts.push(n));for(let r=0;r<t.length;r++)this._addSelectable(t[r],e,n)}_addSelectable(t,e,n){let r=this;const i=t.element,s=t.classNames,o=t.attrs,a=new db(t,e,n);if(i){0===o.length&&0===s.length?this._addTerminal(r._elementMap,i,a):r=this._addPartial(r._elementPartialMap,i)}if(s)for(let l=0;l<s.length;l++){const t=0===o.length&&l===s.length-1,e=s[l];t?this._addTerminal(r._classMap,e,a):r=this._addPartial(r._classPartialMap,e)}if(o)for(let l=0;l<o.length;l+=2){const t=l===o.length-2,e=o[l],n=o[l+1];if(t){const t=r._attrValueMap;let i=t.get(e);i||(i=new Map,t.set(e,i)),this._addTerminal(i,n,a)}else{const t=r._attrValuePartialMap;let i=t.get(e);i||(i=new Map,t.set(e,i)),r=this._addPartial(i,n)}}}_addTerminal(t,e,n){let r=t.get(e);r||(r=[],t.set(e,r)),r.push(n)}_addPartial(t,e){let n=t.get(e);return n||(n=new ub,t.set(e,n)),n}match(t,e){let n=!1;const r=t.element,i=t.classNames,s=t.attrs;for(let o=0;o<this._listContexts.length;o++)this._listContexts[o].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,t,e)||n,n=this._matchPartial(this._elementPartialMap,r,t,e)||n,i)for(let o=0;o<i.length;o++){const r=i[o];n=this._matchTerminal(this._classMap,r,t,e)||n,n=this._matchPartial(this._classPartialMap,r,t,e)||n}if(s)for(let o=0;o<s.length;o+=2){const r=s[o],i=s[o+1],a=this._attrValueMap.get(r);i&&(n=this._matchTerminal(a,"",t,e)||n),n=this._matchTerminal(a,i,t,e)||n;const l=this._attrValuePartialMap.get(r);i&&(n=this._matchPartial(l,"",t,e)||n),n=this._matchPartial(l,i,t,e)||n}return n}_matchTerminal(t,e,n,r){if(!t||"string"!=typeof e)return!1;let i=t.get(e)||[];const s=t.get("*");if(s&&(i=i.concat(s)),0===i.length)return!1;let o,a=!1;for(let l=0;l<i.length;l++)a=(o=i[l]).finalize(n,r)||a;return a}_matchPartial(t,e,n,r){if(!t||"string"!=typeof e)return!1;const i=t.get(e);return!!i&&i.match(n,r)}}class hb{constructor(t){this.selectors=t,this.alreadyMatched=!1}}class db{constructor(t,e,n){this.selector=t,this.cbContext=e,this.listContext=n,this.notSelectors=t.notSelectors}finalize(t,e){let n=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){n=!ub.createNotMatcher(this.notSelectors).match(t,null)}return!n||!e||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),e(this.selector,this.cbContext)),n}}const pb=jb("Inject",t=>({token:t})),mb=jb("InjectionToken",t=>({_desc:t,ngInjectableDef:void 0})),fb=jb("Attribute",t=>({attributeName:t})),gb=jb("ContentChildren",(t,e={})=>Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)),yb=jb("ContentChild",(t,e={})=>Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)),vb=jb("ViewChildren",(t,e={})=>Object.assign({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)),_b=jb("ViewChild",(t,e)=>Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)),bb=jb("Directive",(t={})=>t);var wb,Eb;!function(t){t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(wb||(wb={})),function(t){t[t.OnPush=0]="OnPush",t[t.Default=1]="Default"}(Eb||(Eb={}));const Cb=jb("Component",(t={})=>Object.assign({changeDetection:Eb.Default},t)),xb=jb("Pipe",t=>Object.assign({pure:!0},t)),Sb=jb("Input",t=>({bindingPropertyName:t})),Tb=jb("Output",t=>({bindingPropertyName:t})),Ib=jb("HostBinding",t=>({hostPropertyName:t})),kb=jb("HostListener",(t,e)=>({eventName:t,args:e})),Ab=jb("NgModule",t=>t),Db=jb("Injectable",(t={})=>t),Nb={name:"custom-elements"},Ob={name:"no-errors-schema"},Pb=jb("Optional"),Rb=jb("Self"),Mb=jb("SkipSelf"),Lb=jb("Host"),Fb=Function;var Vb,Bb;function jb(t,e){function n(...n){const r=e?e(...n):{};return Object.assign({ngMetadataName:t},r)}return n.isTypeOf=e=>e&&e.ngMetadataName===t,n.ngMetadataName=t,n}function Ub(t){const e=function(t){const e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return[t.element&&"*"!==t.element?t.element:"",...t.attrs,...e]}(t),n=t.notSelectors&&t.notSelectors.length?t.notSelectors.map(t=>(function(t){const e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return t.element?[5,t.element,...t.attrs,...e]:t.attrs.length?[3,...t.attrs,...e]:t.classNames&&t.classNames.length?[9,...t.classNames]:[]})(t)):[];return e.concat(...n)}function qb(t){return t?cb.parse(t).map(Ub):[]}!function(t){t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL"}(Vb||(Vb={})),function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore"}(Bb||(Bb={}));var zb,$b;!function(t){t[t.Const=0]="Const"}(zb||(zb={}));class Hb{constructor(t=null){this.modifiers=t,t||(this.modifiers=[])}hasModifier(t){return-1!==this.modifiers.indexOf(t)}}!function(t){t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function",t[t.Inferred=6]="Inferred",t[t.None=7]="None"}($b||($b={}));class Wb extends Hb{constructor(t,e=null){super(e),this.name=t}visitType(t,e){return t.visitBuiltinType(this,e)}}class Kb extends Hb{constructor(t,e=null,n=null){super(e),this.value=t,this.typeParams=n}visitType(t,e){return t.visitExpressionType(this,e)}}class Gb extends Hb{constructor(t,e=null){super(e),this.of=t}visitType(t,e){return t.visitArrayType(this,e)}}class Qb extends Hb{constructor(t,e=null){super(e),this.valueType=t||null}visitType(t,e){return t.visitMapType(this,e)}}const Yb=new Wb($b.Dynamic),Xb=new Wb($b.Inferred),Zb=new Wb($b.Bool),Jb=(new Wb($b.Int),new Wb($b.Number)),tw=(new Wb($b.String),new Wb($b.Function),new Wb($b.None));var ew,nw,rw;function iw(t,e){return null==t||null==e?t==e:t.isEquivalent(e)}function sw(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(!t[r].isEquivalent(e[r]))return!1;return!0}!function(t){t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Identical=2]="Identical",t[t.NotIdentical=3]="NotIdentical",t[t.Minus=4]="Minus",t[t.Plus=5]="Plus",t[t.Divide=6]="Divide",t[t.Multiply=7]="Multiply",t[t.Modulo=8]="Modulo",t[t.And=9]="And",t[t.Or=10]="Or",t[t.BitwiseAnd=11]="BitwiseAnd",t[t.Lower=12]="Lower",t[t.LowerEquals=13]="LowerEquals",t[t.Bigger=14]="Bigger",t[t.BiggerEquals=15]="BiggerEquals"}(ew||(ew={}));class ow{constructor(t,e){this.type=t||null,this.sourceSpan=e||null}prop(t,e){return new Sw(this,t,null,e)}key(t,e,n){return new Tw(this,t,e,n)}callMethod(t,e,n){return new pw(this,t,e,null,n)}callFn(t,e){return new mw(this,t,null,e)}instantiate(t,e,n){return new fw(this,t,e,n)}conditional(t,e=null,n){return new vw(this,t,e,null,n)}equals(t,e){return new xw(ew.Equals,this,t,null,e)}notEquals(t,e){return new xw(ew.NotEquals,this,t,null,e)}identical(t,e){return new xw(ew.Identical,this,t,null,e)}notIdentical(t,e){return new xw(ew.NotIdentical,this,t,null,e)}minus(t,e){return new xw(ew.Minus,this,t,null,e)}plus(t,e){return new xw(ew.Plus,this,t,null,e)}divide(t,e){return new xw(ew.Divide,this,t,null,e)}multiply(t,e){return new xw(ew.Multiply,this,t,null,e)}modulo(t,e){return new xw(ew.Modulo,this,t,null,e)}and(t,e){return new xw(ew.And,this,t,null,e)}bitwiseAnd(t,e,n=!0){return new xw(ew.BitwiseAnd,this,t,null,e,n)}or(t,e){return new xw(ew.Or,this,t,null,e)}lower(t,e){return new xw(ew.Lower,this,t,null,e)}lowerEquals(t,e){return new xw(ew.LowerEquals,this,t,null,e)}bigger(t,e){return new xw(ew.Bigger,this,t,null,e)}biggerEquals(t,e){return new xw(ew.BiggerEquals,this,t,null,e)}isBlank(t){return this.equals(Ow,t)}cast(t,e){return new ww(this,t,e)}toStmt(){return new Fw(this,null)}}!function(t){t[t.This=0]="This",t[t.Super=1]="Super",t[t.CatchError=2]="CatchError",t[t.CatchStack=3]="CatchStack"}(nw||(nw={}));class aw extends ow{constructor(t,e,n){super(e,n),"string"==typeof t?(this.name=t,this.builtin=null):(this.name=null,this.builtin=t)}isEquivalent(t){return t instanceof aw&&this.name===t.name&&this.builtin===t.builtin}isConstant(){return!1}visitExpression(t,e){return t.visitReadVarExpr(this,e)}set(t){if(!this.name)throw new Error(`Built in variable ${this.builtin} can not be assigned to.`);return new uw(this.name,t,null,this.sourceSpan)}}class lw extends ow{constructor(t,e,n){super(e,n),this.expr=t}visitExpression(t,e){return t.visitTypeofExpr(this,e)}isEquivalent(t){return t instanceof lw&&t.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}}class cw extends ow{constructor(t,e,n){super(e,n),this.node=t}isEquivalent(t){return t instanceof cw&&this.node===t.node}isConstant(){return!1}visitExpression(t,e){return t.visitWrappedNodeExpr(this,e)}}class uw extends ow{constructor(t,e,n,r){super(n||e.type,r),this.name=t,this.value=e}isEquivalent(t){return t instanceof uw&&this.name===t.name&&this.value.isEquivalent(t.value)}isConstant(){return!1}visitExpression(t,e){return t.visitWriteVarExpr(this,e)}toDeclStmt(t,e){return new Mw(this.name,this.value,t,e,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(Xb,[Pw.Final])}}class hw extends ow{constructor(t,e,n,r,i){super(r||n.type,i),this.receiver=t,this.index=e,this.value=n}isEquivalent(t){return t instanceof hw&&this.receiver.isEquivalent(t.receiver)&&this.index.isEquivalent(t.index)&&this.value.isEquivalent(t.value)}isConstant(){return!1}visitExpression(t,e){return t.visitWriteKeyExpr(this,e)}}class dw extends ow{constructor(t,e,n,r,i){super(r||n.type,i),this.receiver=t,this.name=e,this.value=n}isEquivalent(t){return t instanceof dw&&this.receiver.isEquivalent(t.receiver)&&this.name===t.name&&this.value.isEquivalent(t.value)}isConstant(){return!1}visitExpression(t,e){return t.visitWritePropExpr(this,e)}}!function(t){t[t.ConcatArray=0]="ConcatArray",t[t.SubscribeObservable=1]="SubscribeObservable",t[t.Bind=2]="Bind"}(rw||(rw={}));class pw extends ow{constructor(t,e,n,r,i){super(r,i),this.receiver=t,this.args=n,"string"==typeof e?(this.name=e,this.builtin=null):(this.name=null,this.builtin=e)}isEquivalent(t){return t instanceof pw&&this.receiver.isEquivalent(t.receiver)&&this.name===t.name&&this.builtin===t.builtin&&sw(this.args,t.args)}isConstant(){return!1}visitExpression(t,e){return t.visitInvokeMethodExpr(this,e)}}class mw extends ow{constructor(t,e,n,r,i=!1){super(n,r),this.fn=t,this.args=e,this.pure=i}isEquivalent(t){return t instanceof mw&&this.fn.isEquivalent(t.fn)&&sw(this.args,t.args)&&this.pure===t.pure}isConstant(){return!1}visitExpression(t,e){return t.visitInvokeFunctionExpr(this,e)}}class fw extends ow{constructor(t,e,n,r){super(n,r),this.classExpr=t,this.args=e}isEquivalent(t){return t instanceof fw&&this.classExpr.isEquivalent(t.classExpr)&&sw(this.args,t.args)}isConstant(){return!1}visitExpression(t,e){return t.visitInstantiateExpr(this,e)}}class gw extends ow{constructor(t,e,n){super(e,n),this.value=t}isEquivalent(t){return t instanceof gw&&this.value===t.value}isConstant(){return!0}visitExpression(t,e){return t.visitLiteralExpr(this,e)}}class yw extends ow{constructor(t,e,n=null,r){super(e,r),this.value=t,this.typeParams=n}isEquivalent(t){return t instanceof yw&&this.value.name===t.value.name&&this.value.moduleName===t.value.moduleName&&this.value.runtime===t.value.runtime}isConstant(){return!1}visitExpression(t,e){return t.visitExternalExpr(this,e)}}class vw extends ow{constructor(t,e,n=null,r,i){super(r||e.type,i),this.condition=t,this.falseCase=n,this.trueCase=e}isEquivalent(t){return t instanceof vw&&this.condition.isEquivalent(t.condition)&&this.trueCase.isEquivalent(t.trueCase)&&iw(this.falseCase,t.falseCase)}isConstant(){return!1}visitExpression(t,e){return t.visitConditionalExpr(this,e)}}class _w extends ow{constructor(t,e){super(Zb,e),this.condition=t}isEquivalent(t){return t instanceof _w&&this.condition.isEquivalent(t.condition)}isConstant(){return!1}visitExpression(t,e){return t.visitNotExpr(this,e)}}class bw extends ow{constructor(t,e){super(t.type,e),this.condition=t}isEquivalent(t){return t instanceof bw&&this.condition.isEquivalent(t.condition)}isConstant(){return!1}visitExpression(t,e){return t.visitAssertNotNullExpr(this,e)}}class ww extends ow{constructor(t,e,n){super(e,n),this.value=t}isEquivalent(t){return t instanceof ww&&this.value.isEquivalent(t.value)}isConstant(){return!1}visitExpression(t,e){return t.visitCastExpr(this,e)}}class Ew{constructor(t,e=null){this.name=t,this.type=e}isEquivalent(t){return this.name===t.name}}class Cw extends ow{constructor(t,e,n,r,i){super(n,r),this.params=t,this.statements=e,this.name=i}isEquivalent(t){return t instanceof Cw&&sw(this.params,t.params)&&sw(this.statements,t.statements)}isConstant(){return!1}visitExpression(t,e){return t.visitFunctionExpr(this,e)}toDeclStmt(t,e=null){return new Lw(t,this.params,this.statements,this.type,e,this.sourceSpan)}}class xw extends ow{constructor(t,e,n,r,i,s=!0){super(r||e.type,i),this.operator=t,this.rhs=n,this.parens=s,this.lhs=e}isEquivalent(t){return t instanceof xw&&this.operator===t.operator&&this.lhs.isEquivalent(t.lhs)&&this.rhs.isEquivalent(t.rhs)}isConstant(){return!1}visitExpression(t,e){return t.visitBinaryOperatorExpr(this,e)}}class Sw extends ow{constructor(t,e,n,r){super(n,r),this.receiver=t,this.name=e}isEquivalent(t){return t instanceof Sw&&this.receiver.isEquivalent(t.receiver)&&this.name===t.name}isConstant(){return!1}visitExpression(t,e){return t.visitReadPropExpr(this,e)}set(t){return new dw(this.receiver,this.name,t,null,this.sourceSpan)}}class Tw extends ow{constructor(t,e,n,r){super(n,r),this.receiver=t,this.index=e}isEquivalent(t){return t instanceof Tw&&this.receiver.isEquivalent(t.receiver)&&this.index.isEquivalent(t.index)}isConstant(){return!1}visitExpression(t,e){return t.visitReadKeyExpr(this,e)}set(t){return new hw(this.receiver,this.index,t,null,this.sourceSpan)}}class Iw extends ow{constructor(t,e,n){super(e,n),this.entries=t}isConstant(){return this.entries.every(t=>t.isConstant())}isEquivalent(t){return t instanceof Iw&&sw(this.entries,t.entries)}visitExpression(t,e){return t.visitLiteralArrayExpr(this,e)}}class kw{constructor(t,e,n){this.key=t,this.value=e,this.quoted=n}isEquivalent(t){return this.key===t.key&&this.value.isEquivalent(t.value)}}class Aw extends ow{constructor(t,e,n){super(e,n),this.entries=t,this.valueType=null,e&&(this.valueType=e.valueType)}isEquivalent(t){return t instanceof Aw&&sw(this.entries,t.entries)}isConstant(){return this.entries.every(t=>t.value.isConstant())}visitExpression(t,e){return t.visitLiteralMapExpr(this,e)}}class Dw extends ow{constructor(t,e){super(t[t.length-1].type,e),this.parts=t}isEquivalent(t){return t instanceof Dw&&sw(this.parts,t.parts)}isConstant(){return!1}visitExpression(t,e){return t.visitCommaExpr(this,e)}}new aw(nw.This,null,null),new aw(nw.Super,null,null),new aw(nw.CatchError,null,null),new aw(nw.CatchStack,null,null);const Nw=new gw(null,null,null),Ow=new gw(null,Xb,null);var Pw;!function(t){t[t.Final=0]="Final",t[t.Private=1]="Private",t[t.Exported=2]="Exported",t[t.Static=3]="Static"}(Pw||(Pw={}));class Rw{constructor(t,e){this.modifiers=t||[],this.sourceSpan=e||null}hasModifier(t){return-1!==this.modifiers.indexOf(t)}}class Mw extends Rw{constructor(t,e,n,r=null,i){super(r,i),this.name=t,this.value=e,this.type=n||e&&e.type||null}isEquivalent(t){return t instanceof Mw&&this.name===t.name&&(this.value?!!t.value&&this.value.isEquivalent(t.value):!t.value)}visitStatement(t,e){return t.visitDeclareVarStmt(this,e)}}class Lw extends Rw{constructor(t,e,n,r,i=null,s){super(i,s),this.name=t,this.params=e,this.statements=n,this.type=r||null}isEquivalent(t){return t instanceof Lw&&sw(this.params,t.params)&&sw(this.statements,t.statements)}visitStatement(t,e){return t.visitDeclareFunctionStmt(this,e)}}class Fw extends Rw{constructor(t,e){super(null,e),this.expr=t}isEquivalent(t){return t instanceof Fw&&this.expr.isEquivalent(t.expr)}visitStatement(t,e){return t.visitExpressionStmt(this,e)}}class Vw extends Rw{constructor(t,e){super(null,e),this.value=t}isEquivalent(t){return t instanceof Vw&&this.value.isEquivalent(t.value)}visitStatement(t,e){return t.visitReturnStmt(this,e)}}class Bw{constructor(t,e){this.modifiers=e,e||(this.modifiers=[]),this.type=t||null}hasModifier(t){return-1!==this.modifiers.indexOf(t)}}class jw extends Bw{constructor(t,e,n,r,i=null){super(r,i),this.name=t,this.params=e,this.body=n}isEquivalent(t){return this.name===t.name&&sw(this.body,t.body)}}class Uw extends Bw{constructor(t,e,n,r=null){super(n,r),this.name=t,this.body=e}isEquivalent(t){return this.name===t.name&&sw(this.body,t.body)}}class qw extends Rw{constructor(t,e,n,r,i,s,o=null,a){super(o,a),this.name=t,this.parent=e,this.fields=n,this.getters=r,this.constructorMethod=i,this.methods=s}isEquivalent(t){return t instanceof qw&&this.name===t.name&&iw(this.parent,t.parent)&&sw(this.fields,t.fields)&&sw(this.getters,t.getters)&&this.constructorMethod.isEquivalent(t.constructorMethod)&&sw(this.methods,t.methods)}visitStatement(t,e){return t.visitDeclareClassStmt(this,e)}}class zw extends Rw{constructor(t,e,n=[],r){super(null,r),this.condition=t,this.trueCase=e,this.falseCase=n}isEquivalent(t){return t instanceof zw&&this.condition.isEquivalent(t.condition)&&sw(this.trueCase,t.trueCase)&&sw(this.falseCase,t.falseCase)}visitStatement(t,e){return t.visitIfStmt(this,e)}}class $w extends Rw{constructor(t=[],e){super(null,e),this.tags=t}isEquivalent(t){return t instanceof $w&&this.toString()===t.toString()}visitStatement(t,e){return t.visitJSDocCommentStmt(this,e)}toString(){return function(t){if(0===t.length)return"";let e="*\n";for(const n of t)e+=" *",e+=cE(n).replace(/\n/g,"\n * "),e+="\n";return e+=" "}(this.tags)}}class Hw extends Rw{constructor(t,e,n){super(null,n),this.bodyStmts=t,this.catchStmts=e}isEquivalent(t){return t instanceof Hw&&sw(this.bodyStmts,t.bodyStmts)&&sw(this.catchStmts,t.catchStmts)}visitStatement(t,e){return t.visitTryCatchStmt(this,e)}}class Ww extends Rw{constructor(t,e){super(null,e),this.error=t}isEquivalent(t){return t instanceof Hw&&this.error.isEquivalent(t.error)}visitStatement(t,e){return t.visitThrowStmt(this,e)}}class Kw{transformExpr(t,e){return t}transformStmt(t,e){return t}visitReadVarExpr(t,e){return this.transformExpr(t,e)}visitWrappedNodeExpr(t,e){return this.transformExpr(t,e)}visitTypeofExpr(t,e){return this.transformExpr(new lw(t.expr.visitExpression(this,e),t.type,t.sourceSpan),e)}visitWriteVarExpr(t,e){return this.transformExpr(new uw(t.name,t.value.visitExpression(this,e),t.type,t.sourceSpan),e)}visitWriteKeyExpr(t,e){return this.transformExpr(new hw(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e),t.type,t.sourceSpan),e)}visitWritePropExpr(t,e){return this.transformExpr(new dw(t.receiver.visitExpression(this,e),t.name,t.value.visitExpression(this,e),t.type,t.sourceSpan),e)}visitInvokeMethodExpr(t,e){const n=t.builtin||t.name;return this.transformExpr(new pw(t.receiver.visitExpression(this,e),n,this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)}visitInvokeFunctionExpr(t,e){return this.transformExpr(new mw(t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)}visitInstantiateExpr(t,e){return this.transformExpr(new fw(t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)}visitLiteralExpr(t,e){return this.transformExpr(t,e)}visitExternalExpr(t,e){return this.transformExpr(t,e)}visitConditionalExpr(t,e){return this.transformExpr(new vw(t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e),t.type,t.sourceSpan),e)}visitNotExpr(t,e){return this.transformExpr(new _w(t.condition.visitExpression(this,e),t.sourceSpan),e)}visitAssertNotNullExpr(t,e){return this.transformExpr(new bw(t.condition.visitExpression(this,e),t.sourceSpan),e)}visitCastExpr(t,e){return this.transformExpr(new ww(t.value.visitExpression(this,e),t.type,t.sourceSpan),e)}visitFunctionExpr(t,e){return this.transformExpr(new Cw(t.params,this.visitAllStatements(t.statements,e),t.type,t.sourceSpan),e)}visitBinaryOperatorExpr(t,e){return this.transformExpr(new xw(t.operator,t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),t.type,t.sourceSpan),e)}visitReadPropExpr(t,e){return this.transformExpr(new Sw(t.receiver.visitExpression(this,e),t.name,t.type,t.sourceSpan),e)}visitReadKeyExpr(t,e){return this.transformExpr(new Tw(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.type,t.sourceSpan),e)}visitLiteralArrayExpr(t,e){return this.transformExpr(new Iw(this.visitAllExpressions(t.entries,e),t.type,t.sourceSpan),e)}visitLiteralMapExpr(t,e){const n=t.entries.map(t=>new kw(t.key,t.value.visitExpression(this,e),t.quoted)),r=new Qb(t.valueType,null);return this.transformExpr(new Aw(n,r,t.sourceSpan),e)}visitCommaExpr(t,e){return this.transformExpr(new Dw(this.visitAllExpressions(t.parts,e),t.sourceSpan),e)}visitAllExpressions(t,e){return t.map(t=>t.visitExpression(this,e))}visitDeclareVarStmt(t,e){const n=t.value&&t.value.visitExpression(this,e);return this.transformStmt(new Mw(t.name,n,t.type,t.modifiers,t.sourceSpan),e)}visitDeclareFunctionStmt(t,e){return this.transformStmt(new Lw(t.name,t.params,this.visitAllStatements(t.statements,e),t.type,t.modifiers,t.sourceSpan),e)}visitExpressionStmt(t,e){return this.transformStmt(new Fw(t.expr.visitExpression(this,e),t.sourceSpan),e)}visitReturnStmt(t,e){return this.transformStmt(new Vw(t.value.visitExpression(this,e),t.sourceSpan),e)}visitDeclareClassStmt(t,e){const n=t.parent.visitExpression(this,e),r=t.getters.map(t=>new Uw(t.name,this.visitAllStatements(t.body,e),t.type,t.modifiers)),i=t.constructorMethod&&new jw(t.constructorMethod.name,t.constructorMethod.params,this.visitAllStatements(t.constructorMethod.body,e),t.constructorMethod.type,t.constructorMethod.modifiers),s=t.methods.map(t=>new jw(t.name,t.params,this.visitAllStatements(t.body,e),t.type,t.modifiers));return this.transformStmt(new qw(t.name,n,t.fields,r,i,s,t.modifiers,t.sourceSpan),e)}visitIfStmt(t,e){return this.transformStmt(new zw(t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e),t.sourceSpan),e)}visitTryCatchStmt(t,e){return this.transformStmt(new Hw(this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e),t.sourceSpan),e)}visitThrowStmt(t,e){return this.transformStmt(new Ww(t.error.visitExpression(this,e),t.sourceSpan),e)}visitCommentStmt(t,e){return this.transformStmt(t,e)}visitJSDocCommentStmt(t,e){return this.transformStmt(t,e)}visitAllStatements(t,e){return t.map(t=>t.visitStatement(this,e))}}class Gw{visitType(t,e){return t}visitExpression(t,e){return t.type&&t.type.visitType(this,e),t}visitBuiltinType(t,e){return this.visitType(t,e)}visitExpressionType(t,e){return t.value.visitExpression(this,e),null!==t.typeParams&&t.typeParams.forEach(t=>this.visitType(t,e)),this.visitType(t,e)}visitArrayType(t,e){return this.visitType(t,e)}visitMapType(t,e){return this.visitType(t,e)}visitWrappedNodeExpr(t,e){return t}visitTypeofExpr(t,e){return this.visitExpression(t,e)}visitReadVarExpr(t,e){return this.visitExpression(t,e)}visitWriteVarExpr(t,e){return t.value.visitExpression(this,e),this.visitExpression(t,e)}visitWriteKeyExpr(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e),this.visitExpression(t,e)}visitWritePropExpr(t,e){return t.receiver.visitExpression(this,e),t.value.visitExpression(this,e),this.visitExpression(t,e)}visitInvokeMethodExpr(t,e){return t.receiver.visitExpression(this,e),this.visitAllExpressions(t.args,e),this.visitExpression(t,e)}visitInvokeFunctionExpr(t,e){return t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),this.visitExpression(t,e)}visitInstantiateExpr(t,e){return t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),this.visitExpression(t,e)}visitLiteralExpr(t,e){return this.visitExpression(t,e)}visitExternalExpr(t,e){return t.typeParams&&t.typeParams.forEach(t=>t.visitType(this,e)),this.visitExpression(t,e)}visitConditionalExpr(t,e){return t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e),this.visitExpression(t,e)}visitNotExpr(t,e){return t.condition.visitExpression(this,e),this.visitExpression(t,e)}visitAssertNotNullExpr(t,e){return t.condition.visitExpression(this,e),this.visitExpression(t,e)}visitCastExpr(t,e){return t.value.visitExpression(this,e),this.visitExpression(t,e)}visitFunctionExpr(t,e){return this.visitAllStatements(t.statements,e),this.visitExpression(t,e)}visitBinaryOperatorExpr(t,e){return t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),this.visitExpression(t,e)}visitReadPropExpr(t,e){return t.receiver.visitExpression(this,e),this.visitExpression(t,e)}visitReadKeyExpr(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),this.visitExpression(t,e)}visitLiteralArrayExpr(t,e){return this.visitAllExpressions(t.entries,e),this.visitExpression(t,e)}visitLiteralMapExpr(t,e){return t.entries.forEach(t=>t.value.visitExpression(this,e)),this.visitExpression(t,e)}visitCommaExpr(t,e){return this.visitAllExpressions(t.parts,e),this.visitExpression(t,e)}visitAllExpressions(t,e){t.forEach(t=>t.visitExpression(this,e))}visitDeclareVarStmt(t,e){return t.value&&t.value.visitExpression(this,e),t.type&&t.type.visitType(this,e),t}visitDeclareFunctionStmt(t,e){return this.visitAllStatements(t.statements,e),t.type&&t.type.visitType(this,e),t}visitExpressionStmt(t,e){return t.expr.visitExpression(this,e),t}visitReturnStmt(t,e){return t.value.visitExpression(this,e),t}visitDeclareClassStmt(t,e){return t.parent.visitExpression(this,e),t.getters.forEach(t=>this.visitAllStatements(t.body,e)),t.constructorMethod&&this.visitAllStatements(t.constructorMethod.body,e),t.methods.forEach(t=>this.visitAllStatements(t.body,e)),t}visitIfStmt(t,e){return t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e),t}visitTryCatchStmt(t,e){return this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e),t}visitThrowStmt(t,e){return t.error.visitExpression(this,e),t}visitCommentStmt(t,e){return t}visitJSDocCommentStmt(t,e){return t}visitAllStatements(t,e){t.forEach(t=>t.visitStatement(this,e))}}function Qw(t){const e=new Yw;return e.visitAllStatements(t,null),e.varNames}class Yw extends Gw{constructor(){super(...arguments),this.varNames=new Set}visitDeclareFunctionStmt(t,e){return t}visitDeclareClassStmt(t,e){return t}visitReadVarExpr(t,e){return t.name&&this.varNames.add(t.name),null}}function Xw(t,e){if(!e)return t;const n=new Jw(e);return t.visitStatement(n,null)}function Zw(t,e){if(!e)return t;const n=new Jw(e);return t.visitExpression(n,null)}class Jw extends Kw{constructor(t){super(),this.sourceSpan=t}_clone(t){const e=Object.create(t.constructor.prototype);for(let n of Object.keys(t))e[n]=t[n];return e}transformExpr(t,e){return t.sourceSpan||((t=this._clone(t)).sourceSpan=this.sourceSpan),t}transformStmt(t,e){return t.sourceSpan||((t=this._clone(t)).sourceSpan=this.sourceSpan),t}}function tE(t,e,n){return new aw(t,e,n)}function eE(t,e=null,n){return new yw(t,null,e,n)}function nE(t,e=null,n=null){return null!=t?rE(eE(t,e,null),n):null}function rE(t,e=null,n=null){return new Kb(t,e,n)}function iE(t,e,n){return new Iw(t,e,n)}function sE(t,e=null){return new Aw(t.map(t=>new kw(t.key,t.value,t.quoted)),e,null)}function oE(t,e,n,r,i){return new Cw(t,e,n,r,i)}function aE(t,e,n){return new zw(t,e,n)}function lE(t,e,n){return new gw(t,e,n)}function cE(t){let e="";if(t.tagName&&(e+=` @${t.tagName}`),t.text){if(t.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+t.text.replace(/@/g,"\\@")}return e}const uE=/-+([a-z0-9])/g;function hE(t,e){return dE(t,":",e)}function dE(t,e,n){const r=t.indexOf(e);return-1==r?n:[t.slice(0,r).trim(),t.slice(r+1).trim()]}function pE(t,e,n){return Array.isArray(t)?e.visitArray(t,n):"object"==typeof(r=t)&&null!==r&&Object.getPrototypeOf(r)===CE?e.visitStringMap(t,n):null==t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t?e.visitPrimitive(t,n):e.visitOther(t,n);var r}function mE(t){return null!=t}function fE(t){return void 0===t?null:t}class gE{visitArray(t,e){return t.map(t=>pE(t,this,e))}visitStringMap(t,e){const n={};return Object.keys(t).forEach(r=>{n[r]=pE(t[r],this,e)}),n}visitPrimitive(t,e){return t}visitOther(t,e){return t}}const yE={assertSync:t=>{if(IE(t))throw new Error("Illegal state: value cannot be a promise");return t},then:(t,e)=>IE(t)?t.then(e):e(t),all:t=>t.some(IE)?Promise.all(t):t};function vE(t){throw new Error(`Internal Error: ${t}`)}function _E(t,e){const n=Error(t);return n[bE]=!0,e&&(n[wE]=e),n}const bE="ngSyntaxError",wE="ngParseErrors";function EE(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}const CE=Object.getPrototypeOf({});function xE(t){let e="";for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r>=55296&&r<=56319&&t.length>n+1){const e=t.charCodeAt(n+1);e>=56320&&e<=57343&&(n++,r=(r-55296<<10)+e-56320+65536)}r<=127?e+=String.fromCharCode(r):r<=2047?e+=String.fromCharCode(r>>6&31|192,63&r|128):r<=65535?e+=String.fromCharCode(r>>12|224,r>>6&63|128,63&r|128):r<=2097151&&(e+=String.fromCharCode(r>>18&7|240,r>>12&63|128,r>>6&63|128,63&r|128))}return e}function SE(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(SE).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;if(!t.toString)return"object";const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function TE(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")?t():t}function IE(t){return!!t&&"function"==typeof t.then}const kE="undefined"!=typeof window&&window,AE="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,DE="undefined"!=typeof global&&global||kE||AE,NE="_c",OE={};class PE extends ow{constructor(t){super(t.type),this.resolved=t,this.original=t}visitExpression(t,e){return e===OE?this.original.visitExpression(t,e):this.resolved.visitExpression(t,e)}isEquivalent(t){return t instanceof PE&&this.resolved.isEquivalent(t.resolved)}isConstant(){return!0}fixup(t){this.resolved=t,this.shared=!0}}class RE{constructor(){this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}getConstLiteral(t,e){if(t instanceof gw||t instanceof PE)return t;const n=this.keyOf(t);let r=this.literals.get(n),i=!1;if(r||(r=new PE(t),this.literals.set(n,r),i=!0),!i&&!r.shared||i&&e){const e=this.freshName();this.statements.push(tE(e).set(t).toDeclStmt(Xb,[Pw.Final])),r.fixup(tE(e))}return r}getDefinition(t,e,n,r=!1){const i=this.definitionsOf(e);let s=i.get(t),o=!1;if(!s){const r=this.propertyNameOf(e);s=new PE(n.importExpr(t).prop(r)),i.set(t,s),o=!0}if(!o&&!s.shared||o&&r){const t=this.freshName();this.statements.push(tE(t).set(s.resolved).toDeclStmt(Xb,[Pw.Final])),s.fixup(tE(t))}return s}getLiteralFactory(t){if(t instanceof Iw){const e=t.entries.map(t=>t.isConstant()?t:lE(null)),n=this.keyOf(iE(e));return this._getLiteralFactory(n,t.entries,t=>iE(t))}{const e=sE(t.entries.map(t=>({key:t.key,value:t.value.isConstant()?t.value:lE(null),quoted:t.quoted}))),n=this.keyOf(e);return this._getLiteralFactory(n,t.entries.map(t=>t.value),e=>sE(e.map((e,n)=>({key:t.entries[n].key,value:e,quoted:t.entries[n].quoted}))))}}_getLiteralFactory(t,e,n){let r=this.literalFactories.get(t);const i=e.filter(t=>!t.isConstant());if(!r){const i=e.map((t,e)=>t.isConstant()?this.getConstLiteral(t,!0):tE(`a${e}`)),s=oE(i.filter(FE).map(t=>new Ew(t.name,Yb)),[new Vw(n(i))],Xb),o=this.freshName();this.statements.push(tE(o).set(s).toDeclStmt(Xb,[Pw.Final])),r=tE(o),this.literalFactories.set(t,r)}return{literalFactory:r,literalFactoryArguments:i}}uniqueName(t){return`${t}${this.nextNameIndex++}`}definitionsOf(t){switch(t){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}return vE(`Unknown definition kind ${t}`),this.componentDefinitions}propertyNameOf(t){switch(t){case 2:return"ngComponentDef";case 1:return"ngDirectiveDef";case 0:return"ngInjectorDef";case 3:return"ngPipeDef"}return vE(`Unknown definition kind ${t}`),"<unknown>"}freshName(){return this.uniqueName(NE)}keyOf(t){return t.visitExpression(new ME,OE)}}class ME{constructor(){this.visitWrappedNodeExpr=LE,this.visitWriteVarExpr=LE,this.visitWriteKeyExpr=LE,this.visitWritePropExpr=LE,this.visitInvokeMethodExpr=LE,this.visitInvokeFunctionExpr=LE,this.visitInstantiateExpr=LE,this.visitConditionalExpr=LE,this.visitNotExpr=LE,this.visitAssertNotNullExpr=LE,this.visitCastExpr=LE,this.visitFunctionExpr=LE,this.visitBinaryOperatorExpr=LE,this.visitReadPropExpr=LE,this.visitReadKeyExpr=LE,this.visitCommaExpr=LE}visitLiteralExpr(t){return`${"string"==typeof t.value?'"'+t.value+'"':t.value}`}visitLiteralArrayExpr(t,e){return`[${t.entries.map(t=>t.visitExpression(this,e)).join(",")}]`}visitLiteralMapExpr(t,e){return`{${t.entries.map(t=>`${(t=>{const e=t.quoted?'"':"";return`${e}${t.key}${e}`})(t)}:${t.value.visitExpression(this,e)}`).join(",")}`}visitExternalExpr(t){return t.value.moduleName?`EX:${t.value.moduleName}:${t.value.name}`:`EX:${t.value.runtime.name}`}visitReadVarExpr(t){return`VAR:${t.name}`}visitTypeofExpr(t,e){return`TYPEOF:${t.expr.visitExpression(this,e)}`}}function LE(t){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${t.constructor.name}`)}function FE(t){return t instanceof aw}const VE="@angular/core";class BE{}function jE(t){return{identifier:{reference:t}}}function UE(t,e){return jE(t.resolveExternalReference(e))}BE.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:VE},BE.ElementRef={name:"ElementRef",moduleName:VE},BE.NgModuleRef={name:"NgModuleRef",moduleName:VE},BE.ViewContainerRef={name:"ViewContainerRef",moduleName:VE},BE.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:VE},BE.QueryList={name:"QueryList",moduleName:VE},BE.TemplateRef={name:"TemplateRef",moduleName:VE},BE.Renderer2={name:"Renderer2",moduleName:VE},BE.CodegenComponentFactoryResolver={name:"\u0275CodegenComponentFactoryResolver",moduleName:VE},BE.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:VE},BE.ComponentFactory={name:"ComponentFactory",moduleName:VE},BE.ComponentRef={name:"ComponentRef",moduleName:VE},BE.NgModuleFactory={name:"NgModuleFactory",moduleName:VE},BE.createModuleFactory={name:"\u0275cmf",moduleName:VE},BE.moduleDef={name:"\u0275mod",moduleName:VE},BE.moduleProviderDef={name:"\u0275mpd",moduleName:VE},BE.RegisterModuleFactoryFn={name:"\u0275registerModuleFactory",moduleName:VE},BE.inject={name:"\u0275\u0275inject",moduleName:VE},BE.INJECTOR={name:"INJECTOR",moduleName:VE},BE.Injector={name:"Injector",moduleName:VE},BE.\u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:VE},BE.InjectableDef={name:"\u0275\u0275InjectableDef",moduleName:VE},BE.ViewEncapsulation={name:"ViewEncapsulation",moduleName:VE},BE.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:VE},BE.SecurityContext={name:"SecurityContext",moduleName:VE},BE.LOCALE_ID={name:"LOCALE_ID",moduleName:VE},BE.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:VE},BE.inlineInterpolate={name:"\u0275inlineInterpolate",moduleName:VE},BE.interpolate={name:"\u0275interpolate",moduleName:VE},BE.EMPTY_ARRAY={name:"\u0275EMPTY_ARRAY",moduleName:VE},BE.EMPTY_MAP={name:"\u0275EMPTY_MAP",moduleName:VE},BE.Renderer={name:"Renderer",moduleName:VE},BE.viewDef={name:"\u0275vid",moduleName:VE},BE.elementDef={name:"\u0275eld",moduleName:VE},BE.anchorDef={name:"\u0275and",moduleName:VE},BE.textDef={name:"\u0275ted",moduleName:VE},BE.directiveDef={name:"\u0275did",moduleName:VE},BE.providerDef={name:"\u0275prd",moduleName:VE},BE.queryDef={name:"\u0275qud",moduleName:VE},BE.pureArrayDef={name:"\u0275pad",moduleName:VE},BE.pureObjectDef={name:"\u0275pod",moduleName:VE},BE.purePipeDef={name:"\u0275ppd",moduleName:VE},BE.pipeDef={name:"\u0275pid",moduleName:VE},BE.nodeValue={name:"\u0275nov",moduleName:VE},BE.ngContentDef={name:"\u0275ncd",moduleName:VE},BE.unwrapValue={name:"\u0275unv",moduleName:VE},BE.createRendererType2={name:"\u0275crt",moduleName:VE},BE.RendererType2={name:"RendererType2",moduleName:VE},BE.ViewDefinition={name:"\u0275ViewDefinition",moduleName:VE},BE.createComponentFactory={name:"\u0275ccf",moduleName:VE},BE.setClassMetadata={name:"\u0275setClassMetadata",moduleName:VE};class qE{constructor(t,e,n){this.filePath=t,this.name=e,this.members=n}assertNoMembers(){if(this.members.length)throw new Error(`Illegal state: symbol without members expected, but got ${JSON.stringify(this)}.`)}}class zE{constructor(){this.cache=new Map}get(t,e,n){const r=`"${t}".${e}${(n=n||[]).length?`.${n.join(".")}`:""}`;let i=this.cache.get(r);return i||(i=new qE(t,e,n),this.cache.set(r,i)),i}}const $E=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function HE(t){return t.replace(/\W/g,"_")}let WE=0;function KE(t){if(!t||!t.reference)return null;const e=t.reference;if(e instanceof qE)return e.name;if(e.__anonymousType)return e.__anonymousType;let n=SE(e);return n.indexOf("(")>=0?(n=`anonymous_${WE++}`,e.__anonymousType=n):n=HE(n),n}function GE(t){const e=t.reference;return e instanceof qE?e.filePath:`./${SE(e)}`}function QE(t,e){return`View_${KE({reference:t})}_${e}`}function YE(t){return`RenderType_${KE({reference:t})}`}function XE(t){return`${KE({reference:t})}NgFactory`}var ZE;function JE(t){return null!=t.value?HE(t.value):KE(t.identifier)}function tC(t){return null!=t.identifier?t.identifier.reference:t.value}!function(t){t[t.Pipe=0]="Pipe",t[t.Directive=1]="Directive",t[t.NgModule=2]="NgModule",t[t.Injectable=3]="Injectable"}(ZE||(ZE={}));class eC{constructor({moduleUrl:t,styles:e,styleUrls:n}={}){this.moduleUrl=t||null,this.styles=aC(e),this.styleUrls=aC(n)}}class nC{constructor({encapsulation:t,template:e,templateUrl:n,htmlAst:r,styles:i,styleUrls:s,externalStylesheets:o,animations:a,ngContentSelectors:l,interpolation:c,isInline:u,preserveWhitespaces:h}){if(this.encapsulation=t,this.template=e,this.templateUrl=n,this.htmlAst=r,this.styles=aC(i),this.styleUrls=aC(s),this.externalStylesheets=aC(o),this.animations=a?cC(a):[],this.ngContentSelectors=l||[],c&&2!=c.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=c,this.isInline=u,this.preserveWhitespaces=h}toSummary(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation,styles:this.styles,animations:this.animations}}}class rC{static create({isHost:t,type:e,isComponent:n,selector:r,exportAs:i,changeDetection:s,inputs:o,outputs:a,host:l,providers:c,viewProviders:u,queries:h,guards:d,viewQueries:p,entryComponents:m,template:f,componentViewType:g,rendererType:y,componentFactory:v}){const _={},b={},w={};null!=l&&Object.keys(l).forEach(t=>{const e=l[t],n=t.match($E);null===n?w[t]=e:null!=n[1]?b[n[1]]=e:null!=n[2]&&(_[n[2]]=e)});const E={};null!=o&&o.forEach(t=>{const e=hE(t,[t,t]);E[e[0]]=e[1]});const C={};return null!=a&&a.forEach(t=>{const e=hE(t,[t,t]);C[e[0]]=e[1]}),new rC({isHost:t,type:e,isComponent:!!n,selector:r,exportAs:i,changeDetection:s,inputs:E,outputs:C,hostListeners:_,hostProperties:b,hostAttributes:w,providers:c,viewProviders:u,queries:h,guards:d,viewQueries:p,entryComponents:m,template:f,componentViewType:g,rendererType:y,componentFactory:v})}constructor({isHost:t,type:e,isComponent:n,selector:r,exportAs:i,changeDetection:s,inputs:o,outputs:a,hostListeners:l,hostProperties:c,hostAttributes:u,providers:h,viewProviders:d,queries:p,guards:m,viewQueries:f,entryComponents:g,template:y,componentViewType:v,rendererType:_,componentFactory:b}){this.isHost=!!t,this.type=e,this.isComponent=n,this.selector=r,this.exportAs=i,this.changeDetection=s,this.inputs=o,this.outputs=a,this.hostListeners=l,this.hostProperties=c,this.hostAttributes=u,this.providers=aC(h),this.viewProviders=aC(d),this.queries=aC(p),this.guards=m,this.viewQueries=aC(f),this.entryComponents=aC(g),this.template=y,this.componentViewType=v,this.rendererType=_,this.componentFactory=b}toSummary(){return{summaryKind:ZE.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}}}class iC{constructor({type:t,name:e,pure:n}){this.type=t,this.name=e,this.pure=!!n}toSummary(){return{summaryKind:ZE.Pipe,type:this.type,name:this.name,pure:this.pure}}}class sC{constructor({type:t,providers:e,declaredDirectives:n,exportedDirectives:r,declaredPipes:i,exportedPipes:s,entryComponents:o,bootstrapComponents:a,importedModules:l,exportedModules:c,schemas:u,transitiveModule:h,id:d}){this.type=t||null,this.declaredDirectives=aC(n),this.exportedDirectives=aC(r),this.declaredPipes=aC(i),this.exportedPipes=aC(s),this.providers=aC(e),this.entryComponents=aC(o),this.bootstrapComponents=aC(a),this.importedModules=aC(l),this.exportedModules=aC(c),this.schemas=aC(u),this.id=d||null,this.transitiveModule=h||null}toSummary(){const t=this.transitiveModule;return{summaryKind:ZE.NgModule,type:this.type,entryComponents:t.entryComponents,providers:t.providers,modules:t.modules,exportedDirectives:t.exportedDirectives,exportedPipes:t.exportedPipes}}}class oC{constructor(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}addProvider(t,e){this.providers.push({provider:t,module:e})}addDirective(t){this.directivesSet.has(t.reference)||(this.directivesSet.add(t.reference),this.directives.push(t))}addExportedDirective(t){this.exportedDirectivesSet.has(t.reference)||(this.exportedDirectivesSet.add(t.reference),this.exportedDirectives.push(t))}addPipe(t){this.pipesSet.has(t.reference)||(this.pipesSet.add(t.reference),this.pipes.push(t))}addExportedPipe(t){this.exportedPipesSet.has(t.reference)||(this.exportedPipesSet.add(t.reference),this.exportedPipes.push(t))}addModule(t){this.modulesSet.has(t.reference)||(this.modulesSet.add(t.reference),this.modules.push(t))}addEntryComponent(t){this.entryComponentsSet.has(t.componentType)||(this.entryComponentsSet.add(t.componentType),this.entryComponents.push(t))}}function aC(t){return t||[]}class lC{constructor(t,{useClass:e,useValue:n,useExisting:r,useFactory:i,deps:s,multi:o}){this.token=t,this.useClass=e||null,this.useValue=n,this.useExisting=r,this.useFactory=i||null,this.dependencies=s||null,this.multi=!!o}}function cC(t){return t.reduce((t,e)=>{const n=Array.isArray(e)?cC(e):e;return t.concat(n)},[])}function uC(t){return t.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function hC(t,e,n){let r;return r=n.isInline?e.type.reference instanceof qE?`${e.type.reference.filePath}.${e.type.reference.name}.html`:`${KE(t)}/${KE(e.type)}.html`:n.templateUrl,e.type.reference instanceof qE?r:uC(r)}const dC="@angular/core";class pC{}pC.NEW_METHOD="factory",pC.TRANSFORM_METHOD="transform",pC.PATCH_DEPS="patchedDeps",pC.namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:dC},pC.namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:dC},pC.namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:dC},pC.element={name:"\u0275\u0275element",moduleName:dC},pC.elementStart={name:"\u0275\u0275elementStart",moduleName:dC},pC.elementEnd={name:"\u0275\u0275elementEnd",moduleName:dC},pC.select={name:"\u0275\u0275select",moduleName:dC},pC.updateSyntheticHostBinding={name:"\u0275\u0275updateSyntheticHostBinding",moduleName:dC},pC.componentHostSyntheticListener={name:"\u0275\u0275componentHostSyntheticListener",moduleName:dC},pC.attribute={name:"\u0275\u0275attribute",moduleName:dC},pC.attributeInterpolate1={name:"\u0275\u0275attributeInterpolate1",moduleName:dC},pC.attributeInterpolate2={name:"\u0275\u0275attributeInterpolate2",moduleName:dC},pC.attributeInterpolate3={name:"\u0275\u0275attributeInterpolate3",moduleName:dC},pC.attributeInterpolate4={name:"\u0275\u0275attributeInterpolate4",moduleName:dC},pC.attributeInterpolate5={name:"\u0275\u0275attributeInterpolate5",moduleName:dC},pC.attributeInterpolate6={name:"\u0275\u0275attributeInterpolate6",moduleName:dC},pC.attributeInterpolate7={name:"\u0275\u0275attributeInterpolate7",moduleName:dC},pC.attributeInterpolate8={name:"\u0275\u0275attributeInterpolate8",moduleName:dC},pC.attributeInterpolateV={name:"\u0275\u0275attributeInterpolateV",moduleName:dC},pC.classProp={name:"\u0275\u0275classProp",moduleName:dC},pC.elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:dC},pC.elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:dC},pC.elementContainer={name:"\u0275\u0275elementContainer",moduleName:dC},pC.styling={name:"\u0275\u0275styling",moduleName:dC},pC.styleMap={name:"\u0275\u0275styleMap",moduleName:dC},pC.classMap={name:"\u0275\u0275classMap",moduleName:dC},pC.classMapInterpolate1={name:"\u0275\u0275classMapInterpolate1",moduleName:dC},pC.classMapInterpolate2={name:"\u0275\u0275classMapInterpolate2",moduleName:dC},pC.classMapInterpolate3={name:"\u0275\u0275classMapInterpolate3",moduleName:dC},pC.classMapInterpolate4={name:"\u0275\u0275classMapInterpolate4",moduleName:dC},pC.classMapInterpolate5={name:"\u0275\u0275classMapInterpolate5",moduleName:dC},pC.classMapInterpolate6={name:"\u0275\u0275classMapInterpolate6",moduleName:dC},pC.classMapInterpolate7={name:"\u0275\u0275classMapInterpolate7",moduleName:dC},pC.classMapInterpolate8={name:"\u0275\u0275classMapInterpolate8",moduleName:dC},pC.classMapInterpolateV={name:"\u0275\u0275classMapInterpolateV",moduleName:dC},pC.styleProp={name:"\u0275\u0275styleProp",moduleName:dC},pC.stylePropInterpolate1={name:"\u0275\u0275stylePropInterpolate1",moduleName:dC},pC.stylePropInterpolate2={name:"\u0275\u0275stylePropInterpolate2",moduleName:dC},pC.stylePropInterpolate3={name:"\u0275\u0275stylePropInterpolate3",moduleName:dC},pC.stylePropInterpolate4={name:"\u0275\u0275stylePropInterpolate4",moduleName:dC},pC.stylePropInterpolate5={name:"\u0275\u0275stylePropInterpolate5",moduleName:dC},pC.stylePropInterpolate6={name:"\u0275\u0275stylePropInterpolate6",moduleName:dC},pC.stylePropInterpolate7={name:"\u0275\u0275stylePropInterpolate7",moduleName:dC},pC.stylePropInterpolate8={name:"\u0275\u0275stylePropInterpolate8",moduleName:dC},pC.stylePropInterpolateV={name:"\u0275\u0275stylePropInterpolateV",moduleName:dC},pC.stylingApply={name:"\u0275\u0275stylingApply",moduleName:dC},pC.styleSanitizer={name:"\u0275\u0275styleSanitizer",moduleName:dC},pC.elementHostAttrs={name:"\u0275\u0275elementHostAttrs",moduleName:dC},pC.containerCreate={name:"\u0275\u0275container",moduleName:dC},pC.nextContext={name:"\u0275\u0275nextContext",moduleName:dC},pC.templateCreate={name:"\u0275\u0275template",moduleName:dC},pC.text={name:"\u0275\u0275text",moduleName:dC},pC.textBinding={name:"\u0275\u0275textBinding",moduleName:dC},pC.enableBindings={name:"\u0275\u0275enableBindings",moduleName:dC},pC.disableBindings={name:"\u0275\u0275disableBindings",moduleName:dC},pC.allocHostVars={name:"\u0275\u0275allocHostVars",moduleName:dC},pC.getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:dC},pC.textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:dC},pC.textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:dC},pC.textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:dC},pC.textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:dC},pC.textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:dC},pC.textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:dC},pC.textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:dC},pC.textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:dC},pC.textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:dC},pC.textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:dC},pC.restoreView={name:"\u0275\u0275restoreView",moduleName:dC},pC.pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:dC},pC.pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:dC},pC.pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:dC},pC.pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:dC},pC.pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:dC},pC.pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:dC},pC.pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:dC},pC.pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:dC},pC.pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:dC},pC.pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:dC},pC.pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:dC},pC.pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:dC},pC.pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:dC},pC.pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:dC},pC.pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:dC},pC.hostProperty={name:"\u0275\u0275hostProperty",moduleName:dC},pC.property={name:"\u0275\u0275property",moduleName:dC},pC.propertyInterpolate={name:"\u0275\u0275propertyInterpolate",moduleName:dC},pC.propertyInterpolate1={name:"\u0275\u0275propertyInterpolate1",moduleName:dC},pC.propertyInterpolate2={name:"\u0275\u0275propertyInterpolate2",moduleName:dC},pC.propertyInterpolate3={name:"\u0275\u0275propertyInterpolate3",moduleName:dC},pC.propertyInterpolate4={name:"\u0275\u0275propertyInterpolate4",moduleName:dC},pC.propertyInterpolate5={name:"\u0275\u0275propertyInterpolate5",moduleName:dC},pC.propertyInterpolate6={name:"\u0275\u0275propertyInterpolate6",moduleName:dC},pC.propertyInterpolate7={name:"\u0275\u0275propertyInterpolate7",moduleName:dC},pC.propertyInterpolate8={name:"\u0275\u0275propertyInterpolate8",moduleName:dC},pC.propertyInterpolateV={name:"\u0275\u0275propertyInterpolateV",moduleName:dC},pC.i18n={name:"\u0275\u0275i18n",moduleName:dC},pC.i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:dC},pC.i18nExp={name:"\u0275\u0275i18nExp",moduleName:dC},pC.i18nStart={name:"\u0275\u0275i18nStart",moduleName:dC},pC.i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:dC},pC.i18nApply={name:"\u0275\u0275i18nApply",moduleName:dC},pC.i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:dC},pC.i18nLocalize={name:"\u0275\u0275i18nLocalize",moduleName:dC},pC.load={name:"\u0275\u0275load",moduleName:dC},pC.pipe={name:"\u0275\u0275pipe",moduleName:dC},pC.projection={name:"\u0275\u0275projection",moduleName:dC},pC.projectionDef={name:"\u0275\u0275projectionDef",moduleName:dC},pC.reference={name:"\u0275\u0275reference",moduleName:dC},pC.inject={name:"\u0275\u0275inject",moduleName:dC},pC.injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:dC},pC.injectPipeChangeDetectorRef={name:"\u0275\u0275injectPipeChangeDetectorRef",moduleName:dC},pC.directiveInject={name:"\u0275\u0275directiveInject",moduleName:dC},pC.templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:dC},pC.resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:dC},pC.resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:dC},pC.resolveBody={name:"\u0275\u0275resolveBody",moduleName:dC},pC.defineBase={name:"\u0275\u0275defineBase",moduleName:dC},pC.BaseDef={name:"\u0275\u0275BaseDef",moduleName:dC},pC.defineComponent={name:"\u0275\u0275defineComponent",moduleName:dC},pC.setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:dC},pC.ComponentDefWithMeta={name:"\u0275\u0275ComponentDefWithMeta",moduleName:dC},pC.defineDirective={name:"\u0275\u0275defineDirective",moduleName:dC},pC.DirectiveDefWithMeta={name:"\u0275\u0275DirectiveDefWithMeta",moduleName:dC},pC.InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:dC},pC.defineInjector={name:"\u0275\u0275defineInjector",moduleName:dC},pC.NgModuleDefWithMeta={name:"\u0275\u0275NgModuleDefWithMeta",moduleName:dC},pC.defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:dC},pC.setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:dC},pC.PipeDefWithMeta={name:"\u0275\u0275PipeDefWithMeta",moduleName:dC},pC.definePipe={name:"\u0275\u0275definePipe",moduleName:dC},pC.queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:dC},pC.viewQuery={name:"\u0275\u0275viewQuery",moduleName:dC},pC.staticViewQuery={name:"\u0275\u0275staticViewQuery",moduleName:dC},pC.staticContentQuery={name:"\u0275\u0275staticContentQuery",moduleName:dC},pC.loadViewQuery={name:"\u0275\u0275loadViewQuery",moduleName:dC},pC.contentQuery={name:"\u0275\u0275contentQuery",moduleName:dC},pC.loadContentQuery={name:"\u0275\u0275loadContentQuery",moduleName:dC},pC.NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:dC},pC.InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:dC},pC.ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:dC},pC.listener={name:"\u0275\u0275listener",moduleName:dC},pC.getFactoryOf={name:"\u0275\u0275getFactoryOf",moduleName:dC},pC.getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:dC},pC.sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:dC},pC.sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:dC},pC.defaultStyleSanitizer={name:"\u0275\u0275defaultStyleSanitizer",moduleName:dC},pC.sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:dC},pC.sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:dC},pC.sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:dC},pC.sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:dC};const mC=0,fC=8,gC=9,yC=10,vC=11,_C=12,bC=13,wC=32,EC=33,CC=34,xC=35,SC=36,TC=37,IC=38,kC=39,AC=40,DC=41,NC=42,OC=43,PC=44,RC=45,MC=46,LC=47,FC=58,VC=59,BC=60,jC=61,UC=62,qC=63,zC=48,$C=55,HC=57,WC=65,KC=69,GC=70,QC=88,YC=90,XC=91,ZC=92,JC=93,tx=94,ex=95,nx=97,rx=98,ix=101,sx=102,ox=110,ax=114,lx=116,cx=117,ux=118,hx=120,dx=122,px=123,mx=124,fx=125,gx=160,yx=96;function vx(t){return t>=gC&&t<=wC||t==gx}function _x(t){return zC<=t&&t<=HC}function bx(t){return t>=nx&&t<=dx||t>=WC&&t<=YC}function wx(t){return t===yC||t===bC}function Ex(t){return zC<=t&&t<=$C}class Cx{constructor(t,e,n,r){this.file=t,this.offset=e,this.line=n,this.col=r}toString(){return null!=this.offset?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(t){const e=this.file.content,n=e.length;let r=this.offset,i=this.line,s=this.col;for(;r>0&&t<0;){if(r--,t++,e.charCodeAt(r)==yC){i--;const t=e.substr(0,r-1).lastIndexOf(String.fromCharCode(yC));s=t>0?r-t:r}else s--}for(;r<n&&t>0;){const n=e.charCodeAt(r);r++,t--,n==yC?(i++,s=0):s++}return new Cx(this.file,r,i,s)}getContext(t,e){const n=this.file.content;let r=this.offset;if(null!=r){r>n.length-1&&(r=n.length-1);let i=r,s=0,o=0;for(;s<t&&r>0&&(s++,"\n"!=n[--r]||++o!=e););for(s=0,o=0;s<t&&i<n.length-1&&(s++,"\n"!=n[++i]||++o!=e););return{before:n.substring(r,this.offset),after:n.substring(this.offset,i+1)}}return null}}class xx{constructor(t,e){this.content=t,this.url=e}}class Sx{constructor(t,e,n=null){this.start=t,this.end=e,this.details=n}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}const Tx=new Cx(new xx("",""),0,0,0);new Sx(Tx,Tx);var Ix;!function(t){t[t.WARNING=0]="WARNING",t[t.ERROR=1]="ERROR"}(Ix||(Ix={}));class kx{constructor(t,e,n=Ix.ERROR){this.span=t,this.msg=e,this.level=n}contextualMessage(){const t=this.span.start.getContext(100,3);return t?`${this.msg} ("${t.before}[${Ix[this.level]} ->]${t.after}")`:this.msg}toString(){const t=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${t}`}}class Ax{constructor(t,e){this.value=t,this.sourceSpan=e}visit(t){return t.visitText(this)}}class Dx{constructor(t,e,n){this.value=t,this.sourceSpan=e,this.i18n=n}visit(t){return t.visitBoundText(this)}}class Nx{constructor(t,e,n,r,i){this.name=t,this.value=e,this.sourceSpan=n,this.valueSpan=r,this.i18n=i}visit(t){return t.visitTextAttribute(this)}}class Ox{constructor(t,e,n,r,i,s,o,a){this.name=t,this.type=e,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.valueSpan=o,this.i18n=a}static fromBoundElementProperty(t,e){return new Ox(t.name,t.type,t.securityContext,t.value,t.unit,t.sourceSpan,t.valueSpan,e)}visit(t){return t.visitBoundAttribute(this)}}class Px{constructor(t,e,n,r,i,s,o){this.name=t,this.type=e,this.handler=n,this.target=r,this.phase=i,this.sourceSpan=s,this.handlerSpan=o}static fromParsedEvent(t){const e=0===t.type?t.targetOrPhase:null,n=1===t.type?t.targetOrPhase:null;return new Px(t.name,t.type,t.handler,e,n,t.sourceSpan,t.handlerSpan)}visit(t){return t.visitBoundEvent(this)}}class Rx{constructor(t,e,n,r,i,s,o,a,l,c){this.name=t,this.attributes=e,this.inputs=n,this.outputs=r,this.children=i,this.references=s,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l,this.i18n=c,0===i.length&&a&&l&&(this.sourceSpan=new Sx(o.start,l.end))}visit(t){return t.visitElement(this)}}class Mx{constructor(t,e,n,r,i,s,o,a,l,c,u,h){this.tagName=t,this.attributes=e,this.inputs=n,this.outputs=r,this.templateAttrs=i,this.children=s,this.references=o,this.variables=a,this.sourceSpan=l,this.startSourceSpan=c,this.endSourceSpan=u,this.i18n=h}visit(t){return t.visitTemplate(this)}}class Lx{constructor(t,e,n,r){this.selector=t,this.attributes=e,this.sourceSpan=n,this.i18n=r}visit(t){return t.visitContent(this)}}class Fx{constructor(t,e,n,r){this.name=t,this.value=e,this.sourceSpan=n,this.valueSpan=r}visit(t){return t.visitVariable(this)}}class Vx{constructor(t,e,n,r){this.name=t,this.value=e,this.sourceSpan=n,this.valueSpan=r}visit(t){return t.visitReference(this)}}class Bx{constructor(t,e,n,r){this.vars=t,this.placeholders=e,this.sourceSpan=n,this.i18n=r}visit(t){return t.visitIcu(this)}}function jx(t,e){const n=[];if(t.visit)for(const r of e){t.visit(r)||r.visit(t)}else for(const r of e){const e=r.visit(t);e&&n.push(e)}return n}class Ux{constructor(t,e,n,r,i,s){this.nodes=t,this.placeholders=e,this.placeholderToMessage=n,this.meaning=r,this.description=i,this.id=s,t.length?this.sources=[{filePath:t[0].sourceSpan.start.file.url,startLine:t[0].sourceSpan.start.line+1,startCol:t[0].sourceSpan.start.col+1,endLine:t[t.length-1].sourceSpan.end.line+1,endCol:t[0].sourceSpan.start.col+1}]:this.sources=[]}}class qx{constructor(t,e){this.value=t,this.sourceSpan=e}visit(t,e){return t.visitText(this,e)}}class zx{constructor(t,e){this.children=t,this.sourceSpan=e}visit(t,e){return t.visitContainer(this,e)}}class $x{constructor(t,e,n,r){this.expression=t,this.type=e,this.cases=n,this.sourceSpan=r}visit(t,e){return t.visitIcu(this,e)}}class Hx{constructor(t,e,n,r,i,s,o){this.tag=t,this.attrs=e,this.startName=n,this.closeName=r,this.children=i,this.isVoid=s,this.sourceSpan=o}visit(t,e){return t.visitTagPlaceholder(this,e)}}class Wx{constructor(t,e,n){this.value=t,this.name=e,this.sourceSpan=n}visit(t,e){return t.visitPlaceholder(this,e)}}class Kx{constructor(t,e,n){this.value=t,this.name=e,this.sourceSpan=n}visit(t,e){return t.visitIcuPlaceholder(this,e)}}class Gx{visitText(t,e){}visitContainer(t,e){t.children.forEach(t=>t.visit(this))}visitIcu(t,e){Object.keys(t.cases).forEach(e=>{t.cases[e].visit(this)})}visitTagPlaceholder(t,e){t.children.forEach(t=>t.visit(this))}visitPlaceholder(t,e){}visitIcuPlaceholder(t,e){}}function Qx(t){return t.id||function(t){const e=xE(t),n=function(t,e){const n=Array(t.length+3>>>2);for(let r=0;r<n.length;r++)n[r]=uS(t,4*r,e);return n}(e,iS.Big),r=8*e.length,i=new Array(80);let[s,o,a,l,c]=[1732584193,4023233417,2562383102,271733878,3285377520];n[r>>5]|=128<<24-r%32,n[15+(r+64>>9<<4)]=r;for(let u=0;u<n.length;u+=16){const[t,e,r,h,d]=[s,o,a,l,c];for(let p=0;p<80;p++){i[p]=p<16?n[u+p]:lS(i[p-3]^i[p-8]^i[p-14]^i[p-16],1);const[t,e]=tS(p,o,a,l),r=[lS(s,5),t,c,e,i[p]].reduce(sS);[c,l,a,o,s]=[l,a,lS(o,30),s,r]}[s,o,a,l,c]=[sS(s,t),sS(o,e),sS(a,r),sS(l,h),sS(c,d)]}return function(t){let e="";for(let n=0;n<t.length;n++){const r=cS(t,n);e+=(r>>>4).toString(16)+(15&r).toString(16)}return e.toLowerCase()}(hS([s,o,a,l,c]))}((e=t.nodes,e.map(t=>t.visit(Zx,null))).join("")+`[${t.meaning}]`);var e}function Yx(t){if(t.id)return t.id;const e=new Jx;return function(t,e){let[n,r]=eS(t);if(e){const[t,i]=eS(e);[n,r]=function([t,e],[n,r]){const[i,s]=oS(e,r);return[sS(sS(t,n),i),s]}(function([t,e],n){return[t<<n|e>>>32-n,e<<n|t>>>32-n]}([n,r],1),[t,i])}return function(t){let e="",n="1";for(let r=t.length-1;r>=0;r--)e=dS(e,pS(cS(t,r),n)),n=pS(256,n);return e.split("").reverse().join("")}(hS([2147483647&n,r]))}(t.nodes.map(t=>t.visit(e,null)).join(""),t.meaning)}class Xx{visitText(t,e){return t.value}visitContainer(t,e){return`[${t.children.map(t=>t.visit(this)).join(", ")}]`}visitIcu(t,e){const n=Object.keys(t.cases).map(e=>`${e} {${t.cases[e].visit(this)}}`);return`{${t.expression}, ${t.type}, ${n.join(", ")}}`}visitTagPlaceholder(t,e){return t.isVoid?`<ph tag name="${t.startName}"/>`:`<ph tag name="${t.startName}">${t.children.map(t=>t.visit(this)).join(", ")}</ph name="${t.closeName}">`}visitPlaceholder(t,e){return t.value?`<ph name="${t.name}">${t.value}</ph>`:`<ph name="${t.name}"/>`}visitIcuPlaceholder(t,e){return`<ph icu name="${t.name}">${t.value.visit(this)}</ph>`}}const Zx=new Xx;class Jx extends Xx{visitIcu(t,e){let n=Object.keys(t.cases).map(e=>`${e} {${t.cases[e].visit(this)}}`);return`{${t.type}, ${n.join(", ")}}`}}function tS(t,e,n,r){return t<20?[e&n|~e&r,1518500249]:t<40?[e^n^r,1859775393]:t<60?[e&n|e&r|n&r,2400959708]:[e^n^r,3395469782]}function eS(t){const e=xE(t);let[n,r]=[nS(e,0),nS(e,102072)];return 0!=n||0!=r&&1!=r||(n^=319790063,r^=-1801410264),[n,r]}function nS(t,e){let n,[r,i]=[2654435769,2654435769];const s=t.length;for(n=0;n+12<=s;n+=12)r=sS(r,uS(t,n,iS.Little)),i=sS(i,uS(t,n+4,iS.Little)),e=sS(e,uS(t,n+8,iS.Little)),[r,i,e]=rS([r,i,e]);return r=sS(r,uS(t,n,iS.Little)),i=sS(i,uS(t,n+4,iS.Little)),e=sS(e,s),rS([r,i,e=sS(e,uS(t,n+8,iS.Little)<<8)])[2]}function rS([t,e,n]){return t=aS(t,e),t=aS(t,n),t^=n>>>13,e=aS(e,n),e=aS(e,t),e^=t<<8,n=aS(n,t),n=aS(n,e),n^=e>>>13,t=aS(t,e),t=aS(t,n),t^=n>>>12,e=aS(e,n),e=aS(e,t),e^=t<<16,n=aS(n,t),n=aS(n,e),n^=e>>>5,t=aS(t,e),t=aS(t,n),t^=n>>>3,e=aS(e,n),e=aS(e,t),e^=t<<10,n=aS(n,t),n=aS(n,e),[t,e,n^=e>>>15]}var iS;function sS(t,e){return oS(t,e)[1]}function oS(t,e){const n=(65535&t)+(65535&e),r=(t>>>16)+(e>>>16)+(n>>>16);return[r>>>16,r<<16|65535&n]}function aS(t,e){const n=(65535&t)-(65535&e);return(t>>16)-(e>>16)+(n>>16)<<16|65535&n}function lS(t,e){return t<<e|t>>>32-e}function cS(t,e){return e>=t.length?0:255&t.charCodeAt(e)}function uS(t,e,n){let r=0;if(n===iS.Big)for(let i=0;i<4;i++)r+=cS(t,e+i)<<24-8*i;else for(let i=0;i<4;i++)r+=cS(t,e+i)<<8*i;return r}function hS(t){return t.reduce((t,e)=>t+function(t){let e="";for(let n=0;n<4;n++)e+=String.fromCharCode(t>>>8*(3-n)&255);return e}(e),"")}function dS(t,e){let n="";const r=Math.max(t.length,e.length);for(let i=0,s=0;i<r||s;i++){const r=s+ +(t[i]||0)+ +(e[i]||0);r>=10?(s=1,n+=r-10):(s=0,n+=r)}return n}function pS(t,e){let n="",r=e;for(;0!==t;t>>>=1)1&t&&(n=dS(n,r)),r=dS(r,r);return n}!function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(iS||(iS={}));class mS{createNameMapper(t){return null}}class fS extends Gx{constructor(t,e){super(),this.mapName=e,this.internalToPublic={},this.publicToNextId={},this.publicToInternal={},t.nodes.forEach(t=>t.visit(this))}toPublicName(t){return this.internalToPublic.hasOwnProperty(t)?this.internalToPublic[t]:null}toInternalName(t){return this.publicToInternal.hasOwnProperty(t)?this.publicToInternal[t]:null}visitText(t,e){return null}visitTagPlaceholder(t,e){this.visitPlaceholderName(t.startName),super.visitTagPlaceholder(t,e),this.visitPlaceholderName(t.closeName)}visitPlaceholder(t,e){this.visitPlaceholderName(t.name)}visitIcuPlaceholder(t,e){this.visitPlaceholderName(t.name)}visitPlaceholderName(t){if(!t||this.internalToPublic.hasOwnProperty(t))return;let e=this.mapName(t);if(this.publicToInternal.hasOwnProperty(e)){const t=this.publicToNextId[e];this.publicToNextId[e]=t+1,e=`${e}_${t}`}else this.publicToNextId[e]=1;this.internalToPublic[t]=e,this.publicToInternal[e]=t}}const gS=new class{visitTag(t){const e=this._serializeAttributes(t.attrs);if(0==t.children.length)return`<${t.name}${e}/>`;const n=t.children.map(t=>t.visit(this));return`<${t.name}${e}>${n.join("")}</${t.name}>`}visitText(t){return t.value}visitDeclaration(t){return`<?xml${this._serializeAttributes(t.attrs)} ?>`}_serializeAttributes(t){const e=Object.keys(t).map(e=>`${e}="${t[e]}"`).join(" ");return e.length>0?" "+e:""}visitDoctype(t){return`<!DOCTYPE ${t.rootTag} [\n${t.dtd}\n]>`}};function yS(t){return t.map(t=>t.visit(gS)).join("")}class vS{constructor(t){this.attrs={},Object.keys(t).forEach(e=>{this.attrs[e]=xS(t[e])})}visit(t){return t.visitDeclaration(this)}}class _S{constructor(t,e){this.rootTag=t,this.dtd=e}visit(t){return t.visitDoctype(this)}}class bS{constructor(t,e={},n=[]){this.name=t,this.children=n,this.attrs={},Object.keys(e).forEach(t=>{this.attrs[t]=xS(e[t])})}visit(t){return t.visitTag(this)}}class wS{constructor(t){this.value=xS(t)}visit(t){return t.visitText(this)}}class ES extends wS{constructor(t=0){super(`\n${new Array(t+1).join(" ")}`)}}const CS=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function xS(t){return CS.reduce((t,e)=>t.replace(e[0],e[1]),t)}const SS="messagebundle",TS="msg",IS="ph",kS="ex",AS="source",DS='<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>';class NS extends mS{write(t,e){const n=new RS,r=new OS;let i=new bS(SS);return t.forEach(t=>{const e={id:t.id};t.description&&(e.desc=t.description),t.meaning&&(e.meaning=t.meaning);let n=[];t.sources.forEach(t=>{n.push(new bS(AS,{},[new wS(`${t.filePath}:${t.startLine}${t.endLine!==t.startLine?","+t.endLine:""}`)]))}),i.children.push(new ES(2),new bS(TS,e,[...n,...r.serialize(t.nodes)]))}),i.children.push(new ES),yS([new vS({version:"1.0",encoding:"UTF-8"}),new ES,new _S(SS,DS),new ES,n.addDefaultExamples(i),new ES])}load(t,e){throw new Error("Unsupported")}digest(t){return PS(t)}createNameMapper(t){return new fS(t,MS)}}class OS{visitText(t,e){return[new wS(t.value)]}visitContainer(t,e){const n=[];return t.children.forEach(t=>n.push(...t.visit(this))),n}visitIcu(t,e){const n=[new wS(`{${t.expressionPlaceholder}, ${t.type}, `)];return Object.keys(t.cases).forEach(e=>{n.push(new wS(`${e} {`),...t.cases[e].visit(this),new wS("} "))}),n.push(new wS("}")),n}visitTagPlaceholder(t,e){const n=new wS(`<${t.tag}>`),r=new bS(kS,{},[n]),i=new bS(IS,{name:t.startName},[r,n]);if(t.isVoid)return[i];const s=new wS(`</${t.tag}>`),o=new bS(kS,{},[s]),a=new bS(IS,{name:t.closeName},[o,s]);return[i,...this.serialize(t.children),a]}visitPlaceholder(t,e){const n=new wS(`{{${t.value}}}`),r=new bS(kS,{},[n]);return[new bS(IS,{name:t.name},[r,n])]}visitIcuPlaceholder(t,e){const n=t.value.expression,r=t.value.type,i=Object.keys(t.value.cases).map(t=>t+" {...}").join(" "),s=new wS(`{${n}, ${r}, ${i}}`),o=new bS(kS,{},[s]);return[new bS(IS,{name:t.name},[o,s])]}serialize(t){return[].concat(...t.map(t=>t.visit(this)))}}function PS(t){return Yx(t)}class RS{addDefaultExamples(t){return t.visit(this),t}visitTag(t){if(t.name===IS){if(!t.children||0==t.children.length){const e=new wS(t.attrs.name||"...");t.children=[new bS(kS,{},[e])]}}else t.children&&t.children.forEach(t=>t.visit(this))}visitText(t){}visitDeclaration(t){}visitDoctype(t){}}function MS(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function LS(t,e=!1){return sE(Object.keys(t).map(n=>({key:n,quoted:e,value:t[n]})))}const FS="MSG_",VS="I18N_",BS="goog.getMsg",jS="ngI18nClosureMode",US="|",qS="@@",zS="i18n",$S="i18n-",HS="VAR_",WS="I18N_EXP_",KS="\ufffd";function GS(t,e,n,r,i){const s=[];s.push(new Mw(t.name,void 0,Xb,null,t.sourceSpan));const o=[lE(n)];i&&Object.keys(i).length&&o.push(LS(i,!0));const a=function(t){const e=[];t.description&&e.push({tagName:"desc",text:t.description});t.meaning&&e.push({tagName:"meaning",text:t.meaning});return 0==e.length?null:new $w(e)}(r),l=a?[a]:[],c=tE(BS).callFn(o);l.push(e.set(c).toConstDecl()),l.push(new Fw(t.set(e)));const u=eE(pC.i18nLocalize).callFn(o),h=[new Fw(t.set(u))];return s.push(aE(tE(jS),l,h)),s}function QS(t){return t===zS||t.startsWith($S)}function YS(t){return t instanceof Ux}function XS(t){return YS(t)&&1===t.nodes.length&&t.nodes[0]instanceof $x}function ZS(t,e=null){return{id:"string"==typeof e?e:t.id||"",meaning:t.meaning||"",description:t.description||""}}function JS(t){return t.nodes[0]}function tT(t,e=0){return`${KS}${t}${e>0?`:${e}`:""}${KS}`}function eT(t=0){let e=t;return()=>e++}function nT(t){const e={};return t.forEach((t,n)=>{e[n]=lE(t.length>1?`[${t.join("|")}]`:t[0])}),e}function rT(t,e,...n){const r=t.get(e)||[];r.push(...n),t.set(e,r)}function iT(t,e=0,n=0){const r=e,i=new Map,s=t instanceof Ux?t.nodes.find(t=>t instanceof zx):t;return s&&s.children.filter(t=>t instanceof Wx).forEach((t,e)=>{const s=tT(r+e,n);rT(i,t.name,s)}),i}function sT(t,e=!0){const n=MS(t);if(!e)return n;const r=n.split("_");if(1===r.length)return t.toLowerCase();let i;/^\d+$/.test(r[r.length-1])&&(i=r.pop());let s=r.shift().toLowerCase();return r.length&&(s+=r.map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join("")),i?`${s}_${i}`:s}function oT(t){return`${FS}${t}`.toUpperCase()}const aT=/[-.]/,lT="_t",cT="ctx",uT="rf",hT="_r",dT="$implicit",pT="ngNonBindable";function mT(t,e){let n=null;return()=>(n||(t.push(new Mw(lT,void 0,Yb)),n=tE(e)),n)}function fT(t){if(this)throw new Error(`Builder ${this.constructor.name} doesn't support ${t} yet`);throw new Error(`Feature ${t} is not supported yet`)}function gT(t){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${t.constructor.name}`)}function yT(t){return Array.isArray(t)?iE(t.map(yT)):lE(t,Xb)}function vT(t,e){return Object.getOwnPropertyNames(t).length>0?function(t,e){return sE(Object.getOwnPropertyNames(t).map(n=>{const r=t[n];let i,s,o;return Array.isArray(r)?[s,i]=r:[i,s]=hE(n,[n,r]),{key:o=i,quoted:aT.test(o),value:e&&s!==i?iE([yT(s),yT(i)]):yT(s)}}))}(t,e):null}function _T(t){for(;(e=t[t.length-1])instanceof gw&&null===e.value;)t.pop();var e;return t}function bT(t,e){if(Array.isArray(t.predicate)){let n=[];return t.predicate.forEach(t=>{const e=t.split(",").map(t=>lE(t.trim()));n.push(...e)}),e.getConstLiteral(iE(n),!0)}return t.predicate}class wT{constructor(){this.values=[]}set(t,e){e&&this.values.push({key:t,value:e,quoted:!1})}toLiteralMap(){return sE(this.values)}}function ET(t){const e={};return t instanceof Mx&&"ng-template"!==t.tagName?t.templateAttrs.forEach(t=>e[t.name]=""):(t.attributes.forEach(t=>{QS(t.name)||(e[t.name]=t.value)}),t.inputs.forEach(t=>{e[t.name]=""}),t.outputs.forEach(t=>{e[t.name]=""})),e}function CT(t,e,n){let r=eE(t,null,n);if(e.length>0)for(let i=0;i<e.length;i++)r=r.callFn(e[i],n);else r=r.callFn([],n);return r}function xT(t){const{expressions:e,strings:n}=t;return 1===e.length&&2===n.length&&""===n[0]&&""===n[1]?1:e.length+n.length}var ST,TT;function IT(t,e=!1){const n=tE("t"),r=[],i=DT(t)?n:new xw(ew.Or,n,t.type);let s=null;if(null!==t.deps)"invalid"!==t.deps&&(s=new fw(i,kT(t.deps,t.injectFn,e)));else{const e=tE(`\u0275${t.name}_BaseFactory`),n=eE(pC.getInheritedFactory),o=e.set(n.callFn([t.type])).toDeclStmt(Xb,[Pw.Exported,Pw.Final]);r.push(o),s=e.callFn([i])}const o=s,a=[];let l=null;function c(e){const r=tE("r");a.push(r.set(Nw).toDeclStmt());let i=null;return i=null!==o?r.set(o).toStmt():AT(t.name),a.push(aE(n,[i],[r.set(e).toStmt()])),r}if(DT(t)&&t.delegateType===ST.Factory){const e=tE(`\u0275${t.name}_BaseFactory`),n=eE(pC.getFactoryOf);if(t.delegate.isEquivalent(t.type))throw new Error("Illegal state: compiling factory that delegates to itself");const i=e.set(n.callFn([t.delegate])).toDeclStmt(Xb,[Pw.Exported,Pw.Final]);r.push(i),l=c(e.callFn([]))}else if(DT(t)){const n=kT(t.delegateDeps,t.injectFn,e);l=c(new(t.delegateType===ST.Class?fw:mw)(t.delegate,n))}else l=function(t){return void 0!==t.expression}(t)?c(t.expression):s;return null!==l?a.push(new Vw(l)):a.push(AT(t.name)),{factory:oE([new Ew("t",Yb)],a,Xb,void 0,`${t.name}_Factory`),statements:r}}function kT(t,e,n){return t.map(t=>(function(t,e,n){switch(t.resolved){case TT.Token:case TT.ChangeDetectorRef:const r=0|(t.self?2:0)|(t.skipSelf?4:0)|(t.host?1:0)|(t.optional?8:0);let i=0!==r||t.optional?lE(r):null;if(n&&t.resolved===TT.ChangeDetectorRef)return eE(pC.injectPipeChangeDetectorRef).callFn(i?[i]:[]);const s=[t.token];return i&&s.push(i),eE(e).callFn(s);case TT.Attribute:return eE(pC.injectAttribute).callFn([t.token]);default:return fT(`Unknown R3ResolvedDependencyType: ${TT[t.resolved]}`)}})(t,e,n))}function AT(t){return new Ww(new fw(new aw("Error"),[lE(`${t} has a constructor which is not compatible with Dependency Injection. It should probably not be @Injectable().`)]))}function DT(t){return void 0!==t.delegateType}function NT(t){return sE(Object.keys(t).map(e=>({key:e,value:t[e],quoted:!1})))}function OT(t,e){let n=null;if(e>0){n=[];for(let t=0;t<e;t++)n.push(Yb)}return rE(t,null,n)}!function(t){t[t.Class=0]="Class",t[t.Function=1]="Function",t[t.Factory=2]="Factory"}(ST||(ST={})),function(t){t[t.Token=0]="Token",t[t.Attribute=1]="Attribute",t[t.ChangeDetectorRef=2]="ChangeDetectorRef"}(TT||(TT={}));const PT="@";function RT(t){return`${PT}${t}`}function MT(t,e){return`animation_${t}_${e}`}function LT(t,e){if(null!=e){if(!Array.isArray(e))throw new Error(`Expected '${t}' to be an array of strings.`);for(let n=0;n<e.length;n+=1)if("string"!=typeof e[n])throw new Error(`Expected '${t}' to be an array of strings.`)}}const FT=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function VT(t,e){if(!(null==e||Array.isArray(e)&&2==e.length))throw new Error(`Expected '${t}' to be an array, [start, end].`);if(null!=e){const t=e[0],n=e[1];FT.forEach(e=>{if(e.test(t)||e.test(n))throw new Error(`['${t}', '${n}'] contains unusable interpolation symbol.`)})}}class BT{constructor(t,e){this.start=t,this.end=e}static fromArray(t){return t?(VT("interpolation",t),new BT(t[0],t[1])):jT}}const jT=new BT("{{","}}"),UT=3,qT="# sourceMappingURL=data:application/json;base64,";class zT{constructor(t=null){this.file=t,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}addSource(t,e=null){return this.sourcesContent.has(t)||this.sourcesContent.set(t,e),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(t,e,n,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=e&&!this.sourcesContent.has(e))throw new Error(`Unknown source file "${e}"`);if(null==t)throw new Error("The column in the generated code must be provided");if(t<this.lastCol0)throw new Error("Mapping should be added in output order");if(e&&(null==n||null==r))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=t,this.currentLine.push({col0:t,sourceUrl:e,sourceLine0:n,sourceCol0:r}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;const t=new Map,e=[],n=[];Array.from(this.sourcesContent.keys()).forEach((r,i)=>{t.set(r,i),e.push(r),n.push(this.sourcesContent.get(r)||null)});let r="",i=0,s=0,o=0,a=0;return this.lines.forEach(e=>{i=0,r+=e.map(e=>{let n=$T(e.col0-i);return i=e.col0,null!=e.sourceUrl&&(n+=$T(t.get(e.sourceUrl)-s),s=t.get(e.sourceUrl),n+=$T(e.sourceLine0-o),o=e.sourceLine0,n+=$T(e.sourceCol0-a),a=e.sourceCol0),n}).join(","),r+=";"}),r=r.slice(0,-1),{file:this.file||"",version:UT,sourceRoot:"",sources:e,sourcesContent:n,mappings:r}}toJsComment(){return this.hasMappings?"//"+qT+function(t){let e="";t=xE(t);for(let n=0;n<t.length;){const r=t.charCodeAt(n++),i=t.charCodeAt(n++),s=t.charCodeAt(n++);e+=WT(r>>2),e+=WT((3&r)<<4|(isNaN(i)?0:i>>4)),e+=isNaN(i)?"=":WT((15&i)<<2|s>>6),e+=isNaN(i)||isNaN(s)?"=":WT(63&s)}return e}(JSON.stringify(this,null,0)):""}}function $T(t){t=t<0?1+(-t<<1):t<<1;let e="";do{let n=31&t;(t>>=5)>0&&(n|=32),e+=WT(n)}while(t>0);return e}const HT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function WT(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return HT[t]}const KT=/'|\\|\n|\r|\$/g,GT=/^[$A-Z_][0-9A-Z_$]*$/i,QT="  ",YT=tE("error",null,null),XT=tE("stack",null,null);class ZT{constructor(t){this.indent=t,this.partsLength=0,this.parts=[],this.srcSpans=[]}}class JT{constructor(t){this._indent=t,this._classes=[],this._preambleLineCount=0,this._lines=[new ZT(t)]}static createRoot(){return new JT(0)}get _currentLine(){return this._lines[this._lines.length-1]}println(t,e=""){this.print(t||null,e,!0)}lineIsEmpty(){return 0===this._currentLine.parts.length}lineLength(){return this._currentLine.indent*QT.length+this._currentLine.partsLength}print(t,e,n=!1){e.length>0&&(this._currentLine.parts.push(e),this._currentLine.partsLength+=e.length,this._currentLine.srcSpans.push(t&&t.sourceSpan||null)),n&&this._lines.push(new ZT(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}pushClass(t){this._classes.push(t)}popClass(){return this._classes.pop()}get currentClass(){return this._classes.length>0?this._classes[this._classes.length-1]:null}toSource(){return this.sourceLines.map(t=>t.parts.length>0?nI(t.indent)+t.parts.join(""):"").join("\n")}toSourceMapGenerator(t,e=0){const n=new zT(t);let r=!1;const i=()=>{r||(n.addSource(t," ").addMapping(0,t,0,0),r=!0)};for(let s=0;s<e;s++)n.addLine(),i();return this.sourceLines.forEach((t,e)=>{n.addLine();const s=t.srcSpans,o=t.parts;let a=t.indent*QT.length,l=0;for(;l<s.length&&!s[l];)a+=o[l].length,l++;for(l<s.length&&0===e&&0===a?r=!0:i();l<s.length;){const t=s[l],e=t.start.file,r=t.start.line,i=t.start.col;for(n.addSource(e.url,e.content).addMapping(a,e.url,r,i),a+=o[l].length,l++;l<s.length&&(t===s[l]||!s[l]);)a+=o[l].length,l++}}),n}setPreambleLineCount(t){return this._preambleLineCount=t}spanOf(t,e){const n=this._lines[t-this._preambleLineCount];if(n){let t=e-nI(n.indent).length;for(let e=0;e<n.parts.length;e++){const r=n.parts[e];if(r.length>t)return n.srcSpans[e];t-=r.length}}return null}get sourceLines(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}class tI{constructor(t){this._escapeDollarInStrings=t}visitExpressionStmt(t,e){return t.expr.visitExpression(this,e),e.println(t,";"),null}visitReturnStmt(t,e){return e.print(t,"return "),t.value.visitExpression(this,e),e.println(t,";"),null}visitIfStmt(t,e){e.print(t,"if ("),t.condition.visitExpression(this,e),e.print(t,") {");const n=null!=t.falseCase&&t.falseCase.length>0;return t.trueCase.length<=1&&!n?(e.print(t," "),this.visitAllStatements(t.trueCase,e),e.removeEmptyLastLine(),e.print(t," ")):(e.println(),e.incIndent(),this.visitAllStatements(t.trueCase,e),e.decIndent(),n&&(e.println(t,"} else {"),e.incIndent(),this.visitAllStatements(t.falseCase,e),e.decIndent())),e.println(t,"}"),null}visitThrowStmt(t,e){return e.print(t,"throw "),t.error.visitExpression(this,e),e.println(t,";"),null}visitCommentStmt(t,e){return t.multiline?e.println(t,`/* ${t.comment} */`):t.comment.split("\n").forEach(n=>{e.println(t,`// ${n}`)}),null}visitJSDocCommentStmt(t,e){return e.println(t,`/*${t.toString()}*/`),null}visitWriteVarExpr(t,e){const n=e.lineIsEmpty();return n||e.print(t,"("),e.print(t,`${t.name} = `),t.value.visitExpression(this,e),n||e.print(t,")"),null}visitWriteKeyExpr(t,e){const n=e.lineIsEmpty();return n||e.print(t,"("),t.receiver.visitExpression(this,e),e.print(t,"["),t.index.visitExpression(this,e),e.print(t,"] = "),t.value.visitExpression(this,e),n||e.print(t,")"),null}visitWritePropExpr(t,e){const n=e.lineIsEmpty();return n||e.print(t,"("),t.receiver.visitExpression(this,e),e.print(t,`.${t.name} = `),t.value.visitExpression(this,e),n||e.print(t,")"),null}visitInvokeMethodExpr(t,e){t.receiver.visitExpression(this,e);let n=t.name;return null!=t.builtin&&null==(n=this.getBuiltinMethodName(t.builtin))?null:(e.print(t,`.${n}(`),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null)}visitInvokeFunctionExpr(t,e){return t.fn.visitExpression(this,e),e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null}visitWrappedNodeExpr(t,e){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(t,e){e.print(t,"typeof "),t.expr.visitExpression(this,e)}visitReadVarExpr(t,e){let n=t.name;if(null!=t.builtin)switch(t.builtin){case nw.Super:n="super";break;case nw.This:n="this";break;case nw.CatchError:n=YT.name;break;case nw.CatchStack:n=XT.name;break;default:throw new Error(`Unknown builtin variable ${t.builtin}`)}return e.print(t,n),null}visitInstantiateExpr(t,e){return e.print(t,"new "),t.classExpr.visitExpression(this,e),e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null}visitLiteralExpr(t,e){const n=t.value;return"string"==typeof n?e.print(t,eI(n,this._escapeDollarInStrings)):e.print(t,`${n}`),null}visitConditionalExpr(t,e){return e.print(t,"("),t.condition.visitExpression(this,e),e.print(t,"? "),t.trueCase.visitExpression(this,e),e.print(t,": "),t.falseCase.visitExpression(this,e),e.print(t,")"),null}visitNotExpr(t,e){return e.print(t,"!"),t.condition.visitExpression(this,e),null}visitAssertNotNullExpr(t,e){return t.condition.visitExpression(this,e),null}visitBinaryOperatorExpr(t,e){let n;switch(t.operator){case ew.Equals:n="==";break;case ew.Identical:n="===";break;case ew.NotEquals:n="!=";break;case ew.NotIdentical:n="!==";break;case ew.And:n="&&";break;case ew.BitwiseAnd:n="&";break;case ew.Or:n="||";break;case ew.Plus:n="+";break;case ew.Minus:n="-";break;case ew.Divide:n="/";break;case ew.Multiply:n="*";break;case ew.Modulo:n="%";break;case ew.Lower:n="<";break;case ew.LowerEquals:n="<=";break;case ew.Bigger:n=">";break;case ew.BiggerEquals:n=">=";break;default:throw new Error(`Unknown operator ${t.operator}`)}return t.parens&&e.print(t,"("),t.lhs.visitExpression(this,e),e.print(t,` ${n} `),t.rhs.visitExpression(this,e),t.parens&&e.print(t,")"),null}visitReadPropExpr(t,e){return t.receiver.visitExpression(this,e),e.print(t,"."),e.print(t,t.name),null}visitReadKeyExpr(t,e){return t.receiver.visitExpression(this,e),e.print(t,"["),t.index.visitExpression(this,e),e.print(t,"]"),null}visitLiteralArrayExpr(t,e){return e.print(t,"["),this.visitAllExpressions(t.entries,e,","),e.print(t,"]"),null}visitLiteralMapExpr(t,e){return e.print(t,"{"),this.visitAllObjects(n=>{e.print(t,`${eI(n.key,this._escapeDollarInStrings,n.quoted)}:`),n.value.visitExpression(this,e)},t.entries,e,","),e.print(t,"}"),null}visitCommaExpr(t,e){return e.print(t,"("),this.visitAllExpressions(t.parts,e,","),e.print(t,")"),null}visitAllExpressions(t,e,n){this.visitAllObjects(t=>t.visitExpression(this,e),t,e,n)}visitAllObjects(t,e,n,r){let i=!1;for(let s=0;s<e.length;s++)s>0&&(n.lineLength()>80?(n.print(null,r,!0),i||(n.incIndent(),n.incIndent(),i=!0)):n.print(null,r,!1)),t(e[s]);i&&(n.decIndent(),n.decIndent())}visitAllStatements(t,e){t.forEach(t=>t.visitStatement(this,e))}}function eI(t,e,n=!0){if(null==t)return null;const r=t.replace(KT,(...t)=>"$"==t[0]?e?"\\$":"$":"\n"==t[0]?"\\n":"\r"==t[0]?"\\r":`\\${t[0]}`);return n||!GT.test(r)?`'${r}'`:r}function nI(t){let e="";for(let n=0;n<t;n++)e+=QT;return e}class rI extends tI{constructor(){super(!1)}visitDeclareClassStmt(t,e){return e.pushClass(t),this._visitClassConstructor(t,e),null!=t.parent&&(e.print(t,`${t.name}.prototype = Object.create(`),t.parent.visitExpression(this,e),e.println(t,".prototype);")),t.getters.forEach(n=>this._visitClassGetter(t,n,e)),t.methods.forEach(n=>this._visitClassMethod(t,n,e)),e.popClass(),null}_visitClassConstructor(t,e){e.print(t,`function ${t.name}(`),null!=t.constructorMethod&&this._visitParams(t.constructorMethod.params,e),e.println(t,") {"),e.incIndent(),null!=t.constructorMethod&&t.constructorMethod.body.length>0&&(e.println(t,"var self = this;"),this.visitAllStatements(t.constructorMethod.body,e)),e.decIndent(),e.println(t,"}")}_visitClassGetter(t,e,n){n.println(t,`Object.defineProperty(${t.name}.prototype, '${e.name}', { get: function() {`),n.incIndent(),e.body.length>0&&(n.println(t,"var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println(t,"}});")}_visitClassMethod(t,e,n){n.print(t,`${t.name}.prototype.${e.name} = function(`),this._visitParams(e.params,n),n.println(t,") {"),n.incIndent(),e.body.length>0&&(n.println(t,"var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println(t,"};")}visitWrappedNodeExpr(t,e){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitReadVarExpr(t,e){if(t.builtin===nw.This)e.print(t,"self");else{if(t.builtin===nw.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");super.visitReadVarExpr(t,e)}return null}visitDeclareVarStmt(t,e){return e.print(t,`var ${t.name}`),t.value&&(e.print(t," = "),t.value.visitExpression(this,e)),e.println(t,";"),null}visitCastExpr(t,e){return t.value.visitExpression(this,e),null}visitInvokeFunctionExpr(t,e){const n=t.fn;return n instanceof aw&&n.builtin===nw.Super?(e.currentClass.parent.visitExpression(this,e),e.print(t,".call(this"),t.args.length>0&&(e.print(t,", "),this.visitAllExpressions(t.args,e,",")),e.print(t,")")):super.visitInvokeFunctionExpr(t,e),null}visitFunctionExpr(t,e){return e.print(t,`function${t.name?" "+t.name:""}(`),this._visitParams(t.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print(t,"}"),null}visitDeclareFunctionStmt(t,e){return e.print(t,`function ${t.name}(`),this._visitParams(t.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println(t,"}"),null}visitTryCatchStmt(t,e){e.println(t,"try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println(t,`} catch (${YT.name}) {`),e.incIndent();const n=[XT.set(YT.prop("stack")).toDeclStmt(null,[Pw.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println(t,"}"),null}_visitParams(t,e){this.visitAllObjects(t=>e.print(null,t.name),t,e,",")}getBuiltinMethodName(t){let e;switch(t){case rw.ConcatArray:e="concat";break;case rw.SubscribeObservable:e="subscribe";break;case rw.Bind:e="bind";break;default:throw new Error(`Unknown builtin method: ${t}`)}return e}}class iI{evaluateStatements(t,e,n,r){const i=new sI(n),s=JT.createRoot();return e.length>0&&!e[0].isEquivalent(lE("use strict").toStmt())&&(e=[lE("use strict").toStmt(),...e]),i.visitAllStatements(e,s),i.createReturnStmt(s),this.evaluateCode(t,s,i.getArgs(),r)}evaluateCode(t,e,n,r){let i=`"use strict";${e.toSource()}\n//# sourceURL=${t}`;const s=[],o=[];for(const l in n)o.push(n[l]),s.push(l);if(r){const n=new Function(...s.concat("return null;")).toString(),r=n.slice(0,n.indexOf("return null;")).split("\n").length-1;i+=`\n${e.toSourceMapGenerator(t,r).toJsComment()}`}const a=new Function(...s.concat(i));return this.executeFunction(a,o)}executeFunction(t,e){return t(...e)}}class sI extends rI{constructor(t){super(),this.reflector=t,this._evalArgNames=[],this._evalArgValues=[],this._evalExportedVars=[]}createReturnStmt(t){new Vw(new Aw(this._evalExportedVars.map(t=>new kw(t,tE(t),!1)))).visitStatement(this,t)}getArgs(){const t={};for(let e=0;e<this._evalArgNames.length;e++)t[this._evalArgNames[e]]=this._evalArgValues[e];return t}visitExternalExpr(t,e){return this._emitReferenceToExternal(t,this.reflector.resolveExternalReference(t.value),e),null}visitWrappedNodeExpr(t,e){return this._emitReferenceToExternal(t,t.node,e),null}visitDeclareVarStmt(t,e){return t.hasModifier(Pw.Exported)&&this._evalExportedVars.push(t.name),super.visitDeclareVarStmt(t,e)}visitDeclareFunctionStmt(t,e){return t.hasModifier(Pw.Exported)&&this._evalExportedVars.push(t.name),super.visitDeclareFunctionStmt(t,e)}visitDeclareClassStmt(t,e){return t.hasModifier(Pw.Exported)&&this._evalExportedVars.push(t.name),super.visitDeclareClassStmt(t,e)}_emitReferenceToExternal(t,e,n){let r=this._evalArgValues.indexOf(e);if(-1===r){r=this._evalArgValues.length,this._evalArgValues.push(e);const t=KE({reference:e})||"val";this._evalArgNames.push(`jit_${t}_${r}`)}n.print(t,this._evalArgNames[r])}}class oI{constructor(t){this.context=t}resolveExternalReference(t){if("@angular/core"!==t.moduleName)throw new Error(`Cannot resolve external reference to ${t.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(t.name))throw new Error(`No value provided for @angular/core symbol '${t.name}'.`);return this.context[t.name]}parameters(t){throw new Error("Not implemented.")}annotations(t){throw new Error("Not implemented.")}shallowAnnotations(t){throw new Error("Not implemented.")}tryAnnotations(t){throw new Error("Not implemented.")}propMetadata(t){throw new Error("Not implemented.")}hasLifecycleHook(t,e){throw new Error("Not implemented.")}guards(t){throw new Error("Not implemented.")}componentModuleUrl(t,e){throw new Error("Not implemented.")}}function aI(t){const{type:e,bootstrap:n,declarations:r,imports:i,exports:s,schemas:o,containsForwardDecls:a,emitInline:l,id:c}=t,u=[],h={type:e};if(n.length&&(h.bootstrap=cI(n,a)),l)r.length&&(h.declarations=cI(r,a)),i.length&&(h.imports=cI(i,a)),s.length&&(h.exports=cI(s,a));else{const e=function(t){const{type:e,declarations:n,imports:r,exports:i,containsForwardDecls:s}=t,o={};n.length&&(o.declarations=cI(n,s));r.length&&(o.imports=cI(r,s));i.length&&(o.exports=cI(i,s));if(0===Object.keys(o).length)return null;return new mw(eE(pC.setNgModuleScope),[e,NT(o)],void 0,void 0,!0).toStmt()}(t);null!==e&&u.push(e)}return o&&o.length&&(h.schemas=iE(o.map(t=>t.value))),c&&(h.id=c),{expression:eE(pC.defineNgModule).callFn([NT(h)]),type:new Kb(eE(pC.NgModuleDefWithMeta,[new Kb(e),lI(r),lI(i),lI(s)])),additionalStatements:u}}function lI(t){const e=t.map(t=>(function(t){return new lw(t)})(t.type));return t.length>0?rE(iE(e)):tw}function cI(t,e){const n=iE(t.map(t=>t.value));return e?oE([],[new Vw(n)]):n}function uI(t){const e=[];e.push({key:"name",value:lE(t.pipeName),quoted:!1}),e.push({key:"type",value:t.type,quoted:!1});const n=IT({name:t.name,type:t.type,deps:t.deps,injectFn:pC.directiveInject},!0);return e.push({key:"factory",value:n.factory,quoted:!1}),e.push({key:"pure",value:lE(t.pure),quoted:!1}),{expression:eE(pC.definePipe).callFn([sE(e)]),type:new Kb(eE(pC.PipeDefWithMeta,[OT(t.type,t.typeArgumentCount),new Kb(new gw(t.pipeName))])),statements:n.statements}}class hI{constructor(t,e,n,r){this.input=e,this.errLocation=n,this.ctxLocation=r,this.message=`Parser Error: ${t} ${n} [${e}] in ${r}`}}class dI{constructor(t,e){this.start=t,this.end=e}}class pI{constructor(t){this.span=t}visit(t,e=null){return null}toString(){return"AST"}}class mI extends pI{constructor(t,e,n,r){super(t),this.prefix=e,this.uninterpretedExpression=n,this.location=r}visit(t,e=null){return t.visitQuote(this,e)}toString(){return"Quote"}}class fI extends pI{visit(t,e=null){}}class gI extends pI{visit(t,e=null){return t.visitImplicitReceiver(this,e)}}class yI extends pI{constructor(t,e){super(t),this.expressions=e}visit(t,e=null){return t.visitChain(this,e)}}class vI extends pI{constructor(t,e,n,r){super(t),this.condition=e,this.trueExp=n,this.falseExp=r}visit(t,e=null){return t.visitConditional(this,e)}}class _I extends pI{constructor(t,e,n){super(t),this.receiver=e,this.name=n}visit(t,e=null){return t.visitPropertyRead(this,e)}}class bI extends pI{constructor(t,e,n,r){super(t),this.receiver=e,this.name=n,this.value=r}visit(t,e=null){return t.visitPropertyWrite(this,e)}}class wI extends pI{constructor(t,e,n){super(t),this.receiver=e,this.name=n}visit(t,e=null){return t.visitSafePropertyRead(this,e)}}class EI extends pI{constructor(t,e,n){super(t),this.obj=e,this.key=n}visit(t,e=null){return t.visitKeyedRead(this,e)}}class CI extends pI{constructor(t,e,n,r){super(t),this.obj=e,this.key=n,this.value=r}visit(t,e=null){return t.visitKeyedWrite(this,e)}}class xI extends pI{constructor(t,e,n,r){super(t),this.exp=e,this.name=n,this.args=r}visit(t,e=null){return t.visitPipe(this,e)}}class SI extends pI{constructor(t,e){super(t),this.value=e}visit(t,e=null){return t.visitLiteralPrimitive(this,e)}}class TI extends pI{constructor(t,e){super(t),this.expressions=e}visit(t,e=null){return t.visitLiteralArray(this,e)}}class II extends pI{constructor(t,e,n){super(t),this.keys=e,this.values=n}visit(t,e=null){return t.visitLiteralMap(this,e)}}class kI extends pI{constructor(t,e,n){super(t),this.strings=e,this.expressions=n}visit(t,e=null){return t.visitInterpolation(this,e)}}class AI extends pI{constructor(t,e,n,r){super(t),this.operation=e,this.left=n,this.right=r}visit(t,e=null){return t.visitBinary(this,e)}}class DI extends pI{constructor(t,e){super(t),this.expression=e}visit(t,e=null){return t.visitPrefixNot(this,e)}}class NI extends pI{constructor(t,e){super(t),this.expression=e}visit(t,e=null){return t.visitNonNullAssert(this,e)}}class OI extends pI{constructor(t,e,n,r){super(t),this.receiver=e,this.name=n,this.args=r}visit(t,e=null){return t.visitMethodCall(this,e)}}class PI extends pI{constructor(t,e,n,r){super(t),this.receiver=e,this.name=n,this.args=r}visit(t,e=null){return t.visitSafeMethodCall(this,e)}}class RI extends pI{constructor(t,e,n){super(t),this.target=e,this.args=n}visit(t,e=null){return t.visitFunctionCall(this,e)}}class MI{constructor(t,e){this.start=t,this.end=e}}class LI extends pI{constructor(t,e,n,r,i){super(new dI(0,null==e?0:e.length)),this.ast=t,this.source=e,this.location=n,this.errors=i,this.sourceSpan=new MI(r,r+this.span.end)}visit(t,e=null){return t.visitASTWithSource?t.visitASTWithSource(this,e):this.ast.visit(t,e)}toString(){return`${this.source} in ${this.location}`}}class FI{constructor(t,e,n,r,i){this.span=t,this.key=e,this.keyIsVar=n,this.name=r,this.expression=i}}class VI{visitBinary(t,e){return t.left.visit(this,e),t.right.visit(this,e),null}visitChain(t,e){return this.visitAll(t.expressions,e)}visitConditional(t,e){return t.condition.visit(this,e),t.trueExp.visit(this,e),t.falseExp.visit(this,e),null}visitPipe(t,e){return t.exp.visit(this,e),this.visitAll(t.args,e),null}visitFunctionCall(t,e){return t.target.visit(this,e),this.visitAll(t.args,e),null}visitImplicitReceiver(t,e){return null}visitInterpolation(t,e){return this.visitAll(t.expressions,e)}visitKeyedRead(t,e){return t.obj.visit(this,e),t.key.visit(this,e),null}visitKeyedWrite(t,e){return t.obj.visit(this,e),t.key.visit(this,e),t.value.visit(this,e),null}visitLiteralArray(t,e){return this.visitAll(t.expressions,e)}visitLiteralMap(t,e){return this.visitAll(t.values,e)}visitLiteralPrimitive(t,e){return null}visitMethodCall(t,e){return t.receiver.visit(this,e),this.visitAll(t.args,e)}visitPrefixNot(t,e){return t.expression.visit(this,e),null}visitNonNullAssert(t,e){return t.expression.visit(this,e),null}visitPropertyRead(t,e){return t.receiver.visit(this,e),null}visitPropertyWrite(t,e){return t.receiver.visit(this,e),t.value.visit(this,e),null}visitSafePropertyRead(t,e){return t.receiver.visit(this,e),null}visitSafeMethodCall(t,e){return t.receiver.visit(this,e),this.visitAll(t.args,e)}visitAll(t,e){return t.forEach(t=>t.visit(this,e)),null}visitQuote(t,e){return null}}class BI{visitImplicitReceiver(t,e){return t}visitInterpolation(t,e){return new kI(t.span,t.strings,this.visitAll(t.expressions))}visitLiteralPrimitive(t,e){return new SI(t.span,t.value)}visitPropertyRead(t,e){return new _I(t.span,t.receiver.visit(this),t.name)}visitPropertyWrite(t,e){return new bI(t.span,t.receiver.visit(this),t.name,t.value.visit(this))}visitSafePropertyRead(t,e){return new wI(t.span,t.receiver.visit(this),t.name)}visitMethodCall(t,e){return new OI(t.span,t.receiver.visit(this),t.name,this.visitAll(t.args))}visitSafeMethodCall(t,e){return new PI(t.span,t.receiver.visit(this),t.name,this.visitAll(t.args))}visitFunctionCall(t,e){return new RI(t.span,t.target.visit(this),this.visitAll(t.args))}visitLiteralArray(t,e){return new TI(t.span,this.visitAll(t.expressions))}visitLiteralMap(t,e){return new II(t.span,t.keys,this.visitAll(t.values))}visitBinary(t,e){return new AI(t.span,t.operation,t.left.visit(this),t.right.visit(this))}visitPrefixNot(t,e){return new DI(t.span,t.expression.visit(this))}visitNonNullAssert(t,e){return new NI(t.span,t.expression.visit(this))}visitConditional(t,e){return new vI(t.span,t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this))}visitPipe(t,e){return new xI(t.span,t.exp.visit(this),t.name,this.visitAll(t.args))}visitKeyedRead(t,e){return new EI(t.span,t.obj.visit(this),t.key.visit(this))}visitKeyedWrite(t,e){return new CI(t.span,t.obj.visit(this),t.key.visit(this),t.value.visit(this))}visitAll(t){const e=new Array(t.length);for(let n=0;n<t.length;++n)e[n]=t[n].visit(this);return e}visitChain(t,e){return new yI(t.span,this.visitAll(t.expressions))}visitQuote(t,e){return new mI(t.span,t.prefix,t.uninterpretedExpression,t.location)}}class jI{visitImplicitReceiver(t,e){return t}visitInterpolation(t,e){const n=this.visitAll(t.expressions);return n!==t.expressions?new kI(t.span,t.strings,n):t}visitLiteralPrimitive(t,e){return t}visitPropertyRead(t,e){const n=t.receiver.visit(this);return n!==t.receiver?new _I(t.span,n,t.name):t}visitPropertyWrite(t,e){const n=t.receiver.visit(this),r=t.value.visit(this);return n!==t.receiver||r!==t.value?new bI(t.span,n,t.name,r):t}visitSafePropertyRead(t,e){const n=t.receiver.visit(this);return n!==t.receiver?new wI(t.span,n,t.name):t}visitMethodCall(t,e){const n=t.receiver.visit(this),r=this.visitAll(t.args);return n!==t.receiver||r!==t.args?new OI(t.span,n,t.name,r):t}visitSafeMethodCall(t,e){const n=t.receiver.visit(this),r=this.visitAll(t.args);return n!==t.receiver||r!==t.args?new PI(t.span,n,t.name,r):t}visitFunctionCall(t,e){const n=t.target&&t.target.visit(this),r=this.visitAll(t.args);return n!==t.target||r!==t.args?new RI(t.span,n,r):t}visitLiteralArray(t,e){const n=this.visitAll(t.expressions);return n!==t.expressions?new TI(t.span,n):t}visitLiteralMap(t,e){const n=this.visitAll(t.values);return n!==t.values?new II(t.span,t.keys,n):t}visitBinary(t,e){const n=t.left.visit(this),r=t.right.visit(this);return n!==t.left||r!==t.right?new AI(t.span,t.operation,n,r):t}visitPrefixNot(t,e){const n=t.expression.visit(this);return n!==t.expression?new DI(t.span,n):t}visitNonNullAssert(t,e){const n=t.expression.visit(this);return n!==t.expression?new NI(t.span,n):t}visitConditional(t,e){const n=t.condition.visit(this),r=t.trueExp.visit(this),i=t.falseExp.visit(this);return n!==t.condition||r!==t.trueExp||i!==t.falseExp?new vI(t.span,n,r,i):t}visitPipe(t,e){const n=t.exp.visit(this),r=this.visitAll(t.args);return n!==t.exp||r!==t.args?new xI(t.span,n,t.name,r):t}visitKeyedRead(t,e){const n=t.obj.visit(this),r=t.key.visit(this);return n!==t.obj||r!==t.key?new EI(t.span,n,r):t}visitKeyedWrite(t,e){const n=t.obj.visit(this),r=t.key.visit(this),i=t.value.visit(this);return n!==t.obj||r!==t.key||i!==t.value?new CI(t.span,n,r,i):t}visitAll(t){const e=new Array(t.length);let n=!1;for(let r=0;r<t.length;++r){const i=t[r],s=i.visit(this);e[r]=s,n=n||s!==i}return n?e:t}visitChain(t,e){const n=this.visitAll(t.expressions);return n!==t.expressions?new yI(t.span,n):t}visitQuote(t,e){return t}}class UI{constructor(t,e,n,r,i){this.name=t,this.expression=e,this.type=n,this.sourceSpan=r,this.valueSpan=i,this.isLiteral=this.type===qI.LITERAL_ATTR,this.isAnimation=this.type===qI.ANIMATION}}var qI,zI,$I;!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.LITERAL_ATTR=1]="LITERAL_ATTR",t[t.ANIMATION=2]="ANIMATION"}(qI||(qI={}));class HI{constructor(t,e,n,r,i,s){this.name=t,this.targetOrPhase=e,this.type=n,this.handler=r,this.sourceSpan=i,this.handlerSpan=s}}class WI{constructor(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}}class KI{constructor(t,e,n,r,i,s,o){this.name=t,this.type=e,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.valueSpan=o}}class GI{}GI.event=tE("$event");class QI{constructor(t,e){this.stmts=t,this.allowDefault=e,this.render3Stmts=t.map(t=>{if(t instanceof Mw&&t.name==e.name&&t.value instanceof xw){const e=t.value.lhs;return new Vw(e.value)}return t})}}function YI(t,e,n,r,i,s){t||(t=new ak);const o=XI({createLiteralArrayConverter:t=>t=>iE(t),createLiteralMapConverter:t=>e=>{return sE(t.map((t,n)=>({key:t.key,value:e[n],quoted:t.quoted})))},createPipeConverter:t=>{throw new Error(`Illegal State: Actions are not allowed to contain pipes. Pipe: ${t}`)}},n),a=new ok(t,e,r,i,s),l=[];!function t(e,n){Array.isArray(e)?e.forEach(e=>t(e,n)):n.push(e)}(o.visit(a,$I.Statement),l),function(t,e,n){for(let r=t-1;r>=0;r--)n.unshift(nk(e,r))}(a.temporaryCount,r,l),a.usesImplicitReceiver&&t.notifyImplicitReceiverUse();const c=l.length-1;let u=null;if(c>=0){const t=function(t){if(t instanceof Fw)return t.expr;if(t instanceof Vw)return t.value;return null}(l[c]);t&&(u=function(t){return tE(`pd_${t}`)}(r),l[c]=u.set(t.cast(Yb).notIdentical(lE(!1))).toDeclStmt(null,[Pw.Final]))}return new QI(l,u)}function XI(t,e){return function(t,e){const n=new sk(t);return e.visit(n)}(t,e)}class ZI{constructor(t,e){this.stmts=t,this.currValExpr=e}}function JI(t,e,n,r,i,s){t||(t=new ak);const o=function(t){return tE(`currVal_${t}`)}(r),a=new ok(t,e,r,s),l=n.visit(a,$I.Expression),c=tk(a,r);return a.usesImplicitReceiver&&t.notifyImplicitReceiverUse(),0===a.temporaryCount&&i==zI.TrySimple?new ZI([],l):(c.push(o.set(l).toDeclStmt(Yb,[Pw.Final])),new ZI(c,o))}function tk(t,e){const n=[];for(let r=0;r<t.temporaryCount;r++)n.push(nk(e,r));return n}function ek(t,e){return`tmp_${t}_${e}`}function nk(t,e){return new Mw(ek(t,e),Nw)}function rk(t,e){if(t!==$I.Expression)throw new Error(`Expected an expression, but saw ${e}`)}function ik(t,e){return t===$I.Statement?e.toStmt():e}!function(t){t[t.General=0]="General",t[t.TrySimple=1]="TrySimple"}(zI||(zI={})),function(t){t[t.Statement=0]="Statement",t[t.Expression=1]="Expression"}($I||($I={}));class sk extends BI{constructor(t){super(),this._converterFactory=t}visitPipe(t,e){const n=[t.exp,...t.args].map(t=>t.visit(this,e));return new lk(t.span,n,this._converterFactory.createPipeConverter(t.name,n.length))}visitLiteralArray(t,e){const n=t.expressions.map(t=>t.visit(this,e));return new lk(t.span,n,this._converterFactory.createLiteralArrayConverter(t.expressions.length))}visitLiteralMap(t,e){const n=t.values.map(t=>t.visit(this,e));return new lk(t.span,n,this._converterFactory.createLiteralMapConverter(t.keys))}}class ok{constructor(t,e,n,r,i){this._localResolver=t,this._implicitReceiver=e,this.bindingId=n,this.interpolationFunction=r,this.baseSourceSpan=i,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}visitBinary(t,e){let n;switch(t.operation){case"+":n=ew.Plus;break;case"-":n=ew.Minus;break;case"*":n=ew.Multiply;break;case"/":n=ew.Divide;break;case"%":n=ew.Modulo;break;case"&&":n=ew.And;break;case"||":n=ew.Or;break;case"==":n=ew.Equals;break;case"!=":n=ew.NotEquals;break;case"===":n=ew.Identical;break;case"!==":n=ew.NotIdentical;break;case"<":n=ew.Lower;break;case">":n=ew.Bigger;break;case"<=":n=ew.LowerEquals;break;case">=":n=ew.BiggerEquals;break;default:throw new Error(`Unsupported operation ${t.operation}`)}return ik(e,new xw(n,this._visit(t.left,$I.Expression),this._visit(t.right,$I.Expression),void 0,this.convertSourceSpan(t.span)))}visitChain(t,e){return function(t,e){if(t!==$I.Statement)throw new Error(`Expected a statement, but saw ${e}`)}(e,t),this.visitAll(t.expressions,e)}visitConditional(t,e){return ik(e,this._visit(t.condition,$I.Expression).conditional(this._visit(t.trueExp,$I.Expression),this._visit(t.falseExp,$I.Expression),this.convertSourceSpan(t.span)))}visitPipe(t,e){throw new Error(`Illegal state: Pipes should have been converted into functions. Pipe: ${t.name}`)}visitFunctionCall(t,e){const n=this.visitAll(t.args,$I.Expression);let r;return ik(e,r=t instanceof lk?t.converter(n):this._visit(t.target,$I.Expression).callFn(n,this.convertSourceSpan(t.span)))}visitImplicitReceiver(t,e){return rk(e,t),this.usesImplicitReceiver=!0,this._implicitReceiver}visitInterpolation(t,e){rk(e,t);const n=[lE(t.expressions.length)];for(let r=0;r<t.strings.length-1;r++)n.push(lE(t.strings[r])),n.push(this._visit(t.expressions[r],$I.Expression));return n.push(lE(t.strings[t.strings.length-1])),this.interpolationFunction?this.interpolationFunction(n):t.expressions.length<=9?eE(BE.inlineInterpolate).callFn(n):eE(BE.interpolate).callFn([n[0],iE(n.slice(1),void 0,this.convertSourceSpan(t.span))])}visitKeyedRead(t,e){const n=this.leftMostSafeNode(t);return n?this.convertSafeAccess(t,n,e):ik(e,this._visit(t.obj,$I.Expression).key(this._visit(t.key,$I.Expression)))}visitKeyedWrite(t,e){const n=this._visit(t.obj,$I.Expression),r=this._visit(t.key,$I.Expression),i=this._visit(t.value,$I.Expression);return ik(e,n.key(r).set(i))}visitLiteralArray(t,e){throw new Error("Illegal State: literal arrays should have been converted into functions")}visitLiteralMap(t,e){throw new Error("Illegal State: literal maps should have been converted into functions")}visitLiteralPrimitive(t,e){const n=null===t.value||void 0===t.value||!0===t.value||!0===t.value?Xb:void 0;return ik(e,lE(t.value,n,this.convertSourceSpan(t.span)))}_getLocal(t){return this._localResolver.getLocal(t)}visitMethodCall(t,e){if(t.receiver instanceof gI&&"$any"==t.name){const e=this.visitAll(t.args,$I.Expression);if(1!=e.length)throw new Error(`Invalid call to $any, expected 1 argument but received ${e.length||"none"}`);return e[0].cast(Yb,this.convertSourceSpan(t.span))}const n=this.leftMostSafeNode(t);if(n)return this.convertSafeAccess(t,n,e);{const n=this.visitAll(t.args,$I.Expression),r=this.usesImplicitReceiver;let i=null;const s=this._visit(t.receiver,$I.Expression);if(s===this._implicitReceiver){const e=this._getLocal(t.name);e&&(this.usesImplicitReceiver=r,i=e.callFn(n))}return null==i&&(i=s.callMethod(t.name,n,this.convertSourceSpan(t.span))),ik(e,i)}}visitPrefixNot(t,e){return ik(e,(n=this._visit(t.expression,$I.Expression),new _w(n,r)));var n,r}visitNonNullAssert(t,e){return ik(e,(n=this._visit(t.expression,$I.Expression),new bw(n,r)));var n,r}visitPropertyRead(t,e){const n=this.leftMostSafeNode(t);if(n)return this.convertSafeAccess(t,n,e);{let n=null;const r=this.usesImplicitReceiver,i=this._visit(t.receiver,$I.Expression);return i===this._implicitReceiver&&(n=this._getLocal(t.name))&&(this.usesImplicitReceiver=r),null==n&&(n=i.prop(t.name)),ik(e,n)}}visitPropertyWrite(t,e){const n=this._visit(t.receiver,$I.Expression),r=this.usesImplicitReceiver;let i=null;if(n===this._implicitReceiver){const e=this._getLocal(t.name);if(e){if(!(e instanceof Sw))throw new Error("Cannot assign to a reference or variable!");i=e,this.usesImplicitReceiver=r}}return null===i&&(i=n.prop(t.name)),ik(e,i.set(this._visit(t.value,$I.Expression)))}visitSafePropertyRead(t,e){return this.convertSafeAccess(t,this.leftMostSafeNode(t),e)}visitSafeMethodCall(t,e){return this.convertSafeAccess(t,this.leftMostSafeNode(t),e)}visitAll(t,e){return t.map(t=>this._visit(t,e))}visitQuote(t,e){throw new Error(`Quotes are not supported for evaluation!\n        Statement: ${t.uninterpretedExpression} located at ${t.location}`)}_visit(t,e){const n=this._resultMap.get(t);return n||(this._nodeMap.get(t)||t).visit(this,e)}convertSafeAccess(t,e,n){let r=this._visit(e.receiver,$I.Expression),i=void 0;this.needsTemporary(e.receiver)&&(r=(i=this.allocateTemporary()).set(r),this._resultMap.set(e.receiver,i));const s=r.isBlank();e instanceof PI?this._nodeMap.set(e,new OI(e.span,e.receiver,e.name,e.args)):this._nodeMap.set(e,new _I(e.span,e.receiver,e.name));const o=this._visit(t,$I.Expression);return this._nodeMap.delete(e),i&&this.releaseTemporary(i),ik(n,s.conditional(lE(null),o))}leftMostSafeNode(t){const e=(t,e)=>(this._nodeMap.get(e)||e).visit(t);return t.visit({visitBinary:t=>null,visitChain:t=>null,visitConditional:t=>null,visitFunctionCall:t=>null,visitImplicitReceiver:t=>null,visitInterpolation:t=>null,visitKeyedRead(t){return e(this,t.obj)},visitKeyedWrite:t=>null,visitLiteralArray:t=>null,visitLiteralMap:t=>null,visitLiteralPrimitive:t=>null,visitMethodCall(t){return e(this,t.receiver)},visitPipe:t=>null,visitPrefixNot:t=>null,visitNonNullAssert:t=>null,visitPropertyRead(t){return e(this,t.receiver)},visitPropertyWrite:t=>null,visitQuote:t=>null,visitSafeMethodCall(t){return e(this,t.receiver)||t},visitSafePropertyRead(t){return e(this,t.receiver)||t}})}needsTemporary(t){const e=(t,e)=>e&&(this._nodeMap.get(e)||e).visit(t);return t.visit({visitBinary(t){return e(this,t.left)||e(this,t.right)},visitChain:t=>!1,visitConditional(t){return e(this,t.condition)||e(this,t.trueExp)||e(this,t.falseExp)},visitFunctionCall:t=>!0,visitImplicitReceiver:t=>!1,visitInterpolation(t){return((t,n)=>n.some(n=>e(t,n)))(this,t.expressions)},visitKeyedRead:t=>!1,visitKeyedWrite:t=>!1,visitLiteralArray:t=>!0,visitLiteralMap:t=>!0,visitLiteralPrimitive:t=>!1,visitMethodCall:t=>!0,visitPipe:t=>!0,visitPrefixNot(t){return e(this,t.expression)},visitNonNullAssert(t){return e(this,t.expression)},visitPropertyRead:t=>!1,visitPropertyWrite:t=>!1,visitQuote:t=>!1,visitSafeMethodCall:t=>!0,visitSafePropertyRead:t=>!1})}allocateTemporary(){const t=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new aw(ek(this.bindingId,t))}releaseTemporary(t){if(this._currentTemporary--,t.name!=ek(this.bindingId,this._currentTemporary))throw new Error(`Temporary ${t.name} released out of order`)}convertSourceSpan(t){if(this.baseSourceSpan){const e=this.baseSourceSpan.start.moveBy(t.start),n=this.baseSourceSpan.start.moveBy(t.end);return new Sx(e,n)}return null}}class ak{notifyImplicitReceiverUse(){}getLocal(t){return t===GI.event.name?GI.event:null}}class lk extends RI{constructor(t,e,n){super(t,null,e),this.args=e,this.converter=n}}class ck{constructor(){this.strictStyling=!0}shimCssText(t,e,n=""){const r=t.match(kk)||[];return t=function(t){return t.replace(Ik,"")}(t),t=this._insertDirectives(t),[this._scopeCssText(t,e,n),...r].join("\n")}_insertDirectives(t){return t=this._insertPolyfillDirectivesInCssText(t),this._insertPolyfillRulesInCssText(t)}_insertPolyfillDirectivesInCssText(t){return t.replace(hk,function(...t){return t[2]+"{"})}_insertPolyfillRulesInCssText(t){return t.replace(dk,(...t)=>{const e=t[0].replace(t[1],"").replace(t[2],"");return t[4]+e})}_scopeCssText(t,e,n){const r=this._extractUnscopedRulesFromCssText(t);return t=this._insertPolyfillHostInCssText(t),t=this._convertColonHost(t),t=this._convertColonHostContext(t),t=this._convertShadowDOMSelectors(t),e&&(t=this._scopeSelectors(t,e,n)),(t=t+"\n"+r).trim()}_extractUnscopedRulesFromCssText(t){let e,n="";for(pk.lastIndex=0;null!==(e=pk.exec(t));){n+=e[0].replace(e[2],"").replace(e[1],e[4])+"\n\n"}return n}_convertColonHost(t){return this._convertColonRule(t,yk,this._colonHostPartReplacer)}_convertColonHostContext(t){return this._convertColonRule(t,vk,this._colonHostContextPartReplacer)}_convertColonRule(t,e,n){return t.replace(e,function(...t){if(t[2]){const e=t[2].split(","),r=[];for(let i=0;i<e.length;i++){const s=e[i].trim();if(!s)break;r.push(n(_k,s,t[3]))}return r.join(",")}return _k+t[3]})}_colonHostContextPartReplacer(t,e,n){return e.indexOf(mk)>-1?this._colonHostPartReplacer(t,e,n):t+e+n+", "+e+" "+t+n}_colonHostPartReplacer(t,e,n){return t+e.replace(mk,"")+n}_convertShadowDOMSelectors(t){return wk.reduce((t,e)=>t.replace(e," "),t)}_scopeSelectors(t,e,n){return function(t,e){const n=function(t){const e=t.split(Dk),n=[],r=[];let i=0,s=[];for(let o=0;o<e.length;o++){const t=e[o];t==Ok&&i--,i>0?s.push(t):(s.length>0&&(r.push(s.join("")),n.push(Pk),s=[]),n.push(t)),t==Nk&&i++}s.length>0&&(r.push(s.join("")),n.push(Pk));return new Mk(n.join(""),r)}(t);let r=0;return n.escapedString.replace(Ak,function(...t){const i=t[2];let s="",o=t[4],a="";o&&o.startsWith("{"+Pk)&&(s=n.blocks[r++],o=o.substring(Pk.length+1),a="{");const l=e(new Rk(i,s));return`${t[1]}${l.selector}${t[3]}${a}${l.content}${o}`})}(t,t=>{let r=t.selector,i=t.content;return"@"!=t.selector[0]?r=this._scopeSelector(t.selector,e,n,this.strictStyling):(t.selector.startsWith("@media")||t.selector.startsWith("@supports")||t.selector.startsWith("@page")||t.selector.startsWith("@document"))&&(i=this._scopeSelectors(t.content,e,n)),new Rk(r,i)})}_scopeSelector(t,e,n,r){return t.split(",").map(t=>t.trim().split(Ek)).map(t=>{const[i,...s]=t;return[(t=>this._selectorNeedsScoping(t,e)?r?this._applyStrictSelectorScope(t,e,n):this._applySelectorScope(t,e,n):t)(i),...s].join(" ")}).join(", ")}_selectorNeedsScoping(t,e){return!this._makeScopeMatcher(e).test(t)}_makeScopeMatcher(t){return t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+t+")"+Ck,"m")}_applySelectorScope(t,e,n){return this._applySimpleSelectorScope(t,e,n)}_applySimpleSelectorScope(t,e,n){if(xk.lastIndex=0,xk.test(t)){const r=this.strictStyling?`[${n}]`:e;return t.replace(bk,(t,e)=>e.replace(/([^:]*)(:*)(.*)/,(t,e,n,i)=>e+r+n+i)).replace(xk,r+" ")}return e+" "+t}_applyStrictSelectorScope(t,e,n){const r="["+(e=e.replace(/\[is=([^\]]*)\]/g,(t,...e)=>e[0]))+"]",i=t=>{let i=t.trim();if(!i)return"";if(t.indexOf(_k)>-1)i=this._applySimpleSelectorScope(t,e,n);else{const e=t.replace(xk,"");if(e.length>0){const t=e.match(/([^:]*)(:*)(.*)/);t&&(i=t[1]+r+t[2]+t[3])}}return i},s=new uk(t);let o,a="",l=0;const c=/( |>|\+|~(?!=))\s*/g;let u=!((t=s.content()).indexOf(_k)>-1);for(;null!==(o=c.exec(t));){const e=o[1],n=t.slice(l,o.index).trim();a+=`${(u=u||n.indexOf(_k)>-1)?i(n):n} ${e} `,l=c.lastIndex}const h=t.substring(l);return a+=(u=u||h.indexOf(_k)>-1)?i(h):h,s.restore(a)}_insertPolyfillHostInCssText(t){return t.replace(Tk,fk).replace(Sk,mk)}}class uk{constructor(t){this.placeholders=[],this.index=0,t=t.replace(/(\[[^\]]*\])/g,(t,e)=>{const n=`__ph-${this.index}__`;return this.placeholders.push(e),this.index++,n}),this._content=t.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(t,e,n)=>{const r=`__ph-${this.index}__`;return this.placeholders.push(n),this.index++,e+r})}restore(t){return t.replace(/__ph-(\d+)__/g,(t,e)=>this.placeholders[+e])}content(){return this._content}}const hk=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,dk=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,pk=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,mk="-shadowcsshost",fk="-shadowcsscontext",gk=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",yk=new RegExp("("+mk+gk,"gim"),vk=new RegExp("("+fk+gk,"gim"),_k=mk+"-no-combinator",bk=/-shadowcsshost-no-combinator([^\s]*)/,wk=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Ek=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,Ck="([>\\s~+[.,{:][\\s\\S]*)?$",xk=/-shadowcsshost/gim,Sk=/:host/gim,Tk=/:host-context/gim,Ik=/\/\*\s*[\s\S]*?\*\//g;const kk=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g;const Ak=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Dk=/([{}])/g,Nk="{",Ok="}",Pk="%BLOCK%";class Rk{constructor(t,e){this.selector=t,this.content=e}}class Mk{constructor(t,e){this.escapedString=t,this.blocks=e}}const Lk="_nghost-%COMP%",Fk="_ngcontent-%COMP%";class Vk{constructor(t,e,n){this.name=t,this.moduleUrl=e,this.setValue=n}}class Bk{constructor(t,e,n,r,i){this.outputCtx=t,this.stylesVar=e,this.dependencies=n,this.isShimmed=r,this.meta=i}}class jk{constructor(t){this._urlResolver=t,this._shadowCss=new ck}compileComponent(t,e){const n=e.template;return this._compileStyles(t,e,new eC({styles:n.styles,styleUrls:n.styleUrls,moduleUrl:GE(e.type)}),this.needsStyleShim(e),!0)}compileStyles(t,e,n,r=this.needsStyleShim(e)){return this._compileStyles(t,e,n,r,!1)}needsStyleShim(t){return t.template.encapsulation===wb.Emulated}_compileStyles(t,e,n,r,i){const s=n.styles.map(t=>lE(this._shimIfNeeded(t,r))),o=[];n.styleUrls.forEach(e=>{const n=s.length;s.push(null),o.push(new Vk(Uk(null),e,e=>s[n]=t.importExpr(e)))});const a=Uk(i?e:null),l=tE(a).set(iE(s,new Gb(Yb,[zb.Const]))).toDeclStmt(null,i?[Pw.Final]:[Pw.Final,Pw.Exported]);return t.statements.push(l),new Bk(t,a,o,r,n)}_shimIfNeeded(t,e){return e?this._shadowCss.shimCssText(t,Fk,Lk):t}}function Uk(t){let e="styles";return t&&(e+=`_${KE(t.type)}`),e}class qk{constructor(t,e,n){this.value=t,this.sourceSpan=e,this.i18n=n}visit(t,e){return t.visitText(this,e)}}class zk{constructor(t,e,n,r,i,s){this.switchValue=t,this.type=e,this.cases=n,this.sourceSpan=r,this.switchValueSourceSpan=i,this.i18n=s}visit(t,e){return t.visitExpansion(this,e)}}class $k{constructor(t,e,n,r,i){this.value=t,this.expression=e,this.sourceSpan=n,this.valueSourceSpan=r,this.expSourceSpan=i}visit(t,e){return t.visitExpansionCase(this,e)}}class Hk{constructor(t,e,n,r,i){this.name=t,this.value=e,this.sourceSpan=n,this.valueSpan=r,this.i18n=i}visit(t,e){return t.visitAttribute(this,e)}}class Wk{constructor(t,e,n,r,i=null,s=null,o){this.name=t,this.attrs=e,this.children=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=s,this.i18n=o}visit(t,e){return t.visitElement(this,e)}}class Kk{constructor(t,e){this.value=t,this.sourceSpan=e}visit(t,e){return t.visitComment(this,e)}}function Gk(t,e,n=null){const r=[],i=t.visit?e=>t.visit(e,n)||e.visit(t,n):e=>e.visit(t,n);return e.forEach(t=>{const e=i(t);e&&r.push(e)}),r}var Qk;!function(t){t[t.TAG_OPEN_START=0]="TAG_OPEN_START",t[t.TAG_OPEN_END=1]="TAG_OPEN_END",t[t.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",t[t.TAG_CLOSE=3]="TAG_CLOSE",t[t.TEXT=4]="TEXT",t[t.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",t[t.RAW_TEXT=6]="RAW_TEXT",t[t.COMMENT_START=7]="COMMENT_START",t[t.COMMENT_END=8]="COMMENT_END",t[t.CDATA_START=9]="CDATA_START",t[t.CDATA_END=10]="CDATA_END",t[t.ATTR_NAME=11]="ATTR_NAME",t[t.ATTR_QUOTE=12]="ATTR_QUOTE",t[t.ATTR_VALUE=13]="ATTR_VALUE",t[t.DOC_TYPE=14]="DOC_TYPE",t[t.EXPANSION_FORM_START=15]="EXPANSION_FORM_START",t[t.EXPANSION_CASE_VALUE=16]="EXPANSION_CASE_VALUE",t[t.EXPANSION_CASE_EXP_START=17]="EXPANSION_CASE_EXP_START",t[t.EXPANSION_CASE_EXP_END=18]="EXPANSION_CASE_EXP_END",t[t.EXPANSION_FORM_END=19]="EXPANSION_FORM_END",t[t.EOF=20]="EOF"}(Qk||(Qk={}));class Yk{constructor(t,e,n){this.type=t,this.parts=e,this.sourceSpan=n}}class Xk extends kx{constructor(t,e,n){super(n,t),this.tokenType=e}}class Zk{constructor(t,e){this.tokens=t,this.errors=e}}const Jk=/\r\n?/g;function tA(t){return`Unexpected character "${t===mC?"EOF":String.fromCharCode(t)}"`}function eA(t){return`Unknown entity "${t}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}class nA{constructor(t){this.error=t}}class rA{constructor(t,e,n){this._getTagDefinition=e,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._tokenizeIcu=n.tokenizeExpansionForms||!1,this._interpolationConfig=n.interpolationConfig||jT,this._leadingTriviaCodePoints=n.leadingTriviaChars&&n.leadingTriviaChars.map(t=>t.codePointAt(0)||0);const r=n.range||{endPos:t.content.length,startPos:0,startLine:0,startCol:0};this._cursor=n.escapedString?new uA(t,r):new cA(t,r);try{this._cursor.init()}catch(i){this.handleError(i)}}_processCarriageReturns(t){return t.replace(Jk,"\n")}tokenize(){for(;this._cursor.peek()!==mC;){const e=this._cursor.clone();try{this._attemptCharCode(BC)?this._attemptCharCode(EC)?this._attemptCharCode(XC)?this._consumeCdata(e):this._attemptCharCode(RC)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(LC)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(t){this.handleError(t)}}return this._beginToken(Qk.EOF),this._endToken([]),new Zk(function(t){const e=[];let n=void 0;for(let r=0;r<t.length;r++){const i=t[r];n&&n.type==Qk.TEXT&&i.type==Qk.TEXT?(n.parts[0]+=i.parts[0],n.sourceSpan.end=i.sourceSpan.end):(n=i,e.push(n))}return e}(this.tokens),this.errors)}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(((t=this._cursor.peek())===jC||bx(t)||_x(t))&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;var t;if(this._cursor.peek()===fx){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(t,e=this._cursor.clone()){this._currentTokenStart=e,this._currentTokenType=t}_endToken(t,e=this._cursor.clone()){if(null===this._currentTokenStart)throw new Xk("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(e));if(null===this._currentTokenType)throw new Xk("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));const n=new Yk(this._currentTokenType,t,this._cursor.getSpan(this._currentTokenStart,this._leadingTriviaCodePoints));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n}_createError(t,e){this._isInExpansionForm()&&(t+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');const n=new Xk(t,this._currentTokenType,e);return this._currentTokenStart=null,this._currentTokenType=null,new nA(n)}handleError(t){if(t instanceof hA&&(t=this._createError(t.msg,this._cursor.getSpan(t.cursor))),!(t instanceof nA))throw t;this.errors.push(t.error)}_attemptCharCode(t){return this._cursor.peek()===t&&(this._cursor.advance(),!0)}_attemptCharCodeCaseInsensitive(t){return e=this._cursor.peek(),n=t,lA(e)==lA(n)&&(this._cursor.advance(),!0);var e,n}_requireCharCode(t){const e=this._cursor.clone();if(!this._attemptCharCode(t))throw this._createError(tA(this._cursor.peek()),this._cursor.getSpan(e))}_attemptStr(t){const e=t.length;if(this._cursor.charsLeft()<e)return!1;const n=this._cursor.clone();for(let r=0;r<e;r++)if(!this._attemptCharCode(t.charCodeAt(r)))return this._cursor=n,!1;return!0}_attemptStrCaseInsensitive(t){for(let e=0;e<t.length;e++)if(!this._attemptCharCodeCaseInsensitive(t.charCodeAt(e)))return!1;return!0}_requireStr(t){const e=this._cursor.clone();if(!this._attemptStr(t))throw this._createError(tA(this._cursor.peek()),this._cursor.getSpan(e))}_attemptCharCodeUntilFn(t){for(;!t(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(t,e){const n=this._cursor.clone();if(this._attemptCharCodeUntilFn(t),this._cursor.clone().diff(n)<e)throw this._createError(tA(this._cursor.peek()),this._cursor.getSpan(n))}_attemptUntilChar(t){for(;this._cursor.peek()!==t;)this._cursor.advance()}_readChar(t){if(t&&this._cursor.peek()===IC)return this._decodeEntity();{const t=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),t}}_decodeEntity(){const t=this._cursor.clone();if(this._cursor.advance(),!this._attemptCharCode(xC)){const e=this._cursor.clone();if(this._attemptCharCodeUntilFn(aA),this._cursor.peek()!=VC)return this._cursor=e,"&";const n=this._cursor.getChars(e);this._cursor.advance();const r=nb[n];if(!r)throw this._createError(eA(n),this._cursor.getSpan(t));return r}{const n=this._attemptCharCode(hx)||this._attemptCharCode(QC),r=this._cursor.clone();if(this._attemptCharCodeUntilFn(oA),this._cursor.peek()!=VC)throw this._createError(tA(this._cursor.peek()),this._cursor.getSpan());const i=this._cursor.getChars(r);this._cursor.advance();try{const r=parseInt(i,n?16:10);return String.fromCharCode(r)}catch(e){throw this._createError(eA(this._cursor.getChars(t)),this._cursor.getSpan())}}}_consumeRawText(t,e){this._beginToken(t?Qk.ESCAPABLE_RAW_TEXT:Qk.RAW_TEXT);const n=[];for(;;){const r=this._cursor.clone(),i=e();if(this._cursor=r,i)break;n.push(this._readChar(t))}return this._endToken([this._processCarriageReturns(n.join(""))])}_consumeComment(t){this._beginToken(Qk.COMMENT_START,t),this._requireCharCode(RC),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("--\x3e")),this._beginToken(Qk.COMMENT_END),this._requireStr("--\x3e"),this._endToken([])}_consumeCdata(t){this._beginToken(Qk.CDATA_START,t),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(Qk.CDATA_END),this._requireStr("]]>"),this._endToken([])}_consumeDocType(t){this._beginToken(Qk.DOC_TYPE,t);const e=this._cursor.clone();this._attemptUntilChar(UC);const n=this._cursor.getChars(e);this._cursor.advance(),this._endToken([n])}_consumePrefixAndName(){const t=this._cursor.clone();let e="";for(;this._cursor.peek()!==FC&&!(((n=this._cursor.peek())<nx||dx<n)&&(n<WC||YC<n)&&(n<zC||n>HC));)this._cursor.advance();var n;let r;return this._cursor.peek()===FC?(e=this._cursor.getChars(t),this._cursor.advance(),r=this._cursor.clone()):r=t,this._requireCharCodeUntilFn(sA,""===e?0:1),[e,this._cursor.getChars(r)]}_consumeTagOpen(t){let e,n,r,i=this.tokens.length;const s=this._cursor.clone();try{if(!bx(this._cursor.peek()))throw this._createError(tA(this._cursor.peek()),this._cursor.getSpan(t));for(n=(r=this._consumeTagOpenStart(t)).parts[0],e=r.parts[1],this._attemptCharCodeUntilFn(iA);this._cursor.peek()!==LC&&this._cursor.peek()!==UC;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(iA),this._attemptCharCode(jC)&&(this._attemptCharCodeUntilFn(iA),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(iA);this._consumeTagOpenEnd()}catch(a){if(a instanceof nA)return this._cursor=s,r&&(this.tokens.length=i),this._beginToken(Qk.TEXT,t),void this._endToken(["<"]);throw a}const o=this._getTagDefinition(e).contentType;o===Q_.RAW_TEXT?this._consumeRawTextWithTagClose(n,e,!1):o===Q_.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,e,!0)}_consumeRawTextWithTagClose(t,e,n){this._consumeRawText(n,()=>!!this._attemptCharCode(BC)&&(!!this._attemptCharCode(LC)&&(this._attemptCharCodeUntilFn(iA),!!this._attemptStrCaseInsensitive(e)&&(this._attemptCharCodeUntilFn(iA),this._attemptCharCode(UC)))));this._beginToken(Qk.TAG_CLOSE),this._requireCharCodeUntilFn(t=>t===UC,3),this._cursor.advance(),this._endToken([t,e])}_consumeTagOpenStart(t){this._beginToken(Qk.TAG_OPEN_START,t);const e=this._consumePrefixAndName();return this._endToken(e)}_consumeAttributeName(){const t=this._cursor.peek();if(t===kC||t===CC)throw this._createError(tA(t),this._cursor.getSpan());this._beginToken(Qk.ATTR_NAME);const e=this._consumePrefixAndName();this._endToken(e)}_consumeAttributeValue(){let t;if(this._cursor.peek()===kC||this._cursor.peek()===CC){this._beginToken(Qk.ATTR_QUOTE);const e=this._cursor.peek();this._cursor.advance(),this._endToken([String.fromCodePoint(e)]),this._beginToken(Qk.ATTR_VALUE);const n=[];for(;this._cursor.peek()!==e;)n.push(this._readChar(!0));t=n.join(""),this._endToken([this._processCarriageReturns(t)]),this._beginToken(Qk.ATTR_QUOTE),this._cursor.advance(),this._endToken([String.fromCodePoint(e)])}else{this._beginToken(Qk.ATTR_VALUE);const e=this._cursor.clone();this._requireCharCodeUntilFn(sA,1),t=this._cursor.getChars(e),this._endToken([this._processCarriageReturns(t)])}}_consumeTagOpenEnd(){const t=this._attemptCharCode(LC)?Qk.TAG_OPEN_END_VOID:Qk.TAG_OPEN_END;this._beginToken(t),this._requireCharCode(UC),this._endToken([])}_consumeTagClose(t){this._beginToken(Qk.TAG_CLOSE,t),this._attemptCharCodeUntilFn(iA);const e=this._consumePrefixAndName();this._attemptCharCodeUntilFn(iA),this._requireCharCode(UC),this._endToken(e)}_consumeExpansionFormStart(){this._beginToken(Qk.EXPANSION_FORM_START),this._requireCharCode(px),this._endToken([]),this._expansionCaseStack.push(Qk.EXPANSION_FORM_START),this._beginToken(Qk.RAW_TEXT);const t=this._readUntil(PC);this._endToken([t]),this._requireCharCode(PC),this._attemptCharCodeUntilFn(iA),this._beginToken(Qk.RAW_TEXT);const e=this._readUntil(PC);this._endToken([e]),this._requireCharCode(PC),this._attemptCharCodeUntilFn(iA)}_consumeExpansionCaseStart(){this._beginToken(Qk.EXPANSION_CASE_VALUE);const t=this._readUntil(px).trim();this._endToken([t]),this._attemptCharCodeUntilFn(iA),this._beginToken(Qk.EXPANSION_CASE_EXP_START),this._requireCharCode(px),this._endToken([]),this._attemptCharCodeUntilFn(iA),this._expansionCaseStack.push(Qk.EXPANSION_CASE_EXP_START)}_consumeExpansionCaseEnd(){this._beginToken(Qk.EXPANSION_CASE_EXP_END),this._requireCharCode(fx),this._endToken([]),this._attemptCharCodeUntilFn(iA),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(Qk.EXPANSION_FORM_END),this._requireCharCode(fx),this._endToken([]),this._expansionCaseStack.pop()}_consumeText(){const t=this._cursor.clone();this._beginToken(Qk.TEXT,t);const e=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(e.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(e.push(this._interpolationConfig.end),this._inInterpolation=!1):e.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(e.join(""))])}_isTextEnd(){if(this._cursor.peek()===BC||this._cursor.peek()===mC)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(this._cursor.peek()===fx&&this._isInExpansionCase())return!0}return!1}_readUntil(t){const e=this._cursor.clone();return this._attemptUntilChar(t),this._cursor.getChars(e)}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Qk.EXPANSION_CASE_EXP_START}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Qk.EXPANSION_FORM_START}isExpansionFormStart(){if(this._cursor.peek()!==px)return!1;if(this._interpolationConfig){const t=this._cursor.clone(),e=this._attemptStr(this._interpolationConfig.start);return this._cursor=t,!e}return!0}}function iA(t){return!vx(t)||t===mC}function sA(t){return vx(t)||t===UC||t===LC||t===kC||t===CC||t===jC}function oA(t){return t==VC||t==mC||!function(t){return t>=nx&&t<=sx||t>=WC&&t<=GC||_x(t)}(t)}function aA(t){return t==VC||t==mC||!bx(t)}function lA(t){return t>=nx&&t<=dx?t-nx+WC:t}class cA{constructor(t,e){if(t instanceof cA)this.file=t.file,this.input=t.input,this.end=t.end,this.state=Object.assign({},t.state);else{if(!e)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=t,this.input=t.content,this.end=e.endPos,this.state={peek:-1,offset:e.startPos,line:e.startLine,column:e.startCol}}}clone(){return new cA(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(t){return this.state.offset-t.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(t,e){if(t=t||this,e)for(t=t.clone();this.diff(t)>0&&-1!==e.indexOf(t.peek());)t.advance();return new Sx(new Cx(t.file,t.state.offset,t.state.line,t.state.column),new Cx(this.file,this.state.offset,this.state.line,this.state.column))}getChars(t){return this.input.substring(t.state.offset,this.state.offset)}charAt(t){return this.input.charCodeAt(t)}advanceState(t){if(t.offset>=this.end)throw this.state=t,new hA('Unexpected character "EOF"',this);const e=this.charAt(t.offset);e===yC?(t.line++,t.column=0):wx(e)||t.column++,t.offset++,this.updatePeek(t)}updatePeek(t){t.peek=t.offset>=this.end?mC:this.charAt(t.offset)}}class uA extends cA{constructor(t,e){t instanceof uA?(super(t),this.internalState=Object.assign({},t.internalState)):(super(t,e),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new uA(this)}getChars(t){const e=t.clone();let n="";for(;e.internalState.offset<this.internalState.offset;)n+=String.fromCodePoint(e.peek()),e.advance();return n}processEscapeSequence(){const t=()=>this.internalState.peek;if(t()===ZC)if(this.internalState=Object.assign({},this.state),this.advanceState(this.internalState),t()===ox)this.state.peek=yC;else if(t()===ax)this.state.peek=bC;else if(t()===ux)this.state.peek=vC;else if(t()===lx)this.state.peek=gC;else if(t()===rx)this.state.peek=fC;else if(t()===sx)this.state.peek=_C;else if(t()===cx)if(this.advanceState(this.internalState),t()===px){this.advanceState(this.internalState);const e=this.clone();let n=0;for(;t()!==fx;)this.advanceState(this.internalState),n++;this.state.peek=this.decodeHexDigits(e,n)}else{const t=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(t,4)}else if(t()===hx){this.advanceState(this.internalState);const t=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(t,2)}else if(Ex(t())){let e="",n=0,r=this.clone();for(;Ex(t())&&n<3;)r=this.clone(),e+=String.fromCodePoint(t()),this.advanceState(this.internalState),n++;this.state.peek=parseInt(e,8),this.internalState=r.internalState}else wx(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(t,e){const n=this.input.substr(t.internalState.offset,e),r=parseInt(n,16);if(isNaN(r))throw t.state=t.internalState,new hA("Invalid hexadecimal escape sequence",t);return r}}class hA{constructor(t,e){this.msg=t,this.cursor=e}}class dA extends kx{constructor(t,e,n){super(e,n),this.elementName=t}static create(t,e,n){return new dA(t,e,n)}}class pA{constructor(t,e){this.rootNodes=t,this.errors=e}}class mA{constructor(t){this.getTagDefinition=t}parse(t,e,n){const r=function(t,e,n,r={}){return new rA(new xx(t,e),n,r).tokenize()}(t,e,this.getTagDefinition,n),i=new fA(r.tokens,this.getTagDefinition).build();return new pA(i.rootNodes,r.errors.concat(i.errors))}}class fA{constructor(t,e){this.tokens=t,this.getTagDefinition=e,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}build(){for(;this._peek.type!==Qk.EOF;)this._peek.type===Qk.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===Qk.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===Qk.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===Qk.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===Qk.TEXT||this._peek.type===Qk.RAW_TEXT||this._peek.type===Qk.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===Qk.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new pA(this._rootNodes,this._errors)}_advance(){const t=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],t}_advanceIf(t){return this._peek.type===t?this._advance():null}_consumeCdata(t){this._consumeText(this._advance()),this._advanceIf(Qk.CDATA_END)}_consumeComment(t){const e=this._advanceIf(Qk.RAW_TEXT);this._advanceIf(Qk.COMMENT_END);const n=null!=e?e.parts[0].trim():null;this._addToParent(new Kk(n,t.sourceSpan))}_consumeExpansion(t){const e=this._advance(),n=this._advance(),r=[];for(;this._peek.type===Qk.EXPANSION_CASE_VALUE;){const t=this._parseExpansionCase();if(!t)return;r.push(t)}if(this._peek.type!==Qk.EXPANSION_FORM_END)return void this._errors.push(dA.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));const i=new Sx(t.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new zk(e.parts[0],n.parts[0],r,i,e.sourceSpan)),this._advance()}_parseExpansionCase(){const t=this._advance();if(this._peek.type!==Qk.EXPANSION_CASE_EXP_START)return this._errors.push(dA.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;const e=this._advance(),n=this._collectExpansionExpTokens(e);if(!n)return null;const r=this._advance();n.push(new Yk(Qk.EOF,[],r.sourceSpan));const i=new fA(n,this.getTagDefinition).build();if(i.errors.length>0)return this._errors=this._errors.concat(i.errors),null;const s=new Sx(t.sourceSpan.start,r.sourceSpan.end),o=new Sx(e.sourceSpan.start,r.sourceSpan.end);return new $k(t.parts[0],i.rootNodes,s,t.sourceSpan,o)}_collectExpansionExpTokens(t){const e=[],n=[Qk.EXPANSION_CASE_EXP_START];for(;;){if(this._peek.type!==Qk.EXPANSION_FORM_START&&this._peek.type!==Qk.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===Qk.EXPANSION_CASE_EXP_END){if(!gA(n,Qk.EXPANSION_CASE_EXP_START))return this._errors.push(dA.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return e}if(this._peek.type===Qk.EXPANSION_FORM_END){if(!gA(n,Qk.EXPANSION_FORM_START))return this._errors.push(dA.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===Qk.EOF)return this._errors.push(dA.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;e.push(this._advance())}}_consumeText(t){let e=t.parts[0];if(e.length>0&&"\n"==e[0]){const t=this._getParentElement();null!=t&&0==t.children.length&&this.getTagDefinition(t.name).ignoreFirstLf&&(e=e.substring(1))}e.length>0&&this._addToParent(new qk(e,t.sourceSpan))}_closeVoidElement(){const t=this._getParentElement();t&&this.getTagDefinition(t.name).isVoid&&this._elementStack.pop()}_consumeStartTag(t){const e=t.parts[0],n=t.parts[1],r=[];for(;this._peek.type===Qk.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));const i=this._getElementFullName(e,n,this._getParentElement());let s=!1;if(this._peek.type===Qk.TAG_OPEN_END_VOID){this._advance(),s=!0;const e=this.getTagDefinition(i);e.canSelfClose||null!==tb(i)||e.isVoid||this._errors.push(dA.create(i,t.sourceSpan,`Only void and foreign elements can be self closed "${t.parts[1]}"`))}else this._peek.type===Qk.TAG_OPEN_END&&(this._advance(),s=!1);const o=this._peek.sourceSpan.start,a=new Sx(t.sourceSpan.start,o),l=new Wk(i,r,[],a,a,void 0);this._pushElement(l),s&&(this._popElement(i),l.endSourceSpan=a)}_pushElement(t){const e=this._getParentElement();e&&this.getTagDefinition(e.name).isClosedByChild(t.name)&&this._elementStack.pop(),this._addToParent(t),this._elementStack.push(t)}_consumeEndTag(t){const e=this._getElementFullName(t.parts[0],t.parts[1],this._getParentElement());if(this._getParentElement()&&(this._getParentElement().endSourceSpan=t.sourceSpan),this.getTagDefinition(e).isVoid)this._errors.push(dA.create(e,t.sourceSpan,`Void elements do not have end tags "${t.parts[1]}"`));else if(!this._popElement(e)){const n=`Unexpected closing tag "${e}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this._errors.push(dA.create(e,t.sourceSpan,n))}}_popElement(t){for(let e=this._elementStack.length-1;e>=0;e--){const n=this._elementStack[e];if(n.name==t)return this._elementStack.splice(e,this._elementStack.length-e),!0;if(!this.getTagDefinition(n.name).closedByParent)return!1}return!1}_consumeAttr(t){const e=eb(t.parts[0],t.parts[1]);let n=t.sourceSpan.end,r="",i=void 0;if(this._peek.type===Qk.ATTR_QUOTE&&this._advance(),this._peek.type===Qk.ATTR_VALUE){const t=this._advance();r=t.parts[0],n=t.sourceSpan.end,i=t.sourceSpan}if(this._peek.type===Qk.ATTR_QUOTE){n=this._advance().sourceSpan.end}return new Hk(e,r,new Sx(t.sourceSpan.start,n),i)}_getParentElement(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}_getParentElementSkippingContainers(){let t=null;for(let e=this._elementStack.length-1;e>=0;e--){if(!X_(this._elementStack[e].name))return{parent:this._elementStack[e],container:t};t=this._elementStack[e]}return{parent:null,container:t}}_addToParent(t){const e=this._getParentElement();null!=e?e.children.push(t):this._rootNodes.push(t)}_insertBeforeContainer(t,e,n){if(e){if(t){const r=t.children.indexOf(e);t.children[r]=n}else this._rootNodes.push(n);n.children.push(e),this._elementStack.splice(this._elementStack.indexOf(e),0,n)}else this._addToParent(n),this._elementStack.push(n)}_getElementFullName(t,e,n){return""===t&&""===(t=this.getTagDefinition(e).implicitNamespacePrefix||"")&&null!=n&&(t=tb(n.name)),eb(t,e)}}function gA(t,e){return t.length>0&&t[t.length-1]===e}class yA extends mA{constructor(){super(ab)}parse(t,e,n){return super.parse(t,e,n)}}const vA="ngPreserveWhitespaces",_A=new Set(["pre","template","textarea","script","style"]),bA=" \f\n\r\t\v\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff",wA=new RegExp(`[^${bA}]`),EA=new RegExp(`[${bA}]{2,}`,"g");function CA(t){return t.replace(new RegExp(rb,"g")," ")}class xA{visitElement(t,e){return _A.has(t.name)||t.attrs.some(t=>t.name===vA)?new Wk(t.name,Gk(this,t.attrs),t.children,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n):new Wk(t.name,t.attrs,Gk(this,t.children),t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}visitAttribute(t,e){return t.name!==vA?t:null}visitText(t,e){return t.value.match(wA)?new qk(CA(t.value).replace(EA," "),t.sourceSpan,t.i18n):null}visitComment(t,e){return t}visitExpansion(t,e){return t}visitExpansionCase(t,e){return t}}function SA(t){return new pA(Gk(new xA,t.rootNodes),t.errors)}const TA=["zero","one","two","few","many","other"];function IA(t){const e=new DA;return new kA(Gk(e,t),e.isExpanded,e.errors)}class kA{constructor(t,e,n){this.nodes=t,this.expanded=e,this.errors=n}}class AA extends kx{constructor(t,e){super(t,e)}}class DA{constructor(){this.isExpanded=!1,this.errors=[]}visitElement(t,e){return new Wk(t.name,t.attrs,Gk(this,t.children),t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}visitAttribute(t,e){return t}visitText(t,e){return t}visitComment(t,e){return t}visitExpansion(t,e){return this.isExpanded=!0,"plural"==t.type?function(t,e){const n=t.cases.map(t=>{-1!=TA.indexOf(t.value)||t.value.match(/^=\d+$/)||e.push(new AA(t.valueSourceSpan,`Plural cases should be "=<number>" or one of ${TA.join(", ")}`));const n=IA(t.expression);return e.push(...n.errors),new Wk("ng-template",[new Hk("ngPluralCase",`${t.value}`,t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan)}),r=new Hk("[ngPlural]",t.switchValue,t.switchValueSourceSpan);return new Wk("ng-container",[r],n,t.sourceSpan,t.sourceSpan,t.sourceSpan)}(t,this.errors):function(t,e){const n=t.cases.map(t=>{const n=IA(t.expression);return e.push(...n.errors),"other"===t.value?new Wk("ng-template",[new Hk("ngSwitchDefault","",t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan):new Wk("ng-template",[new Hk("ngSwitchCase",`${t.value}`,t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan)}),r=new Hk("[ngSwitch]",t.switchValue,t.switchValueSourceSpan);return new Wk("ng-container",[r],n,t.sourceSpan,t.sourceSpan,t.sourceSpan)}(t,this.errors)}visitExpansionCase(t,e){throw new Error("Should not be reached")}}class NA{constructor(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}visit(t,e){return t.visitText(this,e)}}class OA{constructor(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}visit(t,e){return t.visitBoundText(this,e)}}class PA{constructor(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}visit(t,e){return t.visitAttr(this,e)}}const RA={4:4,1:1,2:2,0:0,3:3};class MA{constructor(t,e,n,r,i,s){this.name=t,this.type=e,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.isAnimation=4===this.type}static fromBoundProperty(t){const e=RA[t.type];return new MA(t.name,e,t.securityContext,t.value,t.unit,t.sourceSpan)}visit(t,e){return t.visitElementProperty(this,e)}}class LA{constructor(t,e,n,r,i,s){this.name=t,this.target=e,this.phase=n,this.handler=r,this.sourceSpan=i,this.handlerSpan=s,this.fullName=LA.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}static calcFullName(t,e,n){return e?`${e}:${t}`:n?`@${t}.${n}`:t}static fromParsedEvent(t){const e=0===t.type?t.targetOrPhase:null,n=1===t.type?t.targetOrPhase:null;return new LA(t.name,e,n,t.handler,t.sourceSpan,t.handlerSpan)}visit(t,e){return t.visitEvent(this,e)}}class FA{constructor(t,e,n,r){this.name=t,this.value=e,this.originalValue=n,this.sourceSpan=r}visit(t,e){return t.visitReference(this,e)}}class VA{constructor(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}static fromParsedVariable(t){return new VA(t.name,t.value,t.sourceSpan)}visit(t,e){return t.visitVariable(this,e)}}class BA{constructor(t,e,n,r,i,s,o,a,l,c,u,h,d){this.name=t,this.attrs=e,this.inputs=n,this.outputs=r,this.references=i,this.directives=s,this.providers=o,this.hasViewContainer=a,this.queryMatches=l,this.children=c,this.ngContentIndex=u,this.sourceSpan=h,this.endSourceSpan=d}visit(t,e){return t.visitElement(this,e)}}class jA{constructor(t,e,n,r,i,s,o,a,l,c,u){this.attrs=t,this.outputs=e,this.references=n,this.variables=r,this.directives=i,this.providers=s,this.hasViewContainer=o,this.queryMatches=a,this.children=l,this.ngContentIndex=c,this.sourceSpan=u}visit(t,e){return t.visitEmbeddedTemplate(this,e)}}class UA{constructor(t,e,n,r){this.directiveName=t,this.templateName=e,this.value=n,this.sourceSpan=r}visit(t,e){return t.visitDirectiveProperty(this,e)}}class qA{constructor(t,e,n,r,i,s){this.directive=t,this.inputs=e,this.hostProperties=n,this.hostEvents=r,this.contentQueryStartId=i,this.sourceSpan=s}visit(t,e){return t.visitDirective(this,e)}}class zA{constructor(t,e,n,r,i,s,o,a){this.token=t,this.multiProvider=e,this.eager=n,this.providers=r,this.providerType=i,this.lifecycleHooks=s,this.sourceSpan=o,this.isModule=a}visit(t,e){return null}}var $A;!function(t){t[t.PublicService=0]="PublicService",t[t.PrivateService=1]="PrivateService",t[t.Component=2]="Component",t[t.Directive=3]="Directive",t[t.Builtin=4]="Builtin"}($A||($A={}));class HA{constructor(t,e,n){this.index=t,this.ngContentIndex=e,this.sourceSpan=n}visit(t,e){return t.visitNgContent(this,e)}}function WA(t,e,n=null){const r=[],i=t.visit?e=>t.visit(e,n)||e.visit(t,n):e=>e.visit(t,n);return e.forEach(t=>{const e=i(t);e&&r.push(e)}),r}class KA extends kx{constructor(t,e){super(e,t)}}class GA{constructor(t,e){this.reflector=t,this.component=e,this.errors=[],this.viewQueries=function(t){let e=1;const n=new Map;t.viewQueries&&t.viewQueries.forEach(t=>tD(n,{meta:t,queryId:e++}));return n}(e),this.viewProviders=new Map,e.viewProviders.forEach(t=>{null==this.viewProviders.get(tC(t.token))&&this.viewProviders.set(tC(t.token),!0)})}}class QA{constructor(t,e,n,r,i,s,o,a,l){this.viewContext=t,this._parent=e,this._isViewRoot=n,this._directiveAsts=r,this._sourceSpan=l,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},i.forEach(t=>this._attrs[t.name]=t.value);const c=r.map(t=>t.directive);if(this._allProviders=function(t,e,n){const r=new Map;return t.forEach(t=>{JA([{token:{identifier:t.type},useClass:t.type}],t.isComponent?$A.Component:$A.Directive,!0,e,n,r,!1)}),t.filter(t=>t.isComponent).concat(t.filter(t=>!t.isComponent)).forEach(t=>{JA(t.providers,$A.PublicService,!1,e,n,r,!1),JA(t.viewProviders,$A.PrivateService,!1,e,n,r,!1)}),r}(c,l,t.errors),this._contentQueries=function(t,e){let n=t;const r=new Map;return e.forEach((t,e)=>{t.queries&&t.queries.forEach(t=>tD(r,{meta:t,queryId:n++}))}),r}(a,c),Array.from(this._allProviders.values()).forEach(t=>{this._addQueryReadsTo(t.token,t.token,this._queriedTokens)}),o){const t=UE(this.viewContext.reflector,BE.TemplateRef);this._addQueryReadsTo(t,t,this._queriedTokens)}s.forEach(t=>{let e=t.value||UE(this.viewContext.reflector,BE.ElementRef);this._addQueryReadsTo({value:t.name},e,this._queriedTokens)}),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(BE.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach(t=>{(t.eager||this._queriedTokens.get(tC(t.token)))&&this._getOrCreateLocalProvider(t.providerType,t.token,!0)})}afterElement(){Array.from(this._allProviders.values()).forEach(t=>{this._getOrCreateLocalProvider(t.providerType,t.token,!1)})}get transformProviders(){const t=[],e=[];return this._transformedProviders.forEach(n=>{n.eager?e.push(n):t.push(n)}),t.concat(e)}get transformedDirectiveAsts(){const t=this.transformProviders.map(t=>t.token.identifier),e=this._directiveAsts.slice();return e.sort((e,n)=>t.indexOf(e.directive.type)-t.indexOf(n.directive.type)),e}get queryMatches(){const t=[];return this._queriedTokens.forEach(e=>{t.push(...e)}),t}_addQueryReadsTo(t,e,n){this._getQueriesFor(t).forEach(t=>{const r=t.meta.read||e,i=tC(r);let s=n.get(i);s||(s=[],n.set(i,s)),s.push({queryId:t.queryId,value:r})})}_getQueriesFor(t){const e=[];let n,r=this,i=0;for(;null!==r;)(n=r._contentQueries.get(tC(t)))&&e.push(...n.filter(t=>t.meta.descendants||i<=1)),r._directiveAsts.length>0&&i++,r=r._parent;return(n=this.viewContext.viewQueries.get(tC(t)))&&e.push(...n),e}_getOrCreateLocalProvider(t,e,n){const r=this._allProviders.get(tC(e));if(!r||(t===$A.Directive||t===$A.PublicService)&&r.providerType===$A.PrivateService||(t===$A.PrivateService||t===$A.PublicService)&&r.providerType===$A.Builtin)return null;let i=this._transformedProviders.get(tC(e));if(i)return i;if(null!=this._seenProviders.get(tC(e)))return this.viewContext.errors.push(new KA(`Cannot instantiate cyclic dependency! ${JE(e)}`,this._sourceSpan)),null;this._seenProviders.set(tC(e),!0);const s=r.providers.map(t=>{let e=t.useValue,i=t.useExisting,s=void 0;if(null!=t.useExisting){const s=this._getDependency(r.providerType,{token:t.useExisting},n);null!=s.token?i=s.token:(i=null,e=s.value)}else if(t.useFactory){s=(t.deps||t.useFactory.diDeps).map(t=>this._getDependency(r.providerType,t,n))}else if(t.useClass){s=(t.deps||t.useClass.diDeps).map(t=>this._getDependency(r.providerType,t,n))}return XA(t,{useExisting:i,useValue:e,deps:s})});return i=ZA(r,{eager:n,providers:s}),this._transformedProviders.set(tC(e),i),i}_getLocalDependency(t,e,n=!1){if(e.isAttribute){const t=this._attrs[e.token.value];return{isValue:!0,value:null==t?null:t}}if(null!=e.token){if(t===$A.Directive||t===$A.Component){if(tC(e.token)===this.viewContext.reflector.resolveExternalReference(BE.Renderer)||tC(e.token)===this.viewContext.reflector.resolveExternalReference(BE.ElementRef)||tC(e.token)===this.viewContext.reflector.resolveExternalReference(BE.ChangeDetectorRef)||tC(e.token)===this.viewContext.reflector.resolveExternalReference(BE.TemplateRef))return e;tC(e.token)===this.viewContext.reflector.resolveExternalReference(BE.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(tC(e.token)===this.viewContext.reflector.resolveExternalReference(BE.Injector))return e;if(null!=this._getOrCreateLocalProvider(t,e.token,n))return e}return null}_getDependency(t,e,n=!1){let r=this,i=n,s=null;if(e.isSkipSelf||(s=this._getLocalDependency(t,e,n)),e.isSelf)!s&&e.isOptional&&(s={isValue:!0,value:null});else{for(;!s&&r._parent;){const t=r;r=r._parent,t._isViewRoot&&(i=!1),s=r._getLocalDependency($A.PublicService,e,i)}s||(s=!e.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===tC(e.token)||null!=this.viewContext.viewProviders.get(tC(e.token))?e:e.isOptional?{isValue:!0,value:null}:null)}return s||this.viewContext.errors.push(new KA(`No provider for ${JE(e.token)}`,this._sourceSpan)),s}}class YA{constructor(t,e,n,r){this.reflector=t,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,e.transitiveModule.modules.forEach(t=>{JA([{token:{identifier:t},useClass:t}],$A.PublicService,!0,r,this._errors,this._allProviders,!0)}),JA(e.transitiveModule.providers.map(t=>t.provider).concat(n),$A.PublicService,!1,r,this._errors,this._allProviders,!1)}parse(){if(Array.from(this._allProviders.values()).forEach(t=>{this._getOrCreateLocalProvider(t.token,t.eager)}),this._errors.length>0){const t=this._errors.join("\n");throw new Error(`Provider parse errors:\n${t}`)}const t=[],e=[];return this._transformedProviders.forEach(n=>{n.eager?e.push(n):t.push(n)}),t.concat(e)}_getOrCreateLocalProvider(t,e){const n=this._allProviders.get(tC(t));if(!n)return null;let r=this._transformedProviders.get(tC(t));if(r)return r;if(null!=this._seenProviders.get(tC(t)))return this._errors.push(new KA(`Cannot instantiate cyclic dependency! ${JE(t)}`,n.sourceSpan)),null;this._seenProviders.set(tC(t),!0);const i=n.providers.map(t=>{let r=t.useValue,i=t.useExisting,s=void 0;if(null!=t.useExisting){const s=this._getDependency({token:t.useExisting},e,n.sourceSpan);null!=s.token?i=s.token:(i=null,r=s.value)}else if(t.useFactory){s=(t.deps||t.useFactory.diDeps).map(t=>this._getDependency(t,e,n.sourceSpan))}else if(t.useClass){s=(t.deps||t.useClass.diDeps).map(t=>this._getDependency(t,e,n.sourceSpan))}return XA(t,{useExisting:i,useValue:r,deps:s})});return r=ZA(n,{eager:e,providers:i}),this._transformedProviders.set(tC(t),r),r}_getDependency(t,e=!1,n){let r=!1;return t.isSkipSelf||null==t.token||(tC(t.token)===this.reflector.resolveExternalReference(BE.Injector)||tC(t.token)===this.reflector.resolveExternalReference(BE.ComponentFactoryResolver)?r=!0:null!=this._getOrCreateLocalProvider(t.token,e)&&(r=!0)),t}}function XA(t,{useExisting:e,useValue:n,deps:r}){return{token:t.token,useClass:t.useClass,useExisting:e,useFactory:t.useFactory,useValue:n,deps:r,multi:t.multi}}function ZA(t,{eager:e,providers:n}){return new zA(t.token,t.multiProvider,t.eager||e,n,t.providerType,t.lifecycleHooks,t.sourceSpan,t.isModule)}function JA(t,e,n,r,i,s,o){t.forEach(t=>{let a=s.get(tC(t.token));if(null!=a&&!!a.multiProvider!=!!t.multi&&i.push(new KA(`Mixing multi and non multi provider is not possible for token ${JE(a.token)}`,r)),a)t.multi||(a.providers.length=0),a.providers.push(t);else{const i=t.token.identifier&&t.token.identifier.lifecycleHooks?t.token.identifier.lifecycleHooks:[],l=!(t.useClass||t.useExisting||t.useFactory);a=new zA(t.token,!!t.multi,n||l,[t],e,i,r,o),s.set(tC(t.token),a)}})}function tD(t,e){e.meta.selectors.forEach(n=>{let r=t.get(tC(n));r||(r=[],t.set(tC(n),r)),r.push(e)})}class eD{constructor(t,e){this.style=t,this.styleUrls=e}}function nD(t){if(null==t||0===t.length||"/"==t[0])return!1;const e=t.match(sD);return null===e||"package"==e[1]||"asset"==e[1]}const rD=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,iD=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,sD=/^([^:\/?#]+):/,oD=".",aD="attr",lD="class",cD="style",uD="animate-";class hD{constructor(t,e,n,r,i){if(this._exprParser=t,this._interpolationConfig=e,this._schemaRegistry=n,this.errors=i,this.pipesByName=null,this._usedPipes=new Map,r){const t=new Map;r.forEach(e=>t.set(e.name,e)),this.pipesByName=t}}get interpolationConfig(){return this._interpolationConfig}getUsedPipes(){return Array.from(this._usedPipes.values())}createBoundHostProperties(t,e){if(t.hostProperties){const n=[];return Object.keys(t.hostProperties).forEach(r=>{const i=t.hostProperties[r];"string"==typeof i?this.parsePropertyBinding(r,i,!0,e,e.start.offset,void 0,[],n):this._reportError(`Value of the host property binding "${r}" needs to be a string representing an expression but got "${i}" (${typeof i})`,e)}),n}return null}createDirectiveHostPropertyAsts(t,e,n){const r=this.createBoundHostProperties(t,n);return r&&r.map(t=>this.createBoundElementProperty(e,t))}createDirectiveHostEventAsts(t,e){if(t.hostListeners){const n=[];return Object.keys(t.hostListeners).forEach(r=>{const i=t.hostListeners[r];"string"==typeof i?this.parseEvent(r,i,e,e,[],n):this._reportError(`Value of the host listener "${r}" needs to be a string representing an expression but got "${i}" (${typeof i})`,e)}),n}return null}parseInterpolation(t,e){const n=e.start.toString();try{const i=this._exprParser.parseInterpolation(t,n,e.start.offset,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,e),this._checkPipes(i,e),i}catch(r){return this._reportError(`${r}`,e),this._exprParser.wrapLiteralPrimitive("ERROR",n,e.start.offset)}}parseInlineTemplateBinding(t,e,n,r,i,s,o){const a=this._parseTemplateBindings(t,e,n);for(let l=0;l<a.length;l++){const t=a[l];t.keyIsVar?o.push(new WI(t.key,t.name,n)):t.expression?this._parsePropertyAst(t.key,t.expression,n,void 0,i,s):(i.push([t.key,""]),this.parseLiteralAttr(t.key,null,n,r,void 0,i,s))}}_parseTemplateBindings(t,e,n){const r=n.start.toString();try{const s=this._exprParser.parseTemplateBindings(t,e,r,n.start.offset);return this._reportExpressionParserErrors(s.errors,n),s.templateBindings.forEach(t=>{t.expression&&this._checkPipes(t.expression,n)}),s.warnings.forEach(t=>{this._reportError(t,n,Ix.WARNING)}),s.templateBindings}catch(i){return this._reportError(`${i}`,n),[]}}parseLiteralAttr(t,e,n,r,i,s,o){pD(t)?(t=t.substring(1),e&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,Ix.ERROR),this._parseAnimation(t,e,n,r,i,s,o)):o.push(new UI(t,this._exprParser.wrapLiteralPrimitive(e,"",r),qI.LITERAL_ATTR,n,i))}parsePropertyBinding(t,e,n,r,i,s,o,a){let l=!1;t.startsWith(uD)?(l=!0,t=t.substring(uD.length)):pD(t)&&(l=!0,t=t.substring(1)),l?this._parseAnimation(t,e,r,i,s,o,a):this._parsePropertyAst(t,this._parseBinding(e,n,s||r,i),r,s,o,a)}parsePropertyInterpolation(t,e,n,r,i,s){const o=this.parseInterpolation(e,r||n);return!!o&&(this._parsePropertyAst(t,o,n,r,i,s),!0)}_parsePropertyAst(t,e,n,r,i,s){i.push([t,e.source]),s.push(new UI(t,e,qI.DEFAULT,n,r))}_parseAnimation(t,e,n,r,i,s,o){const a=this._parseBinding(e||"undefined",!1,i||n,r);s.push([t,a.source]),o.push(new UI(t,a,qI.ANIMATION,n,i))}_parseBinding(t,e,n,r){const i=(n&&n.start||"(unknown)").toString();try{const o=e?this._exprParser.parseSimpleBinding(t,i,r,this._interpolationConfig):this._exprParser.parseBinding(t,i,r,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,n),this._checkPipes(o,n),o}catch(s){return this._reportError(`${s}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}createBoundElementProperty(t,e,n=!1,r=!0){if(e.isAnimation)return new KI(e.name,4,Vb.NONE,e.expression,null,e.sourceSpan,e.valueSpan);let i=null,s=void 0,o=null;const a=e.name.split(oD);let l=void 0;if(a.length>1)if(a[0]==aD){o=a[1],n||this._validatePropertyOrAttributeName(o,e.sourceSpan,!0),l=mD(this._schemaRegistry,t,o,!0);const r=o.indexOf(":");if(r>-1){const t=o.substring(0,r),e=o.substring(r+1);o=eb(t,e)}s=1}else a[0]==lD?(o=a[1],s=2,l=[Vb.NONE]):a[0]==cD&&(i=a.length>2?a[2]:null,o=a[1],s=3,l=[Vb.STYLE]);if(null===o){const i=this._schemaRegistry.getMappedPropName(e.name);o=r?i:e.name,l=mD(this._schemaRegistry,t,i,!1),s=0,n||this._validatePropertyOrAttributeName(i,e.sourceSpan,!1)}return new KI(o,s,l[0],e.expression,i,e.sourceSpan,e.valueSpan)}parseEvent(t,e,n,r,i,s){pD(t)?(t=t.substr(1),this._parseAnimationEvent(t,e,n,r,s)):this._parseRegularEvent(t,e,n,r,i,s)}calcPossibleSecurityContexts(t,e,n){const r=this._schemaRegistry.getMappedPropName(e);return mD(this._schemaRegistry,t,r,n)}_parseAnimationEvent(t,e,n,r,i){const s=dE(t,".",[t,""]);const o=s[0],a=s[1].toLowerCase();if(a)switch(a){case"start":case"done":const t=this._parseAction(e,r);i.push(new HI(o,a,1,t,n,r));break;default:this._reportError(`The provided animation output phase value "${a}" for "@${o}" is not supported (use start or done)`,n)}else this._reportError(`The animation trigger output event (@${o}) is missing its phase value name (start or done are currently supported)`,n)}_parseRegularEvent(t,e,n,r,i,s){const[o,a]=hE(t,[null,t]),l=this._parseAction(e,r);i.push([t,l.source]),s.push(new HI(a,o,0,l,n,r))}_parseAction(t,e){const n=(e&&e.start||"(unknown").toString(),r=e&&e.start?e.start.offset:0;try{const s=this._exprParser.parseAction(t,n,r,this._interpolationConfig);return s&&this._reportExpressionParserErrors(s.errors,e),!s||s.ast instanceof fI?(this._reportError("Empty expressions are not allowed",e),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)):(this._checkPipes(s,e),s)}catch(i){return this._reportError(`${i}`,e),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}_reportError(t,e,n=Ix.ERROR){this.errors.push(new kx(e,t,n))}_reportExpressionParserErrors(t,e){for(const n of t)this._reportError(n.message,e)}_checkPipes(t,e){if(t&&this.pipesByName){const n=new dD;t.visit(n),n.pipes.forEach((t,n)=>{const r=this.pipesByName.get(n);r?this._usedPipes.set(n,r):this._reportError(`The pipe '${n}' could not be found`,new Sx(e.start.moveBy(t.span.start),e.start.moveBy(t.span.end)))})}}_validatePropertyOrAttributeName(t,e,n){const r=n?this._schemaRegistry.validateAttribute(t):this._schemaRegistry.validateProperty(t);r.error&&this._reportError(r.msg,e,Ix.ERROR)}}class dD extends VI{constructor(){super(...arguments),this.pipes=new Map}visitPipe(t,e){return this.pipes.set(t.name,t),t.exp.visit(this),this.visitAll(t.args,e),null}}function pD(t){return"@"==t[0]}function mD(t,e,n,r){const i=[];return cb.parse(e).forEach(e=>{const s=e.element?[e.element]:t.allKnownElementNames(),o=new Set(e.notSelectors.filter(t=>t.isElementSelector()).map(t=>t.element)),a=s.filter(t=>!o.has(t));i.push(...a.map(e=>t.securityContext(e,n,r)))}),0===i.length?[Vb.NONE]:Array.from(new Set(i)).sort()}const fD="select",gD="link",yD="rel",vD="href",_D="stylesheet",bD="style",wD="script",ED="ngNonBindable",CD="ngProjectAs";function xD(t){let e=null,n=null,r=null,i=!1,s="";t.attrs.forEach(t=>{const o=t.name.toLowerCase();o==fD?e=t.value:o==vD?n=t.value:o==yD?r=t.value:t.name==ED?i=!0:t.name==CD&&t.value.length>0&&(s=t.value)}),e=function(t){if(null===t||0===t.length)return"*";return t}(e);const o=t.name.toLowerCase();let a=SD.OTHER;return Z_(o)?a=SD.NG_CONTENT:o==bD?a=SD.STYLE:o==wD?a=SD.SCRIPT:o==gD&&r==_D&&(a=SD.STYLESHEET),new TD(a,e,n,i,s)}var SD;!function(t){t[t.NG_CONTENT=0]="NG_CONTENT",t[t.STYLE=1]="STYLE",t[t.STYLESHEET=2]="STYLESHEET",t[t.SCRIPT=3]="SCRIPT",t[t.OTHER=4]="OTHER"}(SD||(SD={}));class TD{constructor(t,e,n,r,i){this.type=t,this.selectAttr=e,this.hrefAttr=n,this.nonBindable=r,this.projectAs=i}}const ID=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,kD=1,AD=2,DD=3,ND=4,OD=5,PD=6,RD=7,MD=8,LD=9,FD=10,VD="*",BD="class";let jD;function UD(){return jD||(jD=cb.parse("*")[0]),jD}class qD extends kx{constructor(t,e,n){super(e,t,n)}}class zD{constructor(t,e,n){this.templateAst=t,this.usedPipes=e,this.errors=n}}class $D{constructor(t,e,n,r,i,s,o){this._config=t,this._reflector=e,this._exprParser=n,this._schemaRegistry=r,this._htmlParser=i,this._console=s,this.transforms=o}get expressionParser(){return this._exprParser}parse(t,e,n,r,i,s,o){const a=this.tryParse(t,e,n,r,i,s,o),l=a.errors.filter(t=>t.level===Ix.WARNING),c=a.errors.filter(t=>t.level===Ix.ERROR);if(l.length>0&&this._console.warn(`Template parse warnings:\n${l.join("\n")}`),c.length>0){throw _E(`Template parse errors:\n${c.join("\n")}`,c)}return{template:a.templateAst,pipes:a.usedPipes}}tryParse(t,e,n,r,i,s,o){let a="string"==typeof e?this._htmlParser.parse(e,s,{tokenizeExpansionForms:!0,interpolationConfig:this.getInterpolationConfig(t)}):e;return o||(a=SA(a)),this.tryParseHtml(this.expandHtml(a),t,n,r,i)}tryParseHtml(t,e,n,r,i){let s;const o=t.errors,a=[];if(t.rootNodes.length>0){const l=ZD(n),c=ZD(r),u=new GA(this._reflector,e);let h=void 0;e.template&&e.template.interpolation&&(h={start:e.template.interpolation[0],end:e.template.interpolation[1]});const d=new hD(this._exprParser,h,this._schemaRegistry,c,o),p=new HD(this._reflector,this._config,u,l,d,this._schemaRegistry,i,o);s=Gk(p,t.rootNodes,QD),o.push(...u.errors),a.push(...d.getUsedPipes())}else s=[];return this._assertNoReferenceDuplicationOnTemplate(s,o),o.length>0?new zD(s,a,o):(this.transforms&&this.transforms.forEach(t=>{s=WA(t,s)}),new zD(s,a,o))}expandHtml(t,e=!1){const n=t.errors;if(0==n.length||e){const e=IA(t.rootNodes);n.push(...e.errors),t=new pA(e.nodes,n)}return t}getInterpolationConfig(t){if(t.template)return BT.fromArray(t.template.interpolation)}_assertNoReferenceDuplicationOnTemplate(t,e){const n=[];t.filter(t=>!!t.references).forEach(t=>t.references.forEach(t=>{const r=t.name;if(n.indexOf(r)<0)n.push(r);else{const n=new qD(`Reference "#${r}" is defined several times`,t.sourceSpan,Ix.ERROR);e.push(n)}}))}}class HD{constructor(t,e,n,r,i,s,o,a){this.reflector=t,this.config=e,this.providerViewContext=n,this._bindingParser=i,this._schemaRegistry=s,this._schemas=o,this._targetErrors=a,this.selectorMatcher=new ub,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=n.component.viewQueries.length+1,r.forEach((t,e)=>{const n=cb.parse(t.selector);this.selectorMatcher.addSelectables(n,t),this.directivesIndex.set(t,e)})}visitExpansion(t,e){return null}visitExpansionCase(t,e){return null}visitText(t,e){const n=e.findNgContentIndex(UD()),r=CA(t.value),i=this._bindingParser.parseInterpolation(r,t.sourceSpan);return i?new OA(i,n,t.sourceSpan):new NA(r,n,t.sourceSpan)}visitAttribute(t,e){return new PA(t.name,t.value,t.sourceSpan)}visitComment(t,e){return null}visitElement(t,e){const n=this.contentQueryStartId,r=t.name,i=xD(t);if(i.type===SD.SCRIPT||i.type===SD.STYLE)return null;if(i.type===SD.STYLESHEET&&nD(i.hrefAttr))return null;const s=[],o=[],a=[],l=[],c=[],u=[],h=[],d=[];let p=!1;const m=[],f=J_(t.name);t.attrs.forEach(t=>{const e=this._parseAttr(f,t,s,o,c,a,l);let n,r;l.push(...[].map(t=>VA.fromParsedVariable(t)));const i=this._normalizeAttributeName(t.name);i.startsWith(VD)&&(n=t.value,r=i.substring(VD.length));const g=null!=n;if(g){p&&this._reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",t.sourceSpan),p=!0;const e=[];this._bindingParser.parseInlineTemplateBinding(r,n,t.sourceSpan,t.sourceSpan.start.offset,h,u,e),d.push(...e.map(t=>VA.fromParsedVariable(t)))}e||g||(m.push(this.visitAttribute(t,null)),s.push([t.name,t.value]))});const g=GD(r,s),{directives:y,matchElement:v}=this._parseDirectives(this.selectorMatcher,g),_=[],b=new Set,w=this._createDirectiveAsts(f,t.name,y,o,a,t.sourceSpan,_,b),E=this._createElementPropertyAsts(t.name,o,b),C=e.isTemplateElement||p,x=new QA(this.providerViewContext,e.providerContext,C,w,m,_,f,n,t.sourceSpan),S=Gk(i.nonBindable?YD:this,t.children,KD.create(f,w,f?e.providerContext:x));x.afterElement();const T=""!=i.projectAs?cb.parse(i.projectAs)[0]:g,I=e.findNgContentIndex(T);let k;if(i.type===SD.NG_CONTENT)t.children&&!t.children.every(XD)&&this._reportError("<ng-content> element cannot have content.",t.sourceSpan),k=new HA(this.ngContentCount++,p?null:I,t.sourceSpan);else if(f)this._assertAllEventsPublishedByDirectives(w,c),this._assertNoComponentsNorElementBindingsOnTemplate(w,E,t.sourceSpan),k=new jA(m,c,_,l,x.transformedDirectiveAsts,x.transformProviders,x.transformedHasViewContainer,x.queryMatches,S,p?null:I,t.sourceSpan);else{this._assertElementExists(v,t),this._assertOnlyOneComponent(w,t.sourceSpan);const n=p?null:e.findNgContentIndex(T);k=new BA(r,m,E,c,_,x.transformedDirectiveAsts,x.transformProviders,x.transformedHasViewContainer,x.queryMatches,S,p?null:n,t.sourceSpan,t.endSourceSpan||null)}if(p){const n=this.contentQueryStartId,i=GD("ng-template",h),{directives:s}=this._parseDirectives(this.selectorMatcher,i),o=new Set,a=this._createDirectiveAsts(!0,r,s,u,[],t.sourceSpan,[],o),l=this._createElementPropertyAsts(r,u,o);this._assertNoComponentsNorElementBindingsOnTemplate(a,l,t.sourceSpan);const c=new QA(this.providerViewContext,e.providerContext,e.isTemplateElement,a,[],[],!0,n,t.sourceSpan);c.afterElement(),k=new jA([],[],[],d,c.transformedDirectiveAsts,c.transformProviders,c.transformedHasViewContainer,c.queryMatches,[k],I,t.sourceSpan)}return k}_parseAttr(t,e,n,r,i,s,o){const a=this._normalizeAttributeName(e.name),l=e.value,c=e.sourceSpan,u=e.valueSpan?e.valueSpan.start.offset:c.start.offset,h=[],d=a.match(ID);let p=!1;if(null!==d)if(p=!0,null!=d[kD])this._bindingParser.parsePropertyBinding(d[RD],l,!1,c,u,e.valueSpan,n,r);else if(d[AD])if(t){const t=d[RD];this._parseVariable(t,l,c,o)}else this._reportError('"let-" is only supported on ng-template elements.',c);else if(d[DD]){const t=d[RD];this._parseReference(t,l,c,s)}else d[ND]?this._bindingParser.parseEvent(d[RD],l,c,e.valueSpan||c,n,h):d[OD]?(this._bindingParser.parsePropertyBinding(d[RD],l,!1,c,u,e.valueSpan,n,r),this._parseAssignmentEvent(d[RD],l,c,e.valueSpan||c,n,h)):d[PD]?this._bindingParser.parseLiteralAttr(a,l,c,u,e.valueSpan,n,r):d[MD]?(this._bindingParser.parsePropertyBinding(d[MD],l,!1,c,u,e.valueSpan,n,r),this._parseAssignmentEvent(d[MD],l,c,e.valueSpan||c,n,h)):d[LD]?this._bindingParser.parsePropertyBinding(d[LD],l,!1,c,u,e.valueSpan,n,r):d[FD]&&this._bindingParser.parseEvent(d[FD],l,c,e.valueSpan||c,n,h);else p=this._bindingParser.parsePropertyInterpolation(a,l,c,e.valueSpan,n,r);return p||this._bindingParser.parseLiteralAttr(a,l,c,u,e.valueSpan,n,r),i.push(...h.map(t=>LA.fromParsedEvent(t))),p}_normalizeAttributeName(t){return/^data-/i.test(t)?t.substring(5):t}_parseVariable(t,e,n,r){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',n),r.push(new VA(t,e,n))}_parseReference(t,e,n,r){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',n),r.push(new WD(t,e,n))}_parseAssignmentEvent(t,e,n,r,i,s){this._bindingParser.parseEvent(`${t}Change`,`${e}=$event`,n,r,i,s)}_parseDirectives(t,e){const n=new Array(this.directivesIndex.size);let r=!1;return t.match(e,(t,e)=>{n[this.directivesIndex.get(e)]=e,r=r||t.hasElementSelector()}),{directives:n.filter(t=>!!t),matchElement:r}}_createDirectiveAsts(t,e,n,r,i,s,o,a){const l=new Set;let c=null;const u=n.map(t=>{const n=new Sx(s.start,s.end,`Directive ${KE(t.type)}`);t.isComponent&&(c=t);const u=[];let h=this._bindingParser.createDirectiveHostPropertyAsts(t,e,n).map(t=>MA.fromBoundProperty(t));h=this._checkPropertiesInSchema(e,h);const d=this._bindingParser.createDirectiveHostEventAsts(t,n);this._createDirectivePropertyAsts(t.inputs,r,u,a),i.forEach(e=>{(0===e.value.length&&t.isComponent||e.isReferenceToDirective(t))&&(o.push(new FA(e.name,jE(t.type.reference),e.value,e.sourceSpan)),l.add(e.name))});const p=d.map(t=>LA.fromParsedEvent(t)),m=this.contentQueryStartId;return this.contentQueryStartId+=t.queries.length,new qA(t,u,h,p,m,n)});return i.forEach(e=>{if(e.value.length>0)l.has(e.name)||this._reportError(`There is no directive with "exportAs" set to "${e.value}"`,e.sourceSpan);else if(!c){let n=null;t&&(n=UE(this.reflector,BE.TemplateRef)),o.push(new FA(e.name,n,e.value,e.sourceSpan))}}),u}_createDirectivePropertyAsts(t,e,n,r){if(t){const i=new Map;e.forEach(t=>{const e=i.get(t.name);e&&!e.isLiteral||i.set(t.name,t)}),Object.keys(t).forEach(e=>{const s=t[e],o=i.get(s);o&&(r.add(o.name),JD(o.expression)||n.push(new UA(e,o.name,o.expression,o.sourceSpan)))})}}_createElementPropertyAsts(t,e,n){const r=[];return e.forEach(e=>{if(!e.isLiteral&&!n.has(e.name)){const n=this._bindingParser.createBoundElementProperty(t,e);r.push(MA.fromBoundProperty(n))}}),this._checkPropertiesInSchema(t,r)}_findComponentDirectives(t){return t.filter(t=>t.directive.isComponent)}_findComponentDirectiveNames(t){return this._findComponentDirectives(t).map(t=>KE(t.directive.type))}_assertOnlyOneComponent(t,e){const n=this._findComponentDirectiveNames(t);n.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\n"+`Conflicting components: ${n.join(",")}`,e)}_assertElementExists(t,e){const n=e.name.replace(/^:xhtml:/,"");if(!t&&!this._schemaRegistry.hasElement(n,this._schemas)){let t=`'${n}' is not a known element:\n`;t+=`1. If '${n}' is an Angular component, then verify that it is part of this module.\n`,n.indexOf("-")>-1?t+=`2. If '${n}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`:t+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(t,e.sourceSpan)}}_assertNoComponentsNorElementBindingsOnTemplate(t,e,n){const r=this._findComponentDirectiveNames(t);r.length>0&&this._reportError(`Components on an embedded template: ${r.join(",")}`,n),e.forEach(t=>{this._reportError(`Property binding ${t.name} not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".`,n)})}_assertAllEventsPublishedByDirectives(t,e){const n=new Set;t.forEach(t=>{Object.keys(t.directive.outputs).forEach(e=>{const r=t.directive.outputs[e];n.add(r)})}),e.forEach(t=>{null==t.target&&n.has(t.name)||this._reportError(`Event binding ${t.fullName} not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".`,t.sourceSpan)})}_checkPropertiesInSchema(t,e){return e.filter(e=>{if(0===e.type&&!this._schemaRegistry.hasProperty(t,e.name,this._schemas)){let n=`Can't bind to '${e.name}' since it isn't a known property of '${t}'.`;t.startsWith("ng-")?n+=`\n1. If '${e.name}' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.`+"\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":t.indexOf("-")>-1&&(n+=`\n1. If '${t}' is an Angular component and it has '${e.name}' input, then verify that it is part of this module.`+`\n2. If '${t}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`+"\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),this._reportError(n,e.sourceSpan)}return!JD(e.value)})}_reportError(t,e,n=Ix.ERROR){this._targetErrors.push(new kx(e,t,n))}}class WD{constructor(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}isReferenceToDirective(t){return-1!==(e=t.exportAs,e?e.split(",").map(t=>t.trim()):[]).indexOf(this.value);var e}}class KD{constructor(t,e,n,r){this.isTemplateElement=t,this._ngContentIndexMatcher=e,this._wildcardNgContentIndex=n,this.providerContext=r}static create(t,e,n){const r=new ub;let i=null;const s=e.find(t=>t.directive.isComponent);if(s){const t=s.directive.template.ngContentSelectors;for(let e=0;e<t.length;e++){"*"===t[e]?i=e:r.addSelectables(cb.parse(t[e]),e)}}return new KD(t,r,i,n)}findNgContentIndex(t){const e=[];return this._ngContentIndexMatcher.match(t,(t,n)=>{e.push(n)}),e.sort(),null!=this._wildcardNgContentIndex&&e.push(this._wildcardNgContentIndex),e.length>0?e[0]:null}}function GD(t,e){const n=new cb,r=Y_(t)[1];n.setElement(r);for(let i=0;i<e.length;i++){const t=e[i][0],r=Y_(t)[1],s=e[i][1];if(n.addAttribute(r,s),t.toLowerCase()==BD){s.trim().split(/\s+/g).forEach(t=>n.addClassName(t))}}return n}const QD=new KD(!0,new ub,null,null),YD=new class{visitElement(t,e){const n=xD(t);if(n.type===SD.SCRIPT||n.type===SD.STYLE||n.type===SD.STYLESHEET)return null;const r=t.attrs.map(t=>[t.name,t.value]),i=GD(t.name,r),s=e.findNgContentIndex(i),o=Gk(this,t.children,QD);return new BA(t.name,Gk(this,t.attrs),[],[],[],[],[],!1,[],o,s,t.sourceSpan,t.endSourceSpan)}visitComment(t,e){return null}visitAttribute(t,e){return new PA(t.name,t.value,t.sourceSpan)}visitText(t,e){const n=e.findNgContentIndex(UD());return new NA(t.value,n,t.sourceSpan)}visitExpansion(t,e){return t}visitExpansionCase(t,e){return t}};function XD(t){return t instanceof qk&&0==t.value.trim().length}function ZD(t){const e=new Map;return t.forEach(t=>{e.get(t.type.reference)||e.set(t.type.reference,t)}),Array.from(e.values())}function JD(t){return t instanceof LI&&(t=t.ast),t instanceof fI}function tN(t){const e=t.charCodeAt(0);if(e==t.charCodeAt(t.length-1)&&(39==e||34==e)){const e=t.substring(1,t.length-1);-1==e.indexOf("'")&&-1==e.indexOf('"')&&(t=e)}return t}function eN(t){return t.replace(/[a-z][A-Z]/g,t=>t.charAt(0)+"-"+t.charAt(1)).toLowerCase()}const nN="!important";class rN{constructor(t,e){this._elementIndexExpr=t,this._directiveExpr=e,this._hasInitialValues=!1,this.hasBindings=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[],this._useDefaultSanitizer=!1}registerBoundInput(t){let e=null,n=t.name;switch(t.type){case 0:e=this.registerInputBasedOnName(n,t.value,t.sourceSpan);break;case 3:e=this.registerStyleInput(n,!1,t.value,t.sourceSpan,t.unit);break;case 2:e=this.registerClassInput(n,!1,t.value,t.sourceSpan)}return!!e}registerInputBasedOnName(t,e,n){let r=null;const i=t.substring(0,5),s="style"===i;if(s||!s&&"class"===i){const i="."!==t.charAt(5),o=t.substr(i?5:6);r=s?this.registerStyleInput(o,i,e,n):this.registerClassInput(o,i,e,n)}return r}registerStyleInput(t,e,n,r,i){if(JD(n))return null;t=eN(t);const{property:s,hasOverrideFlag:o,unit:a}=sN(t),l={name:s,unit:i||a,value:n,sourceSpan:r,hasOverrideFlag:o};return e?(this._useDefaultSanitizer=!0,this._styleMapInput=l):((this._singleStyleInputs=this._singleStyleInputs||[]).push(l),this._useDefaultSanitizer=this._useDefaultSanitizer||function(t){return"background-image"===t||"backgroundImage"===t||"background"===t||"border-image"===t||"borderImage"===t||"filter"===t||"list-style"===t||"listStyle"===t||"list-style-image"===t||"listStyleImage"===t||"clip-path"===t||"clipPath"===t}(t),iN(this._stylesIndex,s)),this._lastStylingInput=l,this._firstStylingInput=this._firstStylingInput||l,this.hasBindings=!0,l}registerClassInput(t,e,n,r){if(JD(n))return null;const{property:i,hasOverrideFlag:s}=sN(t),o={name:i,value:n,sourceSpan:r,hasOverrideFlag:s,unit:null};return e?this._classMapInput=o:((this._singleClassInputs=this._singleClassInputs||[]).push(o),iN(this._classesIndex,i)),this._lastStylingInput=o,this._firstStylingInput=this._firstStylingInput||o,this.hasBindings=!0,o}registerStyleAttr(t){this._initialStyleValues=function(t){const e=[];let n=0,r=0,i=0,s=0,o=0,a=null,l=!1;for(;n<t.length;){switch(t.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:l=l||s>0,0===i?i=39:39===i&&92!==t.charCodeAt(n-1)&&(i=0);break;case 34:l=l||s>0,0===i?i=34:34===i&&92!==t.charCodeAt(n-1)&&(i=0);break;case 58:a||0!==r||0!==i||(a=eN(t.substring(o,n-1).trim()),s=n);break;case 59:if(a&&s>0&&0===r&&0===i){const r=t.substring(s,n-1).trim();e.push(a,l?tN(r):r),o=n,s=0,a=null,l=!1}}}if(a&&s){const n=t.substr(s).trim();e.push(a,l?tN(n):n)}return e}(t),this._hasInitialValues=!0}registerClassAttr(t){this._initialClassValues=t.trim().split(/\s+/g),this._hasInitialValues=!0}populateInitialStylingAttrs(t){if(this._initialClassValues.length){t.push(lE(1));for(let e=0;e<this._initialClassValues.length;e++)t.push(lE(this._initialClassValues[e]))}if(this._initialStyleValues.length){t.push(lE(2));for(let e=0;e<this._initialStyleValues.length;e+=2)t.push(lE(this._initialStyleValues[e]),lE(this._initialStyleValues[e+1]))}}buildHostAttrsInstruction(t,e,n){return this._directiveExpr&&(e.length||this._hasInitialValues)?{sourceSpan:t,reference:pC.elementHostAttrs,allocateBindingSlots:0,params:()=>{return this.populateInitialStylingAttrs(e),[e.some(t=>t instanceof cw)?iE(e):function(t,e){return e.length?t.getConstLiteral(iE(e),!0):Nw}(n,e)]}}:null}buildStylingInstruction(t,e){return this.hasBindings?{sourceSpan:t,allocateBindingSlots:0,reference:pC.styling,params:()=>[]}:null}buildClassMapInstruction(t){return this._classMapInput?this._buildMapBasedInstruction(t,!0,this._classMapInput):null}buildStyleMapInstruction(t){return this._styleMapInput?this._buildMapBasedInstruction(t,!1,this._styleMapInput):null}_buildMapBasedInstruction(t,e,n){let r=1;const i=n.value.visit(t);let s;return i instanceof kI&&e?(r+=i.expressions.length,s=function(t){switch(xT(t)){case 1:return pC.classMap;case 3:return pC.classMapInterpolate1;case 5:return pC.classMapInterpolate2;case 7:return pC.classMapInterpolate3;case 9:return pC.classMapInterpolate4;case 11:return pC.classMapInterpolate5;case 13:return pC.classMapInterpolate6;case 15:return pC.classMapInterpolate7;case 17:return pC.classMapInterpolate8;default:return pC.classMapInterpolateV}}(i)):s=e?pC.classMap:pC.styleMap,{sourceSpan:n.sourceSpan,reference:s,allocateBindingSlots:r,supportsInterpolation:e,params:t=>{const e=t(i);return Array.isArray(e)?e:[e]}}}_buildSingleInputs(t,e,n,r,i,s){return e.map(e=>{const n=e.value.visit(i);let o=1;return n instanceof kI&&(o+=n.expressions.length,s&&(t=s(n))),{sourceSpan:e.sourceSpan,supportsInterpolation:!!s,allocateBindingSlots:o,reference:t,params:t=>{const i=[];i.push(lE(e.name));const s=t(n);return Array.isArray(s)?i.push(...s):i.push(s),r&&e.unit&&i.push(lE(e.unit)),i}}})}_buildClassInputs(t){return this._singleClassInputs?this._buildSingleInputs(pC.classProp,this._singleClassInputs,this._classesIndex,!1,t):[]}_buildStyleInputs(t){return this._singleStyleInputs?this._buildSingleInputs(pC.styleProp,this._singleStyleInputs,this._stylesIndex,!0,t,oN):[]}_buildApplyFn(){return{sourceSpan:this._lastStylingInput?this._lastStylingInput.sourceSpan:null,reference:pC.stylingApply,allocateBindingSlots:0,params:()=>[]}}_buildSanitizerFn(){return{sourceSpan:this._firstStylingInput?this._firstStylingInput.sourceSpan:null,reference:pC.styleSanitizer,allocateBindingSlots:0,params:()=>[eE(pC.defaultStyleSanitizer)]}}buildUpdateLevelInstructions(t){const e=[];if(this.hasBindings){this._useDefaultSanitizer&&e.push(this._buildSanitizerFn());const n=this.buildStyleMapInstruction(t);n&&e.push(n);const r=this.buildClassMapInstruction(t);r&&e.push(r),e.push(...this._buildStyleInputs(t)),e.push(...this._buildClassInputs(t)),e.push(this._buildApplyFn())}return e}}function iN(t,e){t.has(e)||t.set(e,t.size)}function sN(t){let e=!1;const n=t.indexOf(nN);-1!==n&&(t=n>0?t.substring(0,n):"",e=!0);let r="",i=t;const s=t.lastIndexOf(".");return s>0&&(r=t.substr(s+1),i=t.substring(0,s)),{property:i,unit:r,hasOverrideFlag:e}}function oN(t){switch(xT(t)){case 1:return pC.styleProp;case 3:return pC.stylePropInterpolate1;case 5:return pC.stylePropInterpolate2;case 7:return pC.stylePropInterpolate3;case 9:return pC.stylePropInterpolate4;case 11:return pC.stylePropInterpolate5;case 13:return pC.stylePropInterpolate6;case 15:return pC.stylePropInterpolate7;case 17:return pC.stylePropInterpolate8;default:return pC.stylePropInterpolateV}}var aN;!function(t){t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.Keyword=2]="Keyword",t[t.String=3]="String",t[t.Operator=4]="Operator",t[t.Number=5]="Number",t[t.Error=6]="Error"}(aN||(aN={}));const lN=["var","let","as","null","undefined","true","false","if","else","this"];class cN{tokenize(t){const e=new mN(t),n=[];let r=e.scanToken();for(;null!=r;)n.push(r),r=e.scanToken();return n}}class uN{constructor(t,e,n,r){this.index=t,this.type=e,this.numValue=n,this.strValue=r}isCharacter(t){return this.type==aN.Character&&this.numValue==t}isNumber(){return this.type==aN.Number}isString(){return this.type==aN.String}isOperator(t){return this.type==aN.Operator&&this.strValue==t}isIdentifier(){return this.type==aN.Identifier}isKeyword(){return this.type==aN.Keyword}isKeywordLet(){return this.type==aN.Keyword&&"let"==this.strValue}isKeywordAs(){return this.type==aN.Keyword&&"as"==this.strValue}isKeywordNull(){return this.type==aN.Keyword&&"null"==this.strValue}isKeywordUndefined(){return this.type==aN.Keyword&&"undefined"==this.strValue}isKeywordTrue(){return this.type==aN.Keyword&&"true"==this.strValue}isKeywordFalse(){return this.type==aN.Keyword&&"false"==this.strValue}isKeywordThis(){return this.type==aN.Keyword&&"this"==this.strValue}isError(){return this.type==aN.Error}toNumber(){return this.type==aN.Number?this.numValue:-1}toString(){switch(this.type){case aN.Character:case aN.Identifier:case aN.Keyword:case aN.Operator:case aN.String:case aN.Error:return this.strValue;case aN.Number:return this.numValue.toString();default:return null}}}function hN(t,e){return new uN(t,aN.Character,e,String.fromCharCode(e))}function dN(t,e){return new uN(t,aN.Operator,0,e)}const pN=new uN(-1,aN.Character,0,"");class mN{constructor(t){this.input=t,this.peek=0,this.index=-1,this.length=t.length,this.advance()}advance(){this.peek=++this.index>=this.length?mC:this.input.charCodeAt(this.index)}scanToken(){const t=this.input,e=this.length;let n=this.peek,r=this.index;for(;n<=wC;){if(++r>=e){n=mC;break}n=t.charCodeAt(r)}if(this.peek=n,this.index=r,r>=e)return null;if(fN(n))return this.scanIdentifier();if(_x(n))return this.scanNumber(r);const i=r;switch(n){case MC:return this.advance(),_x(this.peek)?this.scanNumber(i):hN(i,MC);case AC:case DC:case px:case fx:case XC:case JC:case PC:case FC:case VC:return this.scanCharacter(i,n);case kC:case CC:return this.scanString();case xC:case OC:case RC:case NC:case LC:case TC:case tx:return this.scanOperator(i,String.fromCharCode(n));case qC:return this.scanComplexOperator(i,"?",MC,".");case BC:case UC:return this.scanComplexOperator(i,String.fromCharCode(n),jC,"=");case EC:case jC:return this.scanComplexOperator(i,String.fromCharCode(n),jC,"=",jC,"=");case IC:return this.scanComplexOperator(i,"&",IC,"&");case mx:return this.scanComplexOperator(i,"|",mx,"|");case gx:for(;vx(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(n)}]`,0)}scanCharacter(t,e){return this.advance(),hN(t,e)}scanOperator(t,e){return this.advance(),dN(t,e)}scanComplexOperator(t,e,n,r,i,s){this.advance();let o=e;return this.peek==n&&(this.advance(),o+=r),null!=i&&this.peek==i&&(this.advance(),o+=s),dN(t,o)}scanIdentifier(){const t=this.index;for(this.advance();gN(this.peek);)this.advance();const e=this.input.substring(t,this.index);return lN.indexOf(e)>-1?(n=e,new uN(t,aN.Keyword,0,n)):function(t,e){return new uN(t,aN.Identifier,0,e)}(t,e);var n}scanNumber(t){let e=this.index===t;for(this.advance();;){if(_x(this.peek));else if(this.peek==MC)e=!1;else{if((n=this.peek)!=ix&&n!=KC)break;if(this.advance(),yN(this.peek)&&this.advance(),!_x(this.peek))return this.error("Invalid exponent",-1);e=!1}this.advance()}var n;const r=this.input.substring(t,this.index),i=e?function(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}(r):parseFloat(r);return s=i,new uN(t,aN.Number,s,"");var s}scanString(){const t=this.index,e=this.peek;this.advance();let n="",r=this.index;const i=this.input;for(;this.peek!=e;)if(this.peek==ZC){let t;if(n+=i.substring(r,this.index),this.advance(),this.peek=this.peek,this.peek==cx){const e=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(e))return this.error(`Invalid unicode escape [\\u${e}]`,0);t=parseInt(e,16);for(let t=0;t<5;t++)this.advance()}else t=vN(this.peek),this.advance();n+=String.fromCharCode(t),r=this.index}else{if(this.peek==mC)return this.error("Unterminated quote",0);this.advance()}const s=i.substring(r,this.index);return this.advance(),o=n+s,new uN(t,aN.String,0,o);var o}error(t,e){const n=this.index+e;return function(t,e){return new uN(t,aN.Error,0,e)}(n,`Lexer Error: ${t} at column ${n} in expression [${this.input}]`)}}function fN(t){return nx<=t&&t<=dx||WC<=t&&t<=YC||t==ex||t==SC}function gN(t){return bx(t)||_x(t)||t==ex||t==SC}function yN(t){return t==RC||t==OC}function vN(t){switch(t){case ox:return yC;case sx:return _C;case ax:return bC;case lx:return gC;case ux:return vC;default:return t}}class _N{constructor(t,e,n){this.strings=t,this.expressions=e,this.offsets=n}}class bN{constructor(t,e,n){this.templateBindings=t,this.warnings=e,this.errors=n}}function wN(t){const e=EE(t.start)+"([\\s\\S]*?)"+EE(t.end);return new RegExp(e,"g")}class EN{constructor(t){this._lexer=t,this.errors=[]}parseAction(t,e,n,r=jT){this._checkNoInterpolation(t,e,r);const i=this._stripComments(t),s=this._lexer.tokenize(this._stripComments(t)),o=new CN(t,e,n,s,i.length,!0,this.errors,t.length-i.length).parseChain();return new LI(o,t,e,n,this.errors)}parseBinding(t,e,n,r=jT){const i=this._parseBindingAst(t,e,n,r);return new LI(i,t,e,n,this.errors)}parseSimpleBinding(t,e,n,r=jT){const i=this._parseBindingAst(t,e,n,r),s=xN.check(i);return s.length>0&&this._reportError(`Host binding expression cannot contain ${s.join(" ")}`,t,e),new LI(i,t,e,n,this.errors)}_reportError(t,e,n,r){this.errors.push(new hI(t,e,n,r))}_parseBindingAst(t,e,n,r){const i=this._parseQuote(t,e);if(null!=i)return i;this._checkNoInterpolation(t,e,r);const s=this._stripComments(t),o=this._lexer.tokenize(s);return new CN(t,e,n,o,s.length,!1,this.errors,t.length-s.length).parseChain()}_parseQuote(t,e){if(null==t)return null;const n=t.indexOf(":");if(-1==n)return null;const r=t.substring(0,n).trim();if(!function(t){if(0==t.length)return!1;const e=new mN(t);if(!fN(e.peek))return!1;for(e.advance();e.peek!==mC;){if(!gN(e.peek))return!1;e.advance()}return!0}(r))return null;const i=t.substring(n+1);return new mI(new dI(0,t.length),r,i,e)}parseTemplateBindings(t,e,n,r){const i=this._lexer.tokenize(e);return new CN(e,n,r,i,e.length,!1,this.errors,0).parseTemplateBindings(t)}parseInterpolation(t,e,n,r=jT){const i=this.splitInterpolation(t,e,r);if(null==i)return null;const s=[];for(let o=0;o<i.expressions.length;++o){const r=i.expressions[o],a=this._stripComments(r),l=this._lexer.tokenize(a),c=new CN(t,e,n,l,a.length,!1,this.errors,i.offsets[o]+(r.length-a.length)).parseChain();s.push(c)}return new LI(new kI(new dI(0,null==t?0:t.length),i.strings,s),t,e,n,this.errors)}splitInterpolation(t,e,n=jT){const r=wN(n),i=t.split(r);if(i.length<=1)return null;const s=[],o=[],a=[];let l=0;for(let c=0;c<i.length;c++){const r=i[c];c%2==0?(s.push(r),l+=r.length):r.trim().length>0?(l+=n.start.length,o.push(r),a.push(l),l+=r.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",t,`at column ${this._findInterpolationErrorColumn(i,c,n)} in`,e),o.push("$implict"),a.push(l))}return new _N(s,o,a)}wrapLiteralPrimitive(t,e,n){return new LI(new SI(new dI(0,null==t?0:t.length),t),t,e,n,this.errors)}_stripComments(t){const e=this._commentStart(t);return null!=e?t.substring(0,e).trim():t}_commentStart(t){let e=null;for(let r=0;r<t.length-1;r++){const i=t.charCodeAt(r),s=t.charCodeAt(r+1);if(i===LC&&s==LC&&null==e)return r;e===i?e=null:null==e&&((n=i)===kC||n===CC||n===yx)&&(e=i)}var n;return null}_checkNoInterpolation(t,e,n){const r=wN(n),i=t.split(r);i.length>1&&this._reportError(`Got interpolation (${n.start}${n.end}) where expression was expected`,t,`at column ${this._findInterpolationErrorColumn(i,1,n)} in`,e)}_findInterpolationErrorColumn(t,e,n){let r="";for(let i=0;i<e;i++)r+=i%2==0?t[i]:`${n.start}${t[i]}${n.end}`;return r.length}}class CN{constructor(t,e,n,r,i,s,o,a){this.input=t,this.location=e,this.absoluteOffset=n,this.tokens=r,this.inputLength=i,this.parseAction=s,this.errors=o,this.offset=a,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}peek(t){const e=this.index+t;return e<this.tokens.length?this.tokens[e]:pN}get next(){return this.peek(0)}get inputIndex(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset}span(t){return new dI(t,this.inputIndex)}advance(){this.index++}optionalCharacter(t){return!!this.next.isCharacter(t)&&(this.advance(),!0)}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(t){this.optionalCharacter(t)||this.error(`Missing expected ${String.fromCharCode(t)}`)}optionalOperator(t){return!!this.next.isOperator(t)&&(this.advance(),!0)}expectOperator(t){this.optionalOperator(t)||this.error(`Missing expected operator ${t}`)}expectIdentifierOrKeyword(){const t=this.next;return t.isIdentifier()||t.isKeyword()?(this.advance(),t.toString()):(this.error(`Unexpected token ${t}, expected identifier or keyword`),"")}expectIdentifierOrKeywordOrString(){const t=this.next;return t.isIdentifier()||t.isKeyword()||t.isString()?(this.advance(),t.toString()):(this.error(`Unexpected token ${t}, expected identifier, keyword, or string`),"")}parseChain(){const t=[],e=this.inputIndex;for(;this.index<this.tokens.length;){const e=this.parsePipe();if(t.push(e),this.optionalCharacter(VC))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(VC););else this.index<this.tokens.length&&this.error(`Unexpected token '${this.next}'`)}return 0==t.length?new fI(this.span(e)):1==t.length?t[0]:new yI(this.span(e),t)}parsePipe(){let t=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{const e=this.expectIdentifierOrKeyword(),n=[];for(;this.optionalCharacter(FC);)n.push(this.parseExpression());t=new xI(this.span(t.span.start),t,e,n)}while(this.optionalOperator("|"))}return t}parseExpression(){return this.parseConditional()}parseConditional(){const t=this.inputIndex,e=this.parseLogicalOr();if(this.optionalOperator("?")){const n=this.parsePipe();let r;if(this.optionalCharacter(FC))r=this.parsePipe();else{const e=this.inputIndex,n=this.input.substring(t,e);this.error(`Conditional expression ${n} requires all 3 expressions`),r=new fI(this.span(t))}return new vI(this.span(t),e,n,r)}return e}parseLogicalOr(){let t=this.parseLogicalAnd();for(;this.optionalOperator("||");){const e=this.parseLogicalAnd();t=new AI(this.span(t.span.start),"||",t,e)}return t}parseLogicalAnd(){let t=this.parseEquality();for(;this.optionalOperator("&&");){const e=this.parseEquality();t=new AI(this.span(t.span.start),"&&",t,e)}return t}parseEquality(){let t=this.parseRelational();for(;this.next.type==aN.Operator;){const e=this.next.strValue;switch(e){case"==":case"===":case"!=":case"!==":this.advance();const n=this.parseRelational();t=new AI(this.span(t.span.start),e,t,n);continue}break}return t}parseRelational(){let t=this.parseAdditive();for(;this.next.type==aN.Operator;){const e=this.next.strValue;switch(e){case"<":case">":case"<=":case">=":this.advance();const n=this.parseAdditive();t=new AI(this.span(t.span.start),e,t,n);continue}break}return t}parseAdditive(){let t=this.parseMultiplicative();for(;this.next.type==aN.Operator;){const e=this.next.strValue;switch(e){case"+":case"-":this.advance();let n=this.parseMultiplicative();t=new AI(this.span(t.span.start),e,t,n);continue}break}return t}parseMultiplicative(){let t=this.parsePrefix();for(;this.next.type==aN.Operator;){const e=this.next.strValue;switch(e){case"*":case"%":case"/":this.advance();let n=this.parsePrefix();t=new AI(this.span(t.span.start),e,t,n);continue}break}return t}parsePrefix(){if(this.next.type==aN.Operator){const t=this.inputIndex,e=this.next.strValue;let n;switch(e){case"+":return this.advance(),n=this.parsePrefix(),new AI(this.span(t),"-",n,new SI(new dI(t,t),0));case"-":return this.advance(),n=this.parsePrefix(),new AI(this.span(t),e,new SI(new dI(t,t),0),n);case"!":return this.advance(),n=this.parsePrefix(),new DI(this.span(t),n)}}return this.parseCallChain()}parseCallChain(){let t=this.parsePrimary();for(;;)if(this.optionalCharacter(MC))t=this.parseAccessMemberOrMethodCall(t,!1);else if(this.optionalOperator("?."))t=this.parseAccessMemberOrMethodCall(t,!0);else if(this.optionalCharacter(XC)){this.rbracketsExpected++;const e=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(JC),this.optionalOperator("=")){const n=this.parseConditional();t=new CI(this.span(t.span.start),t,e,n)}else t=new EI(this.span(t.span.start),t,e)}else if(this.optionalCharacter(AC)){this.rparensExpected++;const e=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(DC),t=new RI(this.span(t.span.start),t,e)}else{if(!this.optionalOperator("!"))return t;t=new NI(this.span(t.span.start),t)}}parsePrimary(){const t=this.inputIndex;if(this.optionalCharacter(AC)){this.rparensExpected++;const t=this.parsePipe();return this.rparensExpected--,this.expectCharacter(DC),t}if(this.next.isKeywordNull())return this.advance(),new SI(this.span(t),null);if(this.next.isKeywordUndefined())return this.advance(),new SI(this.span(t),void 0);if(this.next.isKeywordTrue())return this.advance(),new SI(this.span(t),!0);if(this.next.isKeywordFalse())return this.advance(),new SI(this.span(t),!1);if(this.next.isKeywordThis())return this.advance(),new gI(this.span(t));if(this.optionalCharacter(XC)){this.rbracketsExpected++;const e=this.parseExpressionList(JC);return this.rbracketsExpected--,this.expectCharacter(JC),new TI(this.span(t),e)}if(this.next.isCharacter(px))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new gI(this.span(t)),!1);if(this.next.isNumber()){const e=this.next.toNumber();return this.advance(),new SI(this.span(t),e)}if(this.next.isString()){const e=this.next.toString();return this.advance(),new SI(this.span(t),e)}return this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new fI(this.span(t))):(this.error(`Unexpected token ${this.next}`),new fI(this.span(t)))}parseExpressionList(t){const e=[];if(!this.next.isCharacter(t))do{e.push(this.parsePipe())}while(this.optionalCharacter(PC));return e}parseLiteralMap(){const t=[],e=[],n=this.inputIndex;if(this.expectCharacter(px),!this.optionalCharacter(fx)){this.rbracesExpected++;do{const n=this.next.isString(),r=this.expectIdentifierOrKeywordOrString();t.push({key:r,quoted:n}),this.expectCharacter(FC),e.push(this.parsePipe())}while(this.optionalCharacter(PC));this.rbracesExpected--,this.expectCharacter(fx)}return new II(this.span(n),t,e)}parseAccessMemberOrMethodCall(t,e=!1){const n=t.span.start,r=this.expectIdentifierOrKeyword();if(this.optionalCharacter(AC)){this.rparensExpected++;const i=this.parseCallArguments();this.expectCharacter(DC),this.rparensExpected--;const s=this.span(n);return e?new PI(s,t,r,i):new OI(s,t,r,i)}if(e)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new fI(this.span(n))):new wI(this.span(n),t,r);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new fI(this.span(n));const e=this.parseConditional();return new bI(this.span(n),t,r,e)}return new _I(this.span(n),t,r)}parseCallArguments(){if(this.next.isCharacter(DC))return[];const t=[];do{t.push(this.parsePipe())}while(this.optionalCharacter(PC));return t}expectTemplateBindingKey(){let t="",e=!1;do{t+=this.expectIdentifierOrKeywordOrString(),(e=this.optionalOperator("-"))&&(t+="-")}while(e);return t.toString()}parseTemplateBindings(t){let e=!0;const n=[];do{const r=this.inputIndex;let i,s,o=!1;e?(i=s=t,e=!1):((o=this.peekKeywordLet())&&this.advance(),i=this.expectTemplateBindingKey(),s=o?i:t+i[0].toUpperCase()+i.substring(1),this.optionalCharacter(FC));let a=null,l=null;if(o)a=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.peekKeywordAs())this.advance(),a=i,s=this.expectTemplateBindingKey(),o=!0;else if(this.next!==pN&&!this.peekKeywordLet()){const t=this.inputIndex,e=this.parsePipe(),n=this.input.substring(t-this.offset,this.inputIndex-this.offset);l=new LI(e,n,this.location,this.absoluteOffset,this.errors)}if(n.push(new FI(this.span(r),s,o,a,l)),this.peekKeywordAs()&&!o){const t=this.inputIndex;this.advance();const e=this.expectTemplateBindingKey();n.push(new FI(this.span(t),e,!0,s,null))}this.optionalCharacter(VC)||this.optionalCharacter(PC)}while(this.index<this.tokens.length);return new bN(n,[],this.errors)}error(t,e=null){this.errors.push(new hI(t,this.input,this.locationText(e),this.location)),this.skip()}locationText(t=null){return null==t&&(t=this.index),t<this.tokens.length?`at column ${this.tokens[t].index+1} in`:"at the end of the expression"}skip(){let t=this.next;for(;this.index<this.tokens.length&&!t.isCharacter(VC)&&(this.rparensExpected<=0||!t.isCharacter(DC))&&(this.rbracesExpected<=0||!t.isCharacter(fx))&&(this.rbracketsExpected<=0||!t.isCharacter(JC));)this.next.isError()&&this.errors.push(new hI(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),t=this.next}}class xN{constructor(){this.errors=[]}static check(t){const e=new xN;return t.visit(e),e.errors}visitImplicitReceiver(t,e){}visitInterpolation(t,e){}visitLiteralPrimitive(t,e){}visitPropertyRead(t,e){}visitPropertyWrite(t,e){}visitSafePropertyRead(t,e){}visitMethodCall(t,e){}visitSafeMethodCall(t,e){}visitFunctionCall(t,e){}visitLiteralArray(t,e){this.visitAll(t.expressions)}visitLiteralMap(t,e){this.visitAll(t.values)}visitBinary(t,e){}visitPrefixNot(t,e){}visitNonNullAssert(t,e){}visitConditional(t,e){}visitPipe(t,e){this.errors.push("pipes")}visitKeyedRead(t,e){}visitKeyedWrite(t,e){}visitAll(t){return t.map(t=>t.visit(this))}visitChain(t,e){}visitQuote(t,e){}}let SN;function TN(){return SN||(SN={},IN(Vb.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),IN(Vb.STYLE,["*|style"]),IN(Vb.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),IN(Vb.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),SN}function IN(t,e){for(const n of e)SN[n.toLowerCase()]=t}class kN{}const AN="boolean",DN="number",NN="string",ON="object",PN=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],RN={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};class MN extends kN{constructor(){super(),this._schema={},PN.forEach(t=>{const e={},[n,r]=t.split("|"),i=r.split(","),[s,o]=n.split("^");s.split(",").forEach(t=>this._schema[t.toLowerCase()]=e);const a=o&&this._schema[o.toLowerCase()];a&&Object.keys(a).forEach(t=>{e[t]=a[t]}),i.forEach(t=>{if(t.length>0)switch(t[0]){case"*":break;case"!":e[t.substring(1)]=AN;break;case"#":e[t.substring(1)]=DN;break;case"%":e[t.substring(1)]=ON;break;default:e[t]=NN}})})}hasProperty(t,e,n){if(n.some(t=>t.name===Ob.name))return!0;if(t.indexOf("-")>-1){if(X_(t)||Z_(t))return!1;if(n.some(t=>t.name===Nb.name))return!0}return!!(this._schema[t.toLowerCase()]||this._schema.unknown)[e]}hasElement(t,e){if(e.some(t=>t.name===Ob.name))return!0;if(t.indexOf("-")>-1){if(X_(t)||Z_(t))return!0;if(e.some(t=>t.name===Nb.name))return!0}return!!this._schema[t.toLowerCase()]}securityContext(t,e,n){n&&(e=this.getMappedPropName(e)),t=t.toLowerCase(),e=e.toLowerCase();let r=TN()[t+"|"+e];return r||((r=TN()["*|"+e])||Vb.NONE)}getMappedPropName(t){return RN[t]||t}getDefaultComponentElementName(){return"ng-component"}validateProperty(t){if(t.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event property '${t}' is disallowed for security reasons, `+`please use (${t.slice(2)})=...`+`\nIf '${t}' is a directive input, make sure the directive is imported by the`+" current module."}}return{error:!1}}validateAttribute(t){if(t.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event attribute '${t}' is disallowed for security reasons, `+`please use (${t.slice(2)})=...`}}return{error:!1}}allKnownElementNames(){return Object.keys(this._schema)}normalizeAnimationStyleProperty(t){return t.replace(uE,(...t)=>t[1].toUpperCase())}normalizeAnimationStyleValue(t,e,n){let r="";const i=n.toString().trim();let s=null;if(function(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(t)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&(s=`Please provide a CSS unit value for ${e}:${n}`)}return{error:s,value:i+r}}}const LN=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,FN=1,VN=2,BN=3,jN=4,UN=5,qN=6,zN=7,$N=8,HN=9,WN=10,KN="*";function GN(t,e){const n=new QN(e),r=Gk(n,t),i=e.errors.concat(n.errors),s=i.filter(t=>t.level===Ix.ERROR);if(s.length>0){throw _E(`Template parse errors:\n${s.join("\n")}`,s)}return{nodes:r,errors:i,styleUrls:n.styleUrls,styles:n.styles}}class QN{constructor(t){this.bindingParser=t,this.errors=[],this.styles=[],this.styleUrls=[]}visitElement(t){const e=xD(t);if(e.type===SD.SCRIPT)return null;if(e.type===SD.STYLE){const e=1===(n=t).children.length&&n.children[0]instanceof qk?n.children[0].value:null;return null!==e&&this.styles.push(e),null}if(e.type===SD.STYLESHEET&&nD(e.hrefAttr))return this.styleUrls.push(e.hrefAttr),null;var n;const r=J_(t.name),i=[],s=[],o=[],a=[],l=[],c={},u=[],h=[];let d=!1;for(const f of t.attrs){let t=!1;const e=XN(f.name);let n=!1;if(f.i18n&&(c[f.name]=f.i18n),e.startsWith(KN)){d&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",f.sourceSpan),n=!0,d=!0;const t=f.value,r=e.substring(KN.length),i=[],s=f.valueSpan?f.valueSpan.start.offset:f.sourceSpan.start.offset;this.bindingParser.parseInlineTemplateBinding(r,t,f.sourceSpan,s,[],u,i),h.push(...i.map(t=>new Fx(t.name,t.value,t.sourceSpan)))}else t=this.parseAttribute(r,f,[],i,s,o,a);t||n||l.push(this.visitAttribute(f))}const p=Gk(e.nonBindable?YN:this,t.children);let m;if(e.type===SD.NG_CONTENT){t.children&&!t.children.every(t=>(function(t){return t instanceof qk&&0==t.value.trim().length})(t)||function(t){return t instanceof Kk}(t))&&this.reportError("<ng-content> element cannot have content.",t.sourceSpan);const n=e.selectAttr,r=t.attrs.map(t=>this.visitAttribute(t));m=new Lx(n,r,t.sourceSpan,t.i18n)}else if(r){const e=this.extractAttributes(t.name,i,c);m=new Mx(t.name,l,e.bound,s,[],p,a,o,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}else{const e=this.extractAttributes(t.name,i,c);m=new Rx(t.name,l,e.bound,s,p,a,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}if(d){const e=this.extractAttributes("ng-template",u,c),n=[];e.literal.forEach(t=>n.push(t)),e.bound.forEach(t=>n.push(t));const r=m instanceof Rx?{attributes:m.attributes,inputs:m.inputs,outputs:m.outputs}:{attributes:[],inputs:[],outputs:[]};m=new Mx(m.name,r.attributes,r.inputs,r.outputs,n,[m],[],h,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}return m}visitAttribute(t){return new Nx(t.name,t.value,t.sourceSpan,t.valueSpan,t.i18n)}visitText(t){return this._visitTextWithInterpolation(t.value,t.sourceSpan,t.i18n)}visitExpansion(t){const e=t.i18n;if(!e)return null;const n={},r={};return Object.keys(e.placeholders).forEach(i=>{const s=e.placeholders[i];if(i.startsWith(HS)){const e=this.bindingParser.interpolationConfig,r=`${e.start}${s}${e.end}`;n[i]=this._visitTextWithInterpolation(r,t.sourceSpan)}else r[i]=this._visitTextWithInterpolation(s,t.sourceSpan)}),new Bx(n,r,t.sourceSpan,e)}visitExpansionCase(t){return null}visitComment(t){return null}extractAttributes(t,e,n){const r=[],i=[];return e.forEach(e=>{const s=n[e.name];if(e.isLiteral)i.push(new Nx(e.name,e.expression.source||"",e.sourceSpan,void 0,s));else{const n=this.bindingParser.createBoundElementProperty(t,e,!0,!1);r.push(Ox.fromBoundElementProperty(n,s))}}),{bound:r,literal:i}}parseAttribute(t,e,n,r,i,s,o){const a=XN(e.name),l=e.value,c=e.sourceSpan,u=e.valueSpan?e.valueSpan.start.offset:c.start.offset,h=a.match(LN);let d=!1;if(h){if(d=!0,null!=h[FN])this.bindingParser.parsePropertyBinding(h[zN],l,!1,c,u,e.valueSpan,n,r);else if(h[VN])if(t){const t=h[zN];this.parseVariable(t,l,c,e.valueSpan,s)}else this.reportError('"let-" is only supported on ng-template elements.',c);else if(h[BN]){const t=h[zN];this.parseReference(t,l,c,e.valueSpan,o)}else if(h[jN]){const t=[];this.bindingParser.parseEvent(h[zN],l,c,e.valueSpan||c,n,t),ZN(t,i)}else if(h[UN])this.bindingParser.parsePropertyBinding(h[zN],l,!1,c,u,e.valueSpan,n,r),this.parseAssignmentEvent(h[zN],l,c,e.valueSpan,n,i);else if(h[qN])this.bindingParser.parseLiteralAttr(a,l,c,u,e.valueSpan,n,r);else if(h[$N])this.bindingParser.parsePropertyBinding(h[$N],l,!1,c,u,e.valueSpan,n,r),this.parseAssignmentEvent(h[$N],l,c,e.valueSpan,n,i);else if(h[HN])this.bindingParser.parsePropertyBinding(h[HN],l,!1,c,u,e.valueSpan,n,r);else if(h[WN]){const t=[];this.bindingParser.parseEvent(h[WN],l,c,e.valueSpan||c,n,t),ZN(t,i)}}else d=this.bindingParser.parsePropertyInterpolation(a,l,c,e.valueSpan,n,r);return d}_visitTextWithInterpolation(t,e,n){const r=CA(t),i=this.bindingParser.parseInterpolation(r,e);return i?new Dx(i,e,n):new Ax(r,e)}parseVariable(t,e,n,r,i){t.indexOf("-")>-1&&this.reportError('"-" is not allowed in variable names',n),i.push(new Fx(t,e,n,r))}parseReference(t,e,n,r,i){t.indexOf("-")>-1&&this.reportError('"-" is not allowed in reference names',n),i.push(new Vx(t,e,n,r))}parseAssignmentEvent(t,e,n,r,i,s){const o=[];this.bindingParser.parseEvent(`${t}Change`,`${e}=$event`,n,r||n,i,o),ZN(o,s)}reportError(t,e,n=Ix.ERROR){this.errors.push(new kx(e,t,n))}}const YN=new class{visitElement(t){const e=xD(t);if(e.type===SD.SCRIPT||e.type===SD.STYLE||e.type===SD.STYLESHEET)return null;const n=Gk(this,t.children,null);return new Rx(t.name,Gk(this,t.attrs),[],[],n,[],t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}visitComment(t){return null}visitAttribute(t){return new Nx(t.name,t.value,t.sourceSpan,void 0,t.i18n)}visitText(t){return new Ax(t.value,t.sourceSpan)}visitExpansion(t){return null}visitExpansionCase(t){return null}};function XN(t){return/^data-/i.test(t)?t.substring(5):t}function ZN(t,e){e.push(...t.map(t=>Px.fromParsedEvent(t)))}var JN;!function(t){t[t.ELEMENT=0]="ELEMENT",t[t.TEMPLATE=1]="TEMPLATE",t[t.PROJECTION=2]="PROJECTION"}(JN||(JN={}));class tO{constructor(t,e,n=0,r=null,i,s){this.index=t,this.ref=e,this.level=n,this.templateIndex=r,this.meta=i,this.registry=s,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=s||{getUniqueId:eT(),icus:new Map},this.id=this._registry.getUniqueId()}appendTag(t,e,n,r){if(e.isVoid&&r)return;const i=e.isVoid||!r?e.startName:e.closeName,s={type:t,index:n,ctx:this.id,isVoid:e.isVoid,closed:r};rT(this.placeholders,i,s)}get icus(){return this._registry.icus}get isRoot(){return 0===this.level}get isResolved(){return 0===this._unresolvedCtxCount}getSerializedPlaceholders(){const t=new Map;return this.placeholders.forEach((e,n)=>t.set(n,e.map(iO))),t}appendBinding(t){this.bindings.add(t)}appendIcu(t,e){rT(this._registry.icus,t,e)}appendBoundText(t){iT(t,this.bindings.size,this.id).forEach((t,e)=>rT(this.placeholders,e,...t))}appendTemplate(t,e){this.appendTag(JN.TEMPLATE,t,e,!1),this.appendTag(JN.TEMPLATE,t,e,!0),this._unresolvedCtxCount++}appendElement(t,e,n){this.appendTag(JN.ELEMENT,t,e,n)}appendProjection(t,e){this.appendTag(JN.PROJECTION,t,e,!1),this.appendTag(JN.PROJECTION,t,e,!0)}forkChildContext(t,e,n){return new tO(t,this.ref,this.level+1,e,n,this._registry)}reconcileChildContext(t){["start","close"].forEach(e=>{const n=t.meta[`${e}Name`],r=(this.placeholders.get(n)||[]).find(rO(this.id,t.templateIndex));r&&(r.ctx=t.id)}),t.placeholders.forEach((e,n)=>{const r=this.placeholders.get(n);if(!r)return void this.placeholders.set(n,e);const i=function(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n;return-1}(r,rO(t.id,t.templateIndex));if(i>=0){const t=n.startsWith("CLOSE");if(n.endsWith("NG-TEMPLATE"))r.splice(i+(t?0:1),0,...e);else{e[t?e.length-1:0].tmpl=r[i],r.splice(i,1,...e)}}else r.push(...e);this.placeholders.set(n,r)}),this._unresolvedCtxCount--}}function eO(t,e,n,r){return tT(`${r?"/":""}${t}${e}`,n)}function nO(t,{index:e,ctx:n,isVoid:r},i){return r?eO(t,e,n)+eO(t,e,n,!0):eO(t,e,n,i)}function rO(t,e){return n=>"object"==typeof n&&n.type===JN.TEMPLATE&&n.index===e&&n.ctx===t}function iO(t){const e=(t,e)=>nO("#",t,e),n=(t,e)=>nO("*",t,e);switch(t.type){case JN.ELEMENT:return t.closed?e(t,!0)+(t.tmpl?n(t.tmpl,!0):""):t.tmpl?n(t.tmpl)+e(t)+(t.isVoid?n(t.tmpl,!0):""):e(t);case JN.TEMPLATE:return n(t,t.closed);case JN.PROJECTION:return((t,e)=>nO("!",t,e))(t,t.closed);default:return t}}const sO={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"};class oO{constructor(){this._placeHolderNameCounts={},this._signatureToName={}}getStartTagPlaceholderName(t,e,n){const r=this._hashTag(t,e,n);if(this._signatureToName[r])return this._signatureToName[r];const i=t.toUpperCase(),s=sO[i]||`TAG_${i}`,o=this._generateUniqueName(n?s:`START_${s}`);return this._signatureToName[r]=o,o}getCloseTagPlaceholderName(t){const e=this._hashClosingTag(t);if(this._signatureToName[e])return this._signatureToName[e];const n=t.toUpperCase(),r=sO[n]||`TAG_${n}`,i=this._generateUniqueName(`CLOSE_${r}`);return this._signatureToName[e]=i,i}getPlaceholderName(t,e){const n=t.toUpperCase(),r=`PH: ${n}=${e}`;if(this._signatureToName[r])return this._signatureToName[r];const i=this._generateUniqueName(n);return this._signatureToName[r]=i,i}getUniquePlaceholder(t){return this._generateUniqueName(t.toUpperCase())}_hashTag(t,e,n){return`<${t}`+Object.keys(e).sort().map(t=>` ${t}=${e[t]}`).join("")+(n?"/>":`></${t}>`)}_hashClosingTag(t){return this._hashTag(`/${t}`,{},!1)}_generateUniqueName(t){if(!this._placeHolderNameCounts.hasOwnProperty(t))return this._placeHolderNameCounts[t]=1,t;const e=this._placeHolderNameCounts[t];return this._placeHolderNameCounts[t]=e+1,`${t}_${e}`}}const aO=new EN(new cN);function lO(t){const e=new cO(aO,t);return(t,n,r,i,s)=>e.toI18nMessage(t,n,r,i,s)}class cO{constructor(t,e){this._expressionParser=t,this._interpolationConfig=e}toI18nMessage(t,e,n,r,i){this._isIcu=1==t.length&&t[0]instanceof zk,this._icuDepth=0,this._placeholderRegistry=new oO,this._placeholderToContent={},this._placeholderToMessage={},this._visitNodeFn=i;const s=Gk(this,t,{});return new Ux(s,this._placeholderToContent,this._placeholderToMessage,e,n,r)}_visitNode(t,e){return this._visitNodeFn&&this._visitNodeFn(t,e),e}visitElement(t,e){const n=Gk(this,t.children),r={};t.attrs.forEach(t=>{r[t.name]=t.value});const i=ab(t.name).isVoid,s=this._placeholderRegistry.getStartTagPlaceholderName(t.name,r,i);this._placeholderToContent[s]=t.sourceSpan.toString();let o="";i||(o=this._placeholderRegistry.getCloseTagPlaceholderName(t.name),this._placeholderToContent[o]=`</${t.name}>`);const a=new Hx(t.name,r,s,o,n,i,t.sourceSpan);return this._visitNode(t,a)}visitAttribute(t,e){const n=this._visitTextWithInterpolation(t.value,t.sourceSpan);return this._visitNode(t,n)}visitText(t,e){const n=this._visitTextWithInterpolation(t.value,t.sourceSpan);return this._visitNode(t,n)}visitComment(t,e){return null}visitExpansion(t,e){this._icuDepth++;const n={},r=new $x(t.switchValue,t.type,n,t.sourceSpan);if(t.cases.forEach(t=>{n[t.value]=new zx(t.expression.map(t=>t.visit(this,{})),t.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0){const e=this._placeholderRegistry.getUniquePlaceholder(`VAR_${t.type}`);return r.expressionPlaceholder=e,this._placeholderToContent[e]=t.switchValue,this._visitNode(t,r)}const i=this._placeholderRegistry.getPlaceholderName("ICU",t.sourceSpan.toString()),s=new cO(this._expressionParser,this._interpolationConfig);this._placeholderToMessage[i]=s.toI18nMessage([t],"","","");const o=new Kx(r,i,t.sourceSpan);return this._visitNode(t,o)}visitExpansionCase(t,e){throw new Error("Unreachable code")}_visitTextWithInterpolation(t,e){const n=this._expressionParser.splitInterpolation(t,e.start.toString(),this._interpolationConfig);if(!n)return new qx(t,e);const r=[],i=new zx(r,e),{start:s,end:o}=this._interpolationConfig;for(let l=0;l<n.strings.length-1;l++){const t=n.expressions[l],i=t.split(uO)[2]||"INTERPOLATION",a=this._placeholderRegistry.getPlaceholderName(i,t);n.strings[l].length&&r.push(new qx(n.strings[l],e)),r.push(new Wx(t,a,e)),this._placeholderToContent[a]=s+t+o}const a=n.strings.length-1;return n.strings[a].length&&r.push(new qx(n.strings[a],e)),i}}const uO=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function hO(t,e){t.i18n=e}class dO{constructor(t=jT,e=!1){this.interpolationConfig=t,this.keepI18nAttrs=e,this._createI18nMessage=lO(t)}_generateI18nMessage(t,e="",n){const r="string"==typeof e?function(t){let e,n,r;if(t){const i=t.indexOf(qS),s=t.indexOf(US);let o;[o,e]=i>-1?[t.slice(0,i),t.slice(i+2)]:[t,""],[n,r]=s>-1?[o.slice(0,s),o.slice(s+1)]:["",o]}return{id:e,meaning:n,description:r}}(e):ZS(e),i=this._createI18nMessage(t,r.meaning||"",r.description||"",r.id||"",n);return i.id||(i.id="string"!=typeof e&&e.id||Yx(i)),i}visitElement(t,e){if(function(t){return t.attrs.some(t=>QS(t.name))}(t)){const e=[],n={};for(const r of t.attrs)if(r.name===zS){const e=t.i18n||r.value,n=this._generateI18nMessage(t.children,e,hO);n.nodes.length&&(t.i18n=n)}else if(r.name.startsWith($S)){n[r.name.slice($S.length)]=r.value}else e.push(r);if(Object.keys(n).length)for(const t of e){const e=n[t.name];void 0!==e&&t.value&&(t.i18n=this._generateI18nMessage([t],t.i18n||e))}this.keepI18nAttrs||(t.attrs=e)}return Gk(this,t.children),t}visitExpansion(t,e){let n;const r=t.i18n;if(r instanceof Kx){const e=r.name;JS(n=this._generateI18nMessage([t],r)).name=e}else n=this._generateI18nMessage([t],r);return t.i18n=n,t}visitText(t,e){return t}visitAttribute(t,e){return t}visitComment(t,e){return t}visitExpansionCase(t,e){return t}}const pO=new class{constructor(){this.icuNestingLevel=0}formatPh(t){const e=this.icuNestingLevel>0,n=sT(t,!e);return e?`{${n}}`:`{$${n}}`}visitText(t,e){return t.value}visitContainer(t,e){return t.children.map(t=>t.visit(this)).join("")}visitIcu(t,e){this.icuNestingLevel++;const n=Object.keys(t.cases).map(e=>`${e} {${t.cases[e].visit(this)}}`),r=`{${t.expressionPlaceholder}, ${t.type}, ${n.join(" ")}}`;return this.icuNestingLevel--,r}visitTagPlaceholder(t,e){return t.isVoid?this.formatPh(t.startName):`${this.formatPh(t.startName)}${t.children.map(t=>t.visit(this)).join("")}${this.formatPh(t.closeName)}`}visitPlaceholder(t,e){return this.formatPh(t.name)}visitIcuPlaceholder(t,e){return this.formatPh(t.name)}};const mO="select",fO="ngProjectAs",gO=new Map([["window",pC.resolveWindow],["document",pC.resolveDocument],["body",pC.resolveBody]]),yO=[" ","\n","\r","\t"];function vO(t,e){return aE(tE(uT).bitwiseAnd(lE(t),null,!1),e)}function _O(t,e=null,n=null){const{type:r,name:i,target:s,phase:o,handler:a}=t;if(s&&!gO.has(s))throw new Error(`Unexpected global target '${s}' defined for '${i}' event.\n        Supported list of global targets: ${Array.from(gO.keys())}.`);const l=null===n||0===n.bindingLevel?tE(cT):n.getOrCreateSharedContextVar(0),c=YI(n,l,a,"b",()=>vE("Unexpected interpolation"),t.handlerSpan),u=[];n&&(u.push(...n.restoreViewStatement()),u.push(...n.variableDeclarations())),u.push(...c.render3Stmts);const h=1===r?function(t,e){return`${PT}${t}.${e}`}(i,o):i,d=e&&HE(e),p=oE([new Ew("$event",Yb)],u,Xb,null,d),m=[lE(h),p];return s&&m.push(lE(!1),eE(gO.get(s))),m}class bO{constructor(t,e,n=0,r,i,s,o,a,l,c,u,h,d,p){this.constantPool=t,this.level=n,this.contextName=r,this.i18nContext=i,this.templateIndex=s,this.templateName=o,this.directiveMatcher=a,this.directives=l,this.pipeTypeByName=c,this.pipes=u,this._namespace=h,this.relativeContextFilePath=d,this.i18nUseExternalIds=p,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._lastNodeIndexWithFlush=-1,this._tempVariables=[],this._nestedTemplateFns=[],this._unsupported=fT,this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=gT,this.visitVariable=gT,this.visitTextAttribute=gT,this.visitBoundAttribute=gT,this.visitBoundEvent=gT,this._bindingScope=e.nestedScope(n),this.fileBasedI18nSuffix=d.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new wO(t,()=>this.allocateDataSlot(),t=>this.allocatePureFunctionSlots(t),(t,e,n,r)=>{const i=c.get(t);i&&this.pipes.add(i),this._bindingScope.set(this.level,e,r),this.creationInstruction(null,pC.pipe,[lE(n),lE(t)])})}registerContextVariables(t){const e=this._bindingScope.freshReferenceName(),n=this.level,r=tE(t.name+e);this._bindingScope.set(n,t.name,r,1,(e,i)=>{let s;if(e.bindingLevel===n)s=tE(cT);else{const t=e.getSharedContextName(n);s=t||SO(i)}return[r.set(s.prop(t.value||dT)).toConstDecl()]})}buildTemplateFunction(t,e,n=0,r){this._ngContentSelectorsOffset=n,this._namespace!==pC.namespaceHTML&&this.creationInstruction(null,this._namespace),e.forEach(t=>this.registerContextVariables(t));const i=this.i18nContext||YS(r)&&!XS(r)&&!(1===(s=t).length&&s[0]instanceof Rx&&t[0].i18n===r);var s;const o=RO(t);if(i&&this.i18nStart(null,r,o),jx(this,t),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(t=>t()),0===this.level&&this._ngContentReservedSlots.length){const t=[];if(this._ngContentReservedSlots.length>1||"*"!==this._ngContentReservedSlots[0]){const e=this._ngContentReservedSlots.map(t=>"*"!==t?qb(t):t);t.push(this.constantPool.getConstLiteral(yT(e),!0))}this.creationInstruction(null,pC.projectionDef,t,!0)}i&&this.i18nEnd(null,o);const a=this._creationCodeFns.map(t=>t()),l=this._updateCodeFns.map(t=>t()),c=this._bindingScope.viewSnapshotStatements(),u=this._bindingScope.variableDeclarations().concat(this._tempVariables),h=a.length>0?[vO(1,c.concat(a))]:[],d=l.length>0?[vO(2,u.concat(l))]:[];return oE([new Ew(uT,Jb),new Ew(cT,null)],[...this._prefixCode,...h,...d],Xb,null,this.templateName)}getLocal(t){return this._bindingScope.get(t)}notifyImplicitReceiverUse(){this._bindingScope.notifyImplicitReceiverUse()}i18nTranslate(t,e={},n,r){const i=n||tE(this.constantPool.uniqueName(VS)),s=this.i18nGenerateClosureVar(t.id),o=this.i18nFormatPlaceholderNames(e,!0),a=ZS(t),l=function(t,e,n,r,i={},s){const o=[];return o.push(...GS(t,e,n,r,i)),s&&o.push(new Fw(t.set(s(t)))),o}(i,s,function(t){return t.nodes.map(t=>t.visit(pO,null)).join("")}(t),a,o,r);return this.constantPool.statements.push(...l),i}i18nFormatPlaceholderNames(t={},e){const n={};return t&&Object.keys(t).length&&Object.keys(t).forEach(r=>n[sT(r,e)]=t[r]),n}i18nAppendBindings(t){t.length>0&&t.forEach(t=>this.i18n.appendBinding(t))}i18nBindProps(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];if(r instanceof Ax)e[n]=lE(r.value);else{const t=r.value.visit(this._valueConverter);if(this.allocateBindingSlots(t),t instanceof kI){const{strings:r,expressions:i}=t,{id:s,bindings:o}=this.i18n,a=function(t,e=0,n=0){if(!t.length)return"";let r="";const i=t.length-1;for(let s=0;s<i;s++)r+=`${t[s]}${tT(e+s,n)}`;return r+=t[i]}(r,o.size,s);this.i18nAppendBindings(i),e[n]=lE(a)}}}),e}i18nGenerateClosureVar(t){let e;const n=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){const r=oT("EXTERNAL_"),i=this.constantPool.uniqueName(n);e=`${r}${HE(t)}$$${i}`}else{const t=oT(n);e=this.constantPool.uniqueName(t)}return tE(e)}i18nUpdateRef(t){const{icus:e,meta:n,isRoot:r,isResolved:i,isEmitted:s}=t;if(r&&i&&!s&&!XS(n)){t.isEmitted=!0;const r=t.getSerializedPlaceholders();let i={},s=r.size?nT(r):{};let o;e.size&&e.forEach((t,e)=>{if(1===t.length)s[e]=t[0];else{const n=tT(`${WS}${e}`);s[e]=lE(n),i[e]=iE(t)}}),(Array.from(r.values()).some(t=>t.length>1)||Object.keys(i).length)&&(o=t=>{const e=[t];return Object.keys(i).length&&e.push(LS(i,!0)),xO(null,pC.i18nPostprocess,e)}),this.i18nTranslate(n,s,t.ref,o)}}i18nStart(t=null,e,n){const r=this.allocateDataSlot();if(this.i18nContext)this.i18n=this.i18nContext.forkChildContext(r,this.templateIndex,e);else{const t=tE(this.constantPool.uniqueName(VS));this.i18n=new tO(r,t,0,this.templateIndex,e)}const{id:i,ref:s}=this.i18n,o=[lE(r),s];i>0&&o.push(lE(i)),this.creationInstruction(t,n?pC.i18n:pC.i18nStart,o)}i18nEnd(t=null,e){if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);const{index:n,bindings:r}=this.i18n;if(r.size){const e=[];r.forEach(n=>{e.push({sourceSpan:t,value:()=>this.convertPropertyBinding(n)})}),this.updateInstructionChain(n,pC.i18nExp,e),this.updateInstruction(n,t,pC.i18nApply,[lE(n)])}e||this.creationInstruction(t,pC.i18nEnd),this.i18n=null}visitContent(t){const e=this.allocateDataSlot(),n=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,r=[lE(e)],i=[];this._ngContentReservedSlots.push(t.selector),t.attributes.forEach(t=>{const{name:e,value:n}=t;e===fO?i.push(...DO(t)):e.toLowerCase()!==mO&&i.push(lE(e),lE(n))}),i.length>0?r.push(lE(n),iE(i)):0!==n&&r.push(lE(n)),this.creationInstruction(t.sourceSpan,pC.projection,r),this.i18n&&this.i18n.appendProjection(t.i18n,e)}getNamespaceInstruction(t){switch(t){case"math":return pC.namespaceMathML;case"svg":return pC.namespaceSVG;default:return pC.namespaceHTML}}addNamespaceInstruction(t,e){this._namespace=t,this.creationInstruction(e.sourceSpan,t)}visitElement(t){const e=this.allocateDataSlot(),n=new rN(lE(e),null);let r=!1;const i=YS(t.i18n)&&!XS(t.i18n);if(i&&this.i18n)throw new Error("Could not mark an element as translatable inside of a translatable section");const s=[],o=[],[a,l]=Y_(t.name),c=X_(t.name);for(const C of t.attributes){const{name:t,value:e}=C;t===pT?r=!0:"style"===t?n.registerStyleAttr(e):"class"===t?n.registerClassAttr(e):C.i18n?s.push(C):o.push(C)}this.matchDirectives(t.name,t);const u=[lE(e)];c||u.push(lE(l));const h=[],d=[];t.inputs.forEach(t=>{n.registerBoundInput(t)||(0===t.type&&t.i18n?s.push(t):d.push(t))}),o.forEach(t=>{t.name===fO?h.push(...DO(t)):h.push(...IO(t.name),lE(t.value))}),h.push(...this.prepareNonRenderAttrs(d,t.outputs,n,[],s)),u.push(this.toAttrsParam(h)),u.push(this.prepareRefsParameter(t.references));const p=this._namespace,m=this.getNamespaceInstruction(a);m!==p&&this.addNamespaceInstruction(m,t),this.i18n&&this.i18n.appendElement(t.i18n,e);const f=!i&&this.i18n?!RO(t.children):t.children.length>0,g=!n.hasBindings&&0===t.outputs.length&&0===s.length&&!f,y=!g&&!n.hasBindings&&RO(t.children);if(g)this.creationInstruction(t.sourceSpan,c?pC.elementContainer:pC.element,_T(u));else{if(this.creationInstruction(t.sourceSpan,c?pC.elementContainerStart:pC.elementStart,_T(u)),r&&this.creationInstruction(t.sourceSpan,pC.disableBindings),s.length){let n=!1;const r=[],i=[];if(s.forEach(e=>{const s=e.i18n;if(e instanceof Nx)r.push(lE(e.name),this.i18nTranslate(s));else{const o=e.value.visit(this._valueConverter);if(this.allocateBindingSlots(o),o instanceof kI){const a=nT(iT(s));r.push(lE(e.name),this.i18nTranslate(s,a)),o.expressions.forEach(e=>{n=!0,i.push({sourceSpan:t.sourceSpan,value:()=>this.convertExpressionBinding(e)})})}}}),i.length&&this.updateInstructionChain(e,pC.i18nExp,i),r.length){const i=lE(this.allocateDataSlot()),s=this.constantPool.getConstLiteral(iE(r),!0);this.creationInstruction(t.sourceSpan,pC.i18nAttributes,[i,s]),n&&this.updateInstruction(e,t.sourceSpan,pC.i18nApply,[i])}}this.processStylingInstruction(e,n.buildStylingInstruction(t.sourceSpan,this.constantPool),!0),t.outputs.forEach(n=>{this.creationInstruction(n.sourceSpan,pC.listener,this.prepareListenerParameter(t.name,n,e))}),i&&this.i18nStart(t.sourceSpan,t.i18n,y)}const v=n.buildUpdateLevelInstructions(this._valueConverter),_=v.length-1;for(let C=0;C<=_;C++){const t=v[C];this._bindingSlots+=t.allocateBindingSlots,this.processStylingInstruction(e,t,!1)}const b=lE(void 0),w=[],E=[];if(d.forEach(t=>{const n=t.type;if(4===n){const e=t.value.visit(this._valueConverter),n=!(e instanceof SI)||!!e.value;this.allocateBindingSlots(e),w.push({name:RT(t.name),sourceSpan:t.sourceSpan,value:()=>n?this.convertPropertyBinding(e):b})}else{if(t.i18n)return;const r=t.value.visit(this._valueConverter);if(void 0!==r){const i=[],[s,o]=Y_(t.name),a=1===n,l=OO(t.securityContext,a);if(l&&i.push(l),s){const t=lE(s);l?i.push(t):i.push(lE(null),t)}if(this.allocateBindingSlots(r),0===n)r instanceof kI?this.interpolatedUpdateInstruction(function(t){switch(xT(t)){case 1:return pC.propertyInterpolate;case 3:return pC.propertyInterpolate1;case 5:return pC.propertyInterpolate2;case 7:return pC.propertyInterpolate3;case 9:return pC.propertyInterpolate4;case 11:return pC.propertyInterpolate5;case 13:return pC.propertyInterpolate6;case 15:return pC.propertyInterpolate7;case 17:return pC.propertyInterpolate8;default:return pC.propertyInterpolateV}}(r),e,o,t,r,i):w.push({name:o,sourceSpan:t.sourceSpan,value:()=>this.convertPropertyBinding(r),params:i});else if(1===n)if(r instanceof kI&&xT(r)>1)this.interpolatedUpdateInstruction(function(t){switch(xT(t)){case 3:return pC.attributeInterpolate1;case 5:return pC.attributeInterpolate2;case 7:return pC.attributeInterpolate3;case 9:return pC.attributeInterpolate4;case 11:return pC.attributeInterpolate5;case 13:return pC.attributeInterpolate6;case 15:return pC.attributeInterpolate7;case 17:return pC.attributeInterpolate8;default:return pC.attributeInterpolateV}}(r),e,o,t,r,i);else{const e=r instanceof kI?r.expressions[0]:r;E.push({name:o,sourceSpan:t.sourceSpan,value:()=>this.convertPropertyBinding(e),params:i})}else this.updateInstruction(e,t.sourceSpan,pC.classProp,()=>[lE(e),lE(o),this.convertPropertyBinding(r),...i])}}}),w.length>0&&this.updateInstructionChain(e,pC.property,w),E.length>0&&this.updateInstructionChain(e,pC.attribute,E),jx(this,t.children),!i&&this.i18n&&this.i18n.appendElement(t.i18n,e,!0),!g){const e=t.endSourceSpan||t.sourceSpan;i&&this.i18nEnd(e,y),r&&this.creationInstruction(e,pC.enableBindings),this.creationInstruction(e,c?pC.elementContainerEnd:pC.elementEnd)}}interpolatedUpdateInstruction(t,e,n,r,i,s){this.updateInstruction(e,r.sourceSpan,t,()=>[lE(n),...this.getUpdateInstructionArguments(i),...s])}visitTemplate(t){const e=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(t.i18n,e);const n=HE(t.tagName||""),r=`${this.contextName}${n?"_"+n:""}_${e}`,i=`${r}_Template`,s=[lE(e),tE(i),lE(t.tagName?Y_(t.tagName)[1]:t.tagName)];this.matchDirectives("ng-template",t);const o=[];t.attributes.forEach(t=>{o.push(yT(t.name),yT(t.value))}),o.push(...this.prepareNonRenderAttrs(t.inputs,t.outputs,void 0,t.templateAttrs)),s.push(this.toAttrsParam(o)),t.references&&t.references.length&&(s.push(this.prepareRefsParameter(t.references)),s.push(eE(pC.templateRefExtractor)));const a=new bO(this.constantPool,this._bindingScope,this.level+1,r,this.i18n,e,i,this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds);this._nestedTemplateFns.push(()=>{const e=a.buildTemplateFunction(t.children,t.variables,this._ngContentReservedSlots.length+this._ngContentSelectorsOffset,t.i18n);this.constantPool.statements.push(e.toDeclStmt(i,null)),a._ngContentReservedSlots.length&&this._ngContentReservedSlots.push(...a._ngContentReservedSlots)}),this.creationInstruction(t.sourceSpan,pC.templateCreate,()=>(s.splice(2,0,lE(a.getConstCount()),lE(a.getVarCount())),_T(s))),this.templatePropertyBindings(e,t.templateAttrs),"ng-template"===t.tagName&&(this.templatePropertyBindings(e,t.inputs),t.outputs.forEach(t=>{this.creationInstruction(t.sourceSpan,pC.listener,this.prepareListenerParameter("ng_template",t,e))}))}visitBoundText(t){if(this.i18n){const e=t.value.visit(this._valueConverter);return this.allocateBindingSlots(e),void(e instanceof kI&&(this.i18n.appendBoundText(t.i18n),this.i18nAppendBindings(e.expressions)))}const e=this.allocateDataSlot();this.creationInstruction(t.sourceSpan,pC.text,[lE(e)]);const n=t.value.visit(this._valueConverter);this.allocateBindingSlots(n),n instanceof kI?this.updateInstruction(e,t.sourceSpan,function(t){switch(xT(t)){case 1:return pC.textInterpolate;case 3:return pC.textInterpolate1;case 5:return pC.textInterpolate2;case 7:return pC.textInterpolate3;case 9:return pC.textInterpolate4;case 11:return pC.textInterpolate5;case 13:return pC.textInterpolate6;case 15:return pC.textInterpolate7;case 17:return pC.textInterpolate8;default:return pC.textInterpolateV}}(n),()=>this.getUpdateInstructionArguments(n)):this.updateInstruction(e,t.sourceSpan,pC.textBinding,()=>[this.convertPropertyBinding(n)])}visitText(t){this.i18n||this.creationInstruction(t.sourceSpan,pC.text,[lE(this.allocateDataSlot()),lE(t.value)])}visitIcu(t){let e=!1;this.i18n||(e=!0,this.i18nStart(null,t.i18n,!0));const n=this.i18n,r=this.i18nBindProps(t.vars),i=this.i18nBindProps(t.placeholders),s=t.i18n,o=t=>{const e=Object.assign({},r,i),n=this.i18nFormatPlaceholderNames(e,!1);return xO(null,pC.i18nPostprocess,[t,LS(n,!0)])};if(XS(n.meta))this.i18nTranslate(s,{},n.ref,o);else{const t=this.i18nTranslate(s,{},void 0,o);n.appendIcu(JS(s).name,t)}return e&&this.i18nEnd(null,!0),null}allocateDataSlot(){return this._dataIndex++}getConstCount(){return this._dataIndex}getVarCount(){return this._pureFunctionSlots}getNgContentSelectors(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(yT(this._ngContentReservedSlots),!0):null}bindingContext(){return`${this._bindingContext++}`}templatePropertyBindings(t,e){const n=[];e.forEach(t=>{if(t instanceof Ox){const e=t.value.visit(this._valueConverter);void 0!==e&&(this.allocateBindingSlots(e),n.push({name:t.name,sourceSpan:t.sourceSpan,value:()=>this.convertPropertyBinding(e)}))}}),n.length>0&&this.updateInstructionChain(t,pC.property,n)}instructionFn(t,e,n,r,i=!1){t[i?"unshift":"push"](()=>{const t=Array.isArray(r)?r:r();return xO(e,n,t).toStmt()})}processStylingInstruction(t,e,n){e&&(n?this.creationInstruction(e.sourceSpan,e.reference,()=>e.params(t=>this.convertPropertyBinding(t))):this.updateInstruction(t,e.sourceSpan,e.reference,()=>e.params(t=>e.supportsInterpolation&&t instanceof kI?this.getUpdateInstructionArguments(t):this.convertPropertyBinding(t))))}creationInstruction(t,e,n,r){this.instructionFn(this._creationCodeFns,t,e,n||[],r)}updateInstruction(t,e,n,r){this.addSelectInstructionIfNecessary(t,e),this.instructionFn(this._updateCodeFns,e,n,r||[])}updateInstructionChain(t,e,n){const r=n.length?n[0].sourceSpan:null;this.addSelectInstructionIfNecessary(t,r),this._updateCodeFns.push(()=>{const t=n.map(t=>{const e=[t.value(),...t.params||[]];return t.name&&e.unshift(lE(t.name)),e});return CT(e,t,r).toStmt()})}addSelectInstructionIfNecessary(t,e){this._lastNodeIndexWithFlush<t&&(t>0&&this.instructionFn(this._updateCodeFns,e,pC.select,[lE(t)]),this._lastNodeIndexWithFlush=t)}allocatePureFunctionSlots(t){const e=this._pureFunctionSlots;return this._pureFunctionSlots+=t,e}allocateBindingSlots(t){this._bindingSlots+=t instanceof kI?t.expressions.length:1}getImplicitReceiverExpr(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=0===this.level?tE(cT):this._bindingScope.getOrCreateSharedContextVar(0)}convertExpressionBinding(t){return JI(this,this.getImplicitReceiverExpr(),t,this.bindingContext(),zI.TrySimple).currValExpr}convertPropertyBinding(t){const e=JI(this,this.getImplicitReceiverExpr(),t,this.bindingContext(),zI.TrySimple,()=>vE("Unexpected interpolation")),n=e.currValExpr;return this._tempVariables.push(...e.stmts),n}getUpdateInstructionArguments(t){const{args:e,stmts:n}=function(t,e,n,r){const i=new ok(t,e,r,void 0),s=n.visit(i,$I.Expression);i.usesImplicitReceiver&&t.notifyImplicitReceiverUse();const o=tk(i,r);let a=s.args.slice(1);if(n instanceof kI){const t=n.strings;3===a.length&&""===t[0]&&""===t[1]?a=[a[1]]:a.length>=19&&(a=[iE(a)])}return{stmts:o,args:a}}(this,this.getImplicitReceiverExpr(),t,this.bindingContext());return this._tempVariables.push(...n),e}matchDirectives(t,e){if(this.directiveMatcher){const n=function(t,e){const n=new cb;return n.setElement(t),Object.getOwnPropertyNames(e).forEach(t=>{const r=e[t];if(n.addAttribute(t,r),"class"===t.toLowerCase()){r.trim().split(/\s+/).forEach(t=>n.addClassName(t))}}),n}(t,ET(e));this.directiveMatcher.match(n,(t,e)=>{this.directives.add(e)})}}prepareNonRenderAttrs(t,e,n,r=[],i=[]){const s=new Set,o=[];function a(t,e){"string"==typeof t?s.has(t)||(o.push(...IO(t)),void 0!==e&&o.push(e),s.add(t)):o.push(lE(t))}if(n&&n.populateInitialStylingAttrs(o),t.length||e.length){const n=o.length;for(let e=0;e<t.length;e++){const n=t[e];4!==n.type&&1!==n.type&&a(n.name)}for(let t=0;t<e.length;t++){const n=e[t];1!==n.type&&a(n.name)}o.length!==n&&o.splice(n,0,lE(3))}return r.length&&(o.push(lE(4)),r.forEach(t=>a(t.name))),i.length&&(o.push(lE(6)),i.forEach(t=>a(t.name))),o}toAttrsParam(t){return t.length>0?this.constantPool.getConstLiteral(iE(t),!0):Ow}prepareRefsParameter(t){if(!t||0===t.length)return Ow;const e=cC(t.map(t=>{const e=this.allocateDataSlot(),n=this._bindingScope.freshReferenceName(),r=this.level,i=tE(n);return this._bindingScope.set(r,t.name,i,0,(t,n)=>{const r=n>0?[SO(n).toStmt()]:[],s=i.set(eE(pC.reference).callFn([lE(e)]));return r.concat(s.toConstDecl())},!0),[t.name,t.value]}));return this.constantPool.getConstLiteral(yT(e),!0)}prepareListenerParameter(t,e,n){return()=>{const r=e.name,i=1===e.type?MT(r,e.phase):HE(r),s=`${this.templateName}_${t}_${i}_${n}_listener`,o=this._bindingScope.nestedScope(this._bindingScope.bindingLevel);return _O(e,s,o)}}}class wO extends jI{constructor(t,e,n,r){super(),this.constantPool=t,this.allocateSlot=e,this.allocatePureFunctionSlots=n,this.definePipe=r,this._pipeBindExprs=[]}visitPipe(t,e){const n=this.allocateSlot(),r=`PIPE:${n}`,i=this.allocatePureFunctionSlots(2+t.args.length),s=new _I(t.span,new gI(t.span),r),{identifier:o,isVarLength:a}=function(t){const e=EO[t.length];return{identifier:e||pC.pipeBindV,isVarLength:!e}}(t.args);this.definePipe(t.name,r,n,eE(o));const l=[t.exp,...t.args],c=a?this.visitAll([new TI(t.span,l)]):this.visitAll(l),u=new RI(t.span,s,[new SI(t.span,n),new SI(t.span,i),...c]);return this._pipeBindExprs.push(u),u}updatePipeSlotOffsets(t){this._pipeBindExprs.forEach(e=>{e.args[1].value+=t})}visitLiteralArray(t,e){return new lk(t.span,this.visitAll(t.expressions),t=>{const e=iE(t);return t.every(t=>t.isConstant())?this.constantPool.getConstLiteral(e,!0):TO(this.constantPool,e,this.allocatePureFunctionSlots)})}visitLiteralMap(t,e){return new lk(t.span,this.visitAll(t.values),e=>{const n=sE(e.map((e,n)=>({key:t.keys[n].key,value:e,quoted:t.keys[n].quoted})));return e.every(t=>t.isConstant())?this.constantPool.getConstLiteral(n,!0):TO(this.constantPool,n,this.allocatePureFunctionSlots)})}}const EO=[pC.pipeBind1,pC.pipeBind2,pC.pipeBind3,pC.pipeBind4];const CO=[pC.pureFunction0,pC.pureFunction1,pC.pureFunction2,pC.pureFunction3,pC.pureFunction4,pC.pureFunction5,pC.pureFunction6,pC.pureFunction7,pC.pureFunction8];function xO(t,e,n){return eE(e,null,t).callFn(n,t)}function SO(t){return eE(pC.nextContext).callFn(t>1?[lE(t)]:[])}function TO(t,e,n){const{literalFactory:r,literalFactoryArguments:i}=t.getLiteralFactory(e),s=n(1+i.length);i.length>0||vE("Expected arguments to a literal factory function");const{identifier:o,isVarLength:a}=function(t){const e=CO[t.length];return{identifier:e||pC.pureFunctionV,isVarLength:!e}}(i),l=[lE(s),r];return a?l.push(iE(i)):l.push(...i),eE(o).callFn(l)}function IO(t){const[e,n]=Y_(t),r=lE(n);return e?[lE(0),lE(e),r]:[r]}const kO="$$shared_ctx$$";class AO{constructor(t=0,e=null){this.bindingLevel=t,this.parent=e,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null}static get ROOT_SCOPE(){return AO._ROOT_SCOPE||(AO._ROOT_SCOPE=(new AO).set(0,"$event",tE("$event"))),AO._ROOT_SCOPE}get(t){let e=this;for(;e;){let n=e.map.get(t);if(null!=n)return e!==this&&(n={retrievalLevel:n.retrievalLevel,lhs:n.lhs,declareLocalCallback:n.declareLocalCallback,declare:!1,priority:n.priority,localRef:n.localRef},this.map.set(t,n),this.maybeGenerateSharedContextVar(n),this.maybeRestoreView(n.retrievalLevel,n.localRef)),n.declareLocalCallback&&!n.declare&&(n.declare=!0),n.lhs;e=e.parent}return 0===this.bindingLevel?null:this.getComponentProperty(t)}set(t,e,n,r=0,i,s){if(this.map.has(e)){if(s)return this;vE(`The name ${e} is already defined in scope to be ${this.map.get(e)}`)}return this.map.set(e,{retrievalLevel:t,lhs:n,declare:!1,declareLocalCallback:i,priority:r,localRef:s||!1}),this}getLocal(t){return this.get(t)}notifyImplicitReceiverUse(){0!==this.bindingLevel&&(this.map.get(kO+0).declare=!0)}nestedScope(t){const e=new AO(t,this);return t>0&&e.generateSharedContextVar(0),e}getOrCreateSharedContextVar(t){const e=kO+t;return this.map.has(e)||this.generateSharedContextVar(t),this.map.get(e).lhs}getSharedContextName(t){const e=this.map.get(kO+t);return e&&e.declare?e.lhs:null}maybeGenerateSharedContextVar(t){if(1===t.priority&&t.retrievalLevel<this.bindingLevel){const e=this.map.get(kO+t.retrievalLevel);e?e.declare=!0:this.generateSharedContextVar(t.retrievalLevel)}}generateSharedContextVar(t){const e=tE(cT+this.freshReferenceName());this.map.set(kO+t,{retrievalLevel:t,lhs:e,declareLocalCallback:(t,n)=>[e.set(SO(n)).toConstDecl()],declare:!1,priority:2,localRef:!1})}getComponentProperty(t){const e=this.map.get(kO+0);return e.declare=!0,this.maybeRestoreView(0,!1),e.lhs.prop(t)}maybeRestoreView(t,e){this.isListenerScope()&&(t<this.bindingLevel||e)&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=tE(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}restoreViewStatement(){return this.restoreViewVariable?[xO(null,pC.restoreView,[this.restoreViewVariable]).toStmt()]:[]}viewSnapshotStatements(){const t=xO(null,pC.getCurrentView,[]);return this.restoreViewVariable?[this.restoreViewVariable.set(t).toConstDecl()]:[]}isListenerScope(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}variableDeclarations(){let t=0;return Array.from(this.map.values()).filter(t=>t.declare).sort((t,e)=>e.retrievalLevel-t.retrievalLevel||e.priority-t.priority).reduce((e,n)=>{const r=this.bindingLevel-n.retrievalLevel,i=n.declareLocalCallback(this,r-t);return t=r,e.concat(i)},[])}freshReferenceName(){let t=this;for(;t.parent;)t=t.parent;return`${hT}${t.referenceNameIndex++}`}}function DO(t){const e=qb(t.value)[0];return[lE(5),yT(e)]}function NO(t=jT){return new hD(new EN(new cN),t,new MN,null,[])}function OO(t,e){switch(t){case Vb.HTML:return eE(pC.sanitizeHtml);case Vb.SCRIPT:return eE(pC.sanitizeScript);case Vb.STYLE:return e?eE(pC.sanitizeStyle):null;case Vb.URL:return eE(pC.sanitizeUrl);case Vb.RESOURCE_URL:return eE(pC.sanitizeResourceUrl);default:return null}}function PO(t){return t instanceof Ax||t instanceof Dx||t instanceof Bx}function RO(t){return t.every(PO)}const MO=[],LO=/attr\.([^\]]+)/;function FO(t,e,n){const r=new wT;r.set("type",t.type),r.set("selectors",yT(qb(t.selector)));const i=IT({name:t.name,type:t.type,deps:t.deps,injectFn:pC.directiveInject});return r.set("factory",i.factory),t.queries.length>0&&r.set("contentQueries",qO(t.queries,e,t.name)),t.viewQueries.length&&r.set("viewQuery",WO(t.viewQueries,e,t.name)),r.set("hostBindings",KO(t.host,t.typeSourceSpan,n,e,t.selector||"",t.name)),r.set("inputs",vT(t.inputs,!0)),r.set("outputs",vT(t.outputs)),null!==t.exportAs&&r.set("exportAs",iE(t.exportAs.map(t=>lE(t)))),{definitionMap:r,statements:i.statements}}function VO(t,e){const n=[],r=e.providers,i=e.viewProviders;if(r||i){const t=[r||new Iw([])];i&&t.push(i),n.push(eE(pC.ProvidersFeature).callFn(t))}e.usesInheritance&&n.push(eE(pC.InheritDefinitionFeature)),e.lifecycle.usesOnChanges&&n.push(eE(pC.NgOnChangesFeature).callFn(MO)),n.length&&t.set("features",iE(n))}function BO(t,e,n){const{definitionMap:r,statements:i}=FO(t,e,n);VO(r,t);const s=eE(pC.defineDirective).callFn([r.toLiteralMap()]);if(!t.selector)throw new Error(`Directive ${t.name} has no selector, please add it!`);return{expression:s,type:HO(t,pC.DirectiveDefWithMeta),statements:i}}function jO(t,e,n){const{definitionMap:r,statements:i}=FO(t,e,n);VO(r,t);const s=t.selector&&cb.parse(t.selector),o=s&&s[0];if(o){const t=o.getAttrs();t.length&&r.set("attrs",e.getConstLiteral(iE(t.map(t=>lE(null!=t?t:void 0))),!0))}let a=null;if(t.directives.length>0){const e=new ub;for(const{selector:n,expression:r}of t.directives)e.addSelectables(cb.parse(n),r);a=e}const l=t.name,c=l?`${l}_Template`:null,u=new Set,h=new Set,d=t.changeDetection,p=t.template,m=new bO(e,AO.ROOT_SCOPE,0,l,null,null,c,a,u,t.pipes,h,pC.namespaceHTML,t.relativeContextFilePath,t.i18nUseExternalIds),f=m.buildTemplateFunction(p.nodes,[]),g=m.getNgContentSelectors();if(g&&r.set("ngContentSelectors",g),r.set("consts",lE(m.getConstCount())),r.set("vars",lE(m.getVarCount())),r.set("template",f),u.size){let e=iE(Array.from(u));t.wrapDirectivesAndPipesInClosure&&(e=oE([],[new Vw(e)])),r.set("directives",e)}if(h.size){let e=iE(Array.from(h));t.wrapDirectivesAndPipesInClosure&&(e=oE([],[new Vw(e)])),r.set("pipes",e)}if(null===t.encapsulation&&(t.encapsulation=wb.Emulated),t.styles&&t.styles.length){const e=(t.encapsulation==wb.Emulated?function(t,e,n){const r=new ck;return t.map(t=>r.shimCssText(t,e,n))}(t.styles,Fk,Lk):t.styles).map(t=>lE(t));r.set("styles",iE(e))}else t.encapsulation===wb.Emulated&&(t.encapsulation=wb.None);t.encapsulation!==wb.Emulated&&r.set("encapsulation",lE(t.encapsulation)),null!==t.animations&&r.set("data",sE([{key:"animation",value:t.animations,quoted:!1}])),null!=d&&d!==Eb.Default&&r.set("changeDetection",lE(d));(t.selector||"").replace(/\n/g,"");return{expression:eE(pC.defineComponent).callFn([r.toLiteralMap()]),type:HO(t,pC.ComponentDefWithMeta),statements:i}}function UO(t,e){const n=[bT(t,e),lE(t.descendants)];return t.read&&n.push(t.read),n}function qO(t,e,n){const r=[],i=[],s=mT(i,lT);for(const a of t){const t=a.static?pC.staticContentQuery:pC.contentQuery;r.push(eE(t).callFn([tE("dirIndex"),...UO(a,e)]).toStmt());const n=s(),o=eE(pC.loadContentQuery).callFn([]),l=eE(pC.queryRefresh).callFn([n.set(o)]),c=tE(cT).prop(a.propertyName).set(a.first?n.prop("first"):n);i.push(l.and(c).toStmt())}const o=n?`${n}_ContentQueries`:null;return oE([new Ew(uT,Jb),new Ew(cT,null),new Ew("dirIndex",null)],[vO(1,r),vO(2,i)],Xb,null,o)}function zO(t){return rE(sE(Object.keys(t).map(e=>{return{key:e,value:lE(Array.isArray(t[e])?t[e][0]:t[e]),quoted:!0}})))}function $O(t){return t.length>0?rE(iE(t.map(t=>lE(t)))):tw}function HO(t,e){const n=(t.selector||"").replace(/\n/g,"");return rE(eE(e,[OT(t.type,t.typeArgumentCount),(r=n,rE(lE(r))),null!==t.exportAs?$O(t.exportAs):tw,zO(t.inputs),zO(t.outputs),$O(t.queries.map(t=>t.propertyName))]));var r}function WO(t,e,n){const r=[],i=[],s=mT(i,lT);t.forEach(t=>{const n=eE(t.static?pC.staticViewQuery:pC.viewQuery).callFn(UO(t,e));r.push(n.toStmt());const o=s(),a=eE(pC.loadViewQuery).callFn([]),l=eE(pC.queryRefresh).callFn([o.set(a)]),c=tE(cT).prop(t.propertyName).set(t.first?o.prop("first"):o);i.push(l.and(c).toStmt())});const o=n?`${n}_Query`:null;return oE([new Ew(uT,Jb),new Ew(cT,null)],[vO(1,r),vO(2,i)],Xb,null,o)}function KO(t,e,n,r,i,s){const o=Object.keys(t.properties).length,a=tE("elIndex"),l=tE(cT),c=new rN(a,l),{styleAttr:u,classAttr:h}=t.specialAttributes;void 0!==u&&c.registerStyleAttr(u),void 0!==h&&c.registerClassAttr(h);const d=[],p=[];let m=o;const f=e,g=YO(t);let y;const v=()=>{if(!y){y=new wO(r,()=>vE("Unexpected node"),t=>{const e=m;return m+=t,e},()=>vE("Unexpected pipe"))}return y},_=n.createDirectiveHostEventAsts(g,f);if(_&&_.length){const t=function(t,e){return t.map(t=>{let n=t.name&&HE(t.name);const r=1===t.type?MT(n,t.targetOrPhase):n,i=e&&n?`${e}_${r}_HostBindingHandler`:null,s=_O(Px.fromParsedEvent(t),i);return eE(1==t.type?pC.componentHostSyntheticListener:pC.listener).callFn(s).toStmt()})}(_,s);d.push(...t)}const b=n.createBoundHostProperties(g,f),w=[],E=[],C=[];b&&b.forEach(t=>{const e=t.name;if(!c.registerInputBasedOnName(e,t.expression,t.sourceSpan)){const e=t.expression.visit(v()),r=GO(l,e),{bindingName:s,instruction:o,isAttribute:a}=function(t){let e,n=t.name;const r=n.match(LO);r?(n=r[1],e=pC.attribute):t.isAnimation?(n=RT(n),e=pC.updateSyntheticHostBinding):e=pC.hostProperty;return{bindingName:n,instruction:e,isAttribute:!!r}}(t),c=n.calcPossibleSecurityContexts(i,s,a).filter(t=>t!==Vb.NONE);let u=null;c.length&&(u=2===c.length&&c.indexOf(Vb.URL)>-1&&c.indexOf(Vb.RESOURCE_URL)>-1?eE(pC.sanitizeUrlOrResourceUrl):OO(c[0],a));const h=[lE(s),r.currValExpr];u&&h.push(u),p.push(...r.stmts),o===pC.hostProperty?w.push(h):o===pC.attribute?E.push(h):o===pC.updateSyntheticHostBinding?C.push(h):p.push(eE(o).callFn(h).toStmt())}}),w.length>0&&p.push(CT(pC.hostProperty,w).toStmt()),E.length>0&&p.push(CT(pC.attribute,E).toStmt()),C.length>0&&p.push(CT(pC.updateSyntheticHostBinding,C).toStmt());const x=function(t){const e=[];for(let n of Object.getOwnPropertyNames(t)){const r=t[n];e.push(lE(n),r)}return e}(t.attributes),S=c.buildHostAttrsInstruction(null,x,r);if(S&&d.push(QO(S,l,GO)),c.hasBindings){const t=c.buildStylingInstruction(null,r);t&&d.push(QO(t,l,GO)),c.buildUpdateLevelInstructions(v()).forEach(t=>{m+=Math.max(t.allocateBindingSlots-1,0),p.push(QO(t,l,GO))})}if(m&&d.unshift(eE(pC.allocHostVars).callFn([lE(m)]).toStmt()),d.length>0||p.length>0){const t=s?`${s}_HostBindings`:null,e=[];return d.length>0&&e.push(vO(1,d)),p.length>0&&e.push(vO(2,p)),oE([new Ew(uT,Jb),new Ew(cT,null),new Ew(a.name,Jb)],e,Xb,null,t)}return null}function GO(t,e){return JI(null,t,e,"b",zI.TrySimple,()=>vE("Unexpected interpolation"))}function QO(t,e,n){const r=t.params(t=>n(e,t).currValExpr);return eE(t.reference,null,t.sourceSpan).callFn(r,t.sourceSpan).toStmt()}function YO(t){return{hostAttributes:{},hostListeners:t.listeners,hostProperties:t.properties}}const XO=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;class ZO{get(t){return""}}class JO{constructor(t=new iI){this.jitEvaluator=t,this.R3ResolvedDependencyType=TT,this.ResourceLoader=ZO,this.elementSchemaRegistry=new MN}compilePipe(t,e,n){const r=uI({name:n.name,type:new cw(n.type),typeArgumentCount:n.typeArgumentCount,deps:uP(n.deps),pipeName:n.pipeName,pure:n.pure});return this.jitExpression(r.expression,t,e,r.statements)}compileInjectable(t,e,n){const{expression:r,statements:i}=function(t){let e=null;const n={name:t.name,type:t.type,deps:t.ctorDeps,injectFn:BE.inject};if(void 0!==t.useClass){const r=t.useClass.isEquivalent(t.type);let i=void 0;void 0!==t.userDeps&&(i=t.userDeps),e=IT(void 0!==i?Object.assign({},n,{delegate:t.useClass,delegateDeps:i,delegateType:ST.Class}):r?n:Object.assign({},n,{delegate:t.useClass,delegateType:ST.Factory}))}else e=void 0!==t.useFactory?IT(Object.assign({},n,{delegate:t.useFactory,delegateDeps:t.userDeps||[],delegateType:ST.Function})):void 0!==t.useValue?IT(Object.assign({},n,{expression:t.useValue})):void 0!==t.useExisting?IT(Object.assign({},n,{expression:eE(BE.inject).callFn([t.useExisting])})):IT(n);const r=t.type,i=t.providedIn;return{expression:eE(BE.\u0275\u0275defineInjectable).callFn([NT({token:r,factory:e.factory,providedIn:i})]),type:new Kb(eE(BE.InjectableDef,[OT(t.type,t.typeArgumentCount)])),statements:e.statements}}({name:n.name,type:new cw(n.type),typeArgumentCount:n.typeArgumentCount,providedIn:lP(n.providedIn),useClass:aP(n,tP),useFactory:aP(n,eP),useValue:aP(n,nP),useExisting:aP(n,rP),ctorDeps:uP(n.ctorDeps),userDeps:uP(n.userDeps)||void 0});return this.jitExpression(r,t,e,i)}compileInjector(t,e,n){const r=function(t){const e=IT({name:t.name,type:t.type,deps:t.deps,injectFn:pC.inject}),n={factory:e.factory};return null!==t.providers&&(n.providers=t.providers),t.imports.length>0&&(n.imports=iE(t.imports)),{expression:eE(pC.defineInjector).callFn([NT(n)]),type:new Kb(eE(pC.InjectorDef,[new Kb(t.type)])),statements:e.statements}}({name:n.name,type:new cw(n.type),deps:uP(n.deps),providers:new cw(n.providers),imports:n.imports.map(t=>new cw(t))});return this.jitExpression(r.expression,t,e,r.statements)}compileNgModule(t,e,n){const r=aI({type:new cw(n.type),bootstrap:n.bootstrap.map(iP),declarations:n.declarations.map(iP),imports:n.imports.map(iP),exports:n.exports.map(iP),emitInline:!0,containsForwardDecls:!1,schemas:n.schemas?n.schemas.map(iP):null,id:n.id?new cw(n.id):null});return this.jitExpression(r.expression,t,e,[])}compileDirective(t,e,n){const r=new RE,i=NO(),s=BO(oP(n),r,i),o=[...r.statements,...s.statements];return this.jitExpression(s.expression,t,e,o)}compileComponent(t,e,n){const r=new RE,i=n.interpolation?BT.fromArray(n.interpolation):jT,s=function(t,e,n={}){const{interpolationConfig:r,preserveWhitespaces:i}=n,s=NO(r),o=(new yA).parse(t,e,Object.assign({leadingTriviaChars:yO},n,{tokenizeExpansionForms:!0}));if(o.errors&&o.errors.length>0)return{errors:o.errors,nodes:[],styleUrls:[],styles:[]};let a=o.rootNodes;a=Gk(new dO(r,!i),a),i||(a=Gk(new xA,a),a=Gk(new dO(r,!1),a));const{nodes:l,errors:c,styleUrls:u,styles:h}=GN(a,s);return c&&c.length>0?{errors:c,nodes:[],styleUrls:[],styles:[]}:{nodes:l,styleUrls:u,styles:h}}(n.template,e,{preserveWhitespaces:n.preserveWhitespaces,interpolationConfig:i});if(void 0!==s.errors){const t=s.errors.map(t=>t.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${n.name}: ${t}`)}const o=jO(Object.assign({},n,oP(n),{selector:n.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:s,wrapDirectivesAndPipesInClosure:!1,styles:n.styles||[],encapsulation:n.encapsulation,interpolation:i,changeDetection:n.changeDetection,animations:null!=n.animations?new cw(n.animations):null,viewProviders:null!=n.viewProviders?new cw(n.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),r,NO(i)),a=[...r.statements,...o.statements];return this.jitExpression(o.expression,t,`ng:///${n.name}.js`,a)}compileBase(t,e,n){const r=new RE,i=this.createParseSourceSpan("Base",n.name,`ng:///${n.name}.js`),s=function(t,e,n){const r=new wT;if(t.inputs){const e=t.inputs,n=Object.keys(e).map(t=>{const n=e[t];return{key:t,value:Array.isArray(n)?iE(n.map(t=>lE(t))):lE(n),quoted:!1}});r.set("inputs",sE(n))}if(t.outputs){const e=t.outputs,n=Object.keys(e).map(t=>{return{key:t,value:lE(e[t]),quoted:!1}});r.set("outputs",sE(n))}return t.viewQueries&&t.viewQueries.length>0&&r.set("viewQuery",WO(t.viewQueries,e)),t.queries&&t.queries.length>0&&r.set("contentQueries",qO(t.queries,e)),t.host&&r.set("hostBindings",KO(t.host,t.typeSourceSpan,n,e,t.name)),{expression:eE(pC.defineBase).callFn([r.toLiteralMap()]),type:new Kb(eE(pC.BaseDef),null,[rE(t.type)])}}(Object.assign({},n,{typeSourceSpan:i,viewQueries:n.viewQueries?n.viewQueries.map(sP):n.viewQueries,queries:n.queries?n.queries.map(sP):n.queries,host:hP(n.propMetadata,i)}),r,NO());return this.jitExpression(s.expression,t,e,r.statements)}createParseSourceSpan(t,e,n){return function(t,e,n){const r=new xx("",`in ${t} ${e} in ${n}`);return new Sx(new Cx(r,-1,-1,-1),new Cx(r,-1,-1,-1))}(t,e,n)}jitExpression(t,e,n,r){const i=[...r,new Mw("$def",t,void 0,[Pw.Exported])];return this.jitEvaluator.evaluateStatements(n,i,new oI(e),!0).$def}}const tP=Object.keys({useClass:null})[0],eP=Object.keys({useFactory:null})[0],nP=Object.keys({useValue:null})[0],rP=Object.keys({useExisting:null})[0],iP=function(t){const e=new cw(t);return{value:e,type:e}};function sP(t){return Object.assign({},t,{predicate:Array.isArray(t.predicate)?t.predicate:new cw(t.predicate),read:t.read?new cw(t.read):null,static:t.static})}function oP(t){const e=gP(t.inputs||[]),n=gP(t.outputs||[]),r=t.propMetadata,i={},s={};for(const o in r)r.hasOwnProperty(o)&&r[o].forEach(t=>{mP(t)?i[o]=t.bindingPropertyName?[t.bindingPropertyName,o]:o:fP(t)&&(s[o]=t.bindingPropertyName||o)});return Object.assign({},t,{typeSourceSpan:t.typeSourceSpan,type:new cw(t.type),deps:uP(t.deps),host:hP(t.propMetadata,t.typeSourceSpan,t.host),inputs:Object.assign({},e,i),outputs:Object.assign({},n,s),queries:t.queries.map(sP),providers:null!=t.providers?new cw(t.providers):null,viewQueries:t.viewQueries.map(sP)})}function aP(t,e){return t.hasOwnProperty(e)?new cw(t[e]):void 0}function lP(t){return null==t||"string"==typeof t?new gw(t):new cw(t)}function cP(t){let e;return{token:e=null===t.token?new gw(null):t.resolved===TT.Attribute?new gw(t.token):new cw(t.token),resolved:t.resolved,host:t.host,optional:t.optional,self:t.self,skipSelf:t.skipSelf}}function uP(t){return null==t?null:t.map(cP)}function hP(t,e,n){const r=function(t){const e={},n={},r={},i={};for(const s of Object.keys(t)){const o=t[s],a=s.match(XO);if(null===a)switch(s){case"class":if("string"!=typeof o)throw new Error("Class binding must be string");i.classAttr=o;break;case"style":if("string"!=typeof o)throw new Error("Style binding must be string");i.styleAttr=o;break;default:e[s]="string"==typeof o?lE(o):o}else if(null!=a[1]){if("string"!=typeof o)throw new Error("Property binding must be string");r[a[1]]=o}else if(null!=a[2]){if("string"!=typeof o)throw new Error("Event binding must be string");n[a[2]]=o}}return{attributes:e,listeners:n,properties:r,specialAttributes:i}}(n||{}),i=function(t,e){const n=YO(t),r=NO();return r.createDirectiveHostEventAsts(n,e),r.createBoundHostProperties(n,e),r.errors}(r,e);if(i.length)throw new Error(i.map(t=>t.msg).join("\n"));for(const s in t)t.hasOwnProperty(s)&&t[s].forEach(t=>{dP(t)?r.properties[t.hostPropertyName||s]=s:pP(t)&&(r.listeners[t.eventName||s]=`${s}(${(t.args||[]).join(",")})`)});return r}function dP(t){return"HostBinding"===t.ngMetadataName}function pP(t){return"HostListener"===t.ngMetadataName}function mP(t){return"Input"===t.ngMetadataName}function fP(t){return"Output"===t.ngMetadataName}function gP(t){return t.reduce((t,e)=>{const[n,r]=e.split(",").map(t=>t.trim());return t[n]=r||n,t},{})}new class{constructor(t){this.full=t;const e=t.split(".");this.major=e[0],this.minor=e[1],this.patch=e.slice(2).join(".")}}("8.2.5");class yP{constructor({defaultEncapsulation:t=wb.Emulated,useJit:e=!0,jitDevMode:n=!1,missingTranslation:r=null,preserveWhitespaces:i,strictInjectionParameters:s}={}){this.defaultEncapsulation=t,this.useJit=!!e,this.jitDevMode=!!n,this.missingTranslation=r,this.preserveWhitespaces=vP(fE(i)),this.strictInjectionParameters=!0===s}}function vP(t,e=!1){return null===t?e:t}class _P{constructor(t,e,n,r){this._resourceLoader=t,this._urlResolver=e,this._htmlParser=n,this._config=r,this._resourceLoaderCache=new Map}clearCache(){this._resourceLoaderCache.clear()}clearCacheFor(t){if(!t.isComponent)return;const e=t.template;this._resourceLoaderCache.delete(e.templateUrl),e.externalStylesheets.forEach(t=>{this._resourceLoaderCache.delete(t.moduleUrl)})}_fetch(t){let e=this._resourceLoaderCache.get(t);return e||(e=this._resourceLoader.get(t),this._resourceLoaderCache.set(t,e)),e}normalizeTemplate(t){if(mE(t.template)){if(mE(t.templateUrl))throw _E(`'${SE(t.componentType)}' component cannot define both template and templateUrl`);if("string"!=typeof t.template)throw _E(`The template specified for component ${SE(t.componentType)} is not a string`)}else{if(!mE(t.templateUrl))throw _E(`No template specified for component ${SE(t.componentType)}`);if("string"!=typeof t.templateUrl)throw _E(`The templateUrl specified for component ${SE(t.componentType)} is not a string`)}if(mE(t.preserveWhitespaces)&&"boolean"!=typeof t.preserveWhitespaces)throw _E(`The preserveWhitespaces option for component ${SE(t.componentType)} must be a boolean`);return yE.then(this._preParseTemplate(t),e=>this._normalizeTemplateMetadata(t,e))}_preParseTemplate(t){let e,n;return null!=t.template?(e=t.template,n=t.moduleUrl):(n=this._urlResolver.resolve(t.moduleUrl,t.templateUrl),e=this._fetch(n)),yE.then(e,e=>this._preparseLoadedTemplate(t,e,n))}_preparseLoadedTemplate(t,e,n){const r=!!t.template,i=BT.fromArray(t.interpolation),s=hC({reference:t.ngModuleType},{type:{reference:t.componentType}},{isInline:r,templateUrl:n}),o=this._htmlParser.parse(e,s,{tokenizeExpansionForms:!0,interpolationConfig:i});if(o.errors.length>0){throw _E(`Template parse errors:\n${o.errors.join("\n")}`)}const a=this._normalizeStylesheet(new eC({styles:t.styles,moduleUrl:t.moduleUrl})),l=new bP;Gk(l,o.rootNodes);const c=this._normalizeStylesheet(new eC({styles:l.styles,styleUrls:l.styleUrls,moduleUrl:n}));return{template:e,templateUrl:n,isInline:r,htmlAst:o,styles:a.styles.concat(c.styles),inlineStyleUrls:a.styleUrls.concat(c.styleUrls),styleUrls:this._normalizeStylesheet(new eC({styleUrls:t.styleUrls,moduleUrl:t.moduleUrl})).styleUrls,ngContentSelectors:l.ngContentSelectors}}_normalizeTemplateMetadata(t,e){return yE.then(this._loadMissingExternalStylesheets(e.styleUrls.concat(e.inlineStyleUrls)),n=>this._normalizeLoadedTemplateMetadata(t,e,n))}_normalizeLoadedTemplateMetadata(t,e,n){const r=[...e.styles];this._inlineStyles(e.inlineStyleUrls,n,r);const i=e.styleUrls,s=i.map(t=>{const e=n.get(t),r=[...e.styles];return this._inlineStyles(e.styleUrls,n,r),new eC({moduleUrl:t,styles:r})});let o=t.encapsulation;return null==o&&(o=this._config.defaultEncapsulation),o===wb.Emulated&&0===r.length&&0===i.length&&(o=wb.None),new nC({encapsulation:o,template:e.template,templateUrl:e.templateUrl,htmlAst:e.htmlAst,styles:r,styleUrls:i,ngContentSelectors:e.ngContentSelectors,animations:t.animations,interpolation:t.interpolation,isInline:e.isInline,externalStylesheets:s,preserveWhitespaces:vP(t.preserveWhitespaces,this._config.preserveWhitespaces)})}_inlineStyles(t,e,n){t.forEach(t=>{const r=e.get(t);r.styles.forEach(t=>n.push(t)),this._inlineStyles(r.styleUrls,e,n)})}_loadMissingExternalStylesheets(t,e=new Map){return yE.then(yE.all(t.filter(t=>!e.has(t)).map(t=>yE.then(this._fetch(t),n=>{const r=this._normalizeStylesheet(new eC({styles:[n],moduleUrl:t}));return e.set(t,r),this._loadMissingExternalStylesheets(r.styleUrls,e)}))),t=>e)}_normalizeStylesheet(t){const e=t.moduleUrl,n=t.styleUrls.filter(nD).map(t=>this._urlResolver.resolve(e,t)),r=t.styles.map(t=>{const r=function(t,e,n){const r=[],i=n.replace(iD,"").replace(rD,(...n)=>{const i=n[1]||n[2];return nD(i)?(r.push(t.resolve(e,i)),""):n[0]});return new eD(i,r)}(this._urlResolver,e,t);return n.push(...r.styleUrls),r.style});return new eC({styles:r,styleUrls:n,moduleUrl:e})}}class bP{constructor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}visitElement(t,e){const n=xD(t);switch(n.type){case SD.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case SD.STYLE:let e="";t.children.forEach(t=>{t instanceof qk&&(e+=t.value)}),this.styles.push(e);break;case SD.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,Gk(this,t.children),n.nonBindable&&this.ngNonBindableStackCount--,null}visitExpansion(t,e){Gk(this,t.cases)}visitExpansionCase(t,e){Gk(this,t.expression)}visitComment(t,e){return null}visitAttribute(t,e){return null}visitText(t,e){return null}}const wP=[_b,vb,yb,gb];class EP{constructor(t){this._reflector=t}isDirective(t){const e=this._reflector.annotations(TE(t));return e&&e.some(CP)}resolve(t,e=!0){const n=this._reflector.annotations(TE(t));if(n){const e=xP(n,CP);if(e){const n=this._reflector.propMetadata(t),r=this._reflector.guards(t);return this._mergeWithPropertyMetadata(e,n,r,t)}}if(e)throw new Error(`No Directive annotation found on ${SE(t)}`);return null}_mergeWithPropertyMetadata(t,e,n,r){const i=[],s=[],o={},a={};return Object.keys(e).forEach(t=>{const n=xP(e[t],t=>Sb.isTypeOf(t));n&&(n.bindingPropertyName?i.push(`${t}: ${n.bindingPropertyName}`):i.push(t));const r=xP(e[t],t=>Tb.isTypeOf(t));r&&(r.bindingPropertyName?s.push(`${t}: ${r.bindingPropertyName}`):s.push(t)),e[t].filter(t=>Ib.isTypeOf(t)).forEach(e=>{if(e.hostPropertyName){const n=e.hostPropertyName[0];if("("===n)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===n)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");o[`[${e.hostPropertyName}]`]=t}else o[`[${t}]`]=t}),e[t].filter(t=>kb.isTypeOf(t)).forEach(e=>{const n=e.args||[];o[`(${e.eventName})`]=`${t}(${n.join(",")})`});const l=xP(e[t],t=>wP.some(e=>e.isTypeOf(t)));l&&(a[t]=l)}),this._merge(t,i,s,o,a,n,r)}_extractPublicName(t){return hE(t,[null,t])[1].trim()}_dedupeBindings(t){const e=new Set,n=new Set,r=[];for(let i=t.length-1;i>=0;i--){const s=t[i],o=this._extractPublicName(s);n.add(o),e.has(o)||(e.add(o),r.push(s))}return r.reverse()}_merge(t,e,n,r,i,s,o){const a=this._dedupeBindings(t.inputs?t.inputs.concat(e):e),l=this._dedupeBindings(t.outputs?t.outputs.concat(n):n),c=t.host?Object.assign({},t.host,r):r,u=t.queries?Object.assign({},t.queries,i):i;if(Cb.isTypeOf(t)){const e=t;return Cb({selector:e.selector,inputs:a,outputs:l,host:c,exportAs:e.exportAs,moduleId:e.moduleId,queries:u,changeDetection:e.changeDetection,providers:e.providers,viewProviders:e.viewProviders,entryComponents:e.entryComponents,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,encapsulation:e.encapsulation,animations:e.animations,interpolation:e.interpolation,preserveWhitespaces:t.preserveWhitespaces})}return bb({selector:t.selector,inputs:a,outputs:l,host:c,exportAs:t.exportAs,queries:u,providers:t.providers,guards:s})}}function CP(t){return bb.isTypeOf(t)||Cb.isTypeOf(t)}function xP(t,e){for(let n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null}class SP extends kx{constructor(t,e){super(t,e)}}const TP="i18n",IP="i18n-",kP=/^i18n:?/,AP="|",DP="@@";let NP=!1;class OP{constructor(t,e){this.messages=t,this.errors=e}}var PP;!function(t){t[t.Extract=0]="Extract",t[t.Merge=1]="Merge"}(PP||(PP={}));class RP{constructor(t,e){this._implicitTags=t,this._implicitAttrs=e}extract(t,e){return this._init(PP.Extract,e),t.forEach(t=>t.visit(this,null)),this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new OP(this._messages,this._errors)}merge(t,e,n){this._init(PP.Merge,n),this._translations=e;const r=new Wk("wrapper",[],t,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new pA(r.children,this._errors)}visitExpansionCase(t,e){const n=Gk(this,t.expression,e);if(this._mode===PP.Merge)return new $k(t.value,n,t.sourceSpan,t.valueSourceSpan,t.expSourceSpan)}visitExpansion(t,e){this._mayBeAddBlockChildren(t);const n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([t]),this._inIcu=!0);const r=Gk(this,t.cases,e);return this._mode===PP.Merge&&(t=new zk(t.switchValue,t.type,r,t.sourceSpan,t.switchValueSourceSpan)),this._inIcu=n,t}visitComment(t,e){const n=!!((r=t)instanceof Kk&&r.value&&r.value.startsWith("i18n"));var r;if(n&&this._isInTranslatableSection)return void this._reportError(t,"Could not start a block inside a translatable section");const i=function(t){return!!(t instanceof Kk&&t.value&&"/i18n"===t.value)}(t);if(!i||this._inI18nBlock){if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(i){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(t,this._blockChildren),this._inI18nBlock=!1;const e=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return Gk(this,this._translateMessage(t,e))}return void this._reportError(t,"I18N blocks should not cross element boundaries")}}else if(n){if(!NP&&console&&console.warn){NP=!0;const e=t.sourceSpan.details?`, ${t.sourceSpan.details}`:"";console.warn(`I18n comments are deprecated, use an <ng-container> element instead (${t.sourceSpan.start}${e})`)}this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=t.value.replace(kP,"").trim(),this._openTranslatableSection(t)}}else this._reportError(t,"Trying to close an unopened block")}visitText(t,e){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(t),t}visitElement(t,e){this._mayBeAddBlockChildren(t),this._depth++;const n=this._inI18nNode,r=this._inImplicitNode;let i=[],s=void 0;const o=t.attrs.find(t=>t.name===TP)||null;const a=o?o.value:"",l=this._implicitTags.some(e=>t.name===e)&&!this._inIcu&&!this._isInTranslatableSection,c=!r&&l;if(this._inImplicitNode=r||l,this._isInTranslatableSection||this._inIcu)(o||c)&&this._reportError(t,"Could not mark an element as translatable inside a translatable section"),this._mode==PP.Extract&&Gk(this,t.children);else{if(o||c){this._inI18nNode=!0;const e=this._addMessage(t.children,a);s=this._translateMessage(t,e)}if(this._mode==PP.Extract){const e=o||c;e&&this._openTranslatableSection(t),Gk(this,t.children),e&&this._closeTranslatableSection(t,t.children)}}if(this._mode===PP.Merge){(s||t.children).forEach(t=>{const n=t.visit(this,e);n&&!this._isInTranslatableSection&&(i=i.concat(n))})}if(this._visitAttributesOf(t),this._depth--,this._inI18nNode=n,this._inImplicitNode=r,this._mode===PP.Merge){const e=this._translateAttributes(t);return new Wk(t.name,e,i,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}return null}visitAttribute(t,e){throw new Error("unreachable code")}_init(t,e){this._mode=t,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=lO(e)}_visitAttributesOf(t){const e={},n=this._implicitAttrs[t.name]||[];t.attrs.filter(t=>t.name.startsWith(IP)).forEach(t=>e[t.name.slice(IP.length)]=t.value),t.attrs.forEach(t=>{t.name in e?this._addMessage([t],e[t.name]):n.some(e=>t.name===e)&&this._addMessage([t])})}_addMessage(t,e){if(0==t.length||1==t.length&&t[0]instanceof Hk&&!t[0].value)return null;const{meaning:n,description:r,id:i}=MP(e),s=this._createI18nMessage(t,n,r,i);return this._messages.push(s),s}_translateMessage(t,e){if(e&&this._mode===PP.Merge){const n=this._translations.get(e);if(n)return n;this._reportError(t,`Translation unavailable for message id="${this._translations.digest(e)}"`)}return[]}_translateAttributes(t){const e=t.attrs,n={};e.forEach(t=>{t.name.startsWith(IP)&&(n[t.name.slice(IP.length)]=MP(t.value))});const r=[];return e.forEach(e=>{if(e.name!==TP&&!e.name.startsWith(IP))if(e.value&&""!=e.value&&n.hasOwnProperty(e.name)){const{meaning:i,description:s,id:o}=n[e.name],a=this._createI18nMessage([e],i,s,o),l=this._translations.get(a);if(l)if(0==l.length)r.push(new Hk(e.name,"",e.sourceSpan));else if(l[0]instanceof qk){const t=l[0].value;r.push(new Hk(e.name,t,e.sourceSpan))}else this._reportError(t,`Unexpected translation for attribute "${e.name}" (id="${o||this._translations.digest(a)}")`);else this._reportError(t,`Translation unavailable for attribute "${e.name}" (id="${o||this._translations.digest(a)}")`)}else r.push(e)}),r}_mayBeAddBlockChildren(t){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(t)}_openTranslatableSection(t){this._isInTranslatableSection?this._reportError(t,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length}get _isInTranslatableSection(){return void 0!==this._msgCountAtSectionStart}_closeTranslatableSection(t,e){if(!this._isInTranslatableSection)return void this._reportError(t,"Unexpected section end");const n=this._msgCountAtSectionStart;if(1==e.reduce((t,e)=>t+(e instanceof Kk?0:1),0))for(let r=this._messages.length-1;r>=n;r--){const t=this._messages[r].nodes;if(!(1==t.length&&t[0]instanceof qx)){this._messages.splice(r,1);break}}this._msgCountAtSectionStart=void 0}_reportError(t,e){this._errors.push(new SP(t.sourceSpan,e))}}function MP(t){if(!t)return{meaning:"",description:"",id:""};const e=t.indexOf(DP),n=t.indexOf(AP),[r,i]=e>-1?[t.slice(0,e),t.slice(e+2)]:[t,""],[s,o]=n>-1?[r.slice(0,n),r.slice(n+1)]:["",r];return{meaning:s,description:o,id:i}}const LP=new class{constructor(){this.closedByParent=!1,this.contentType=Q_.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}requireExtraParent(t){return!1}isClosedByChild(t){return!1}};function FP(t){return LP}class VP extends mA{constructor(){super(FP)}parse(t,e,n){return super.parse(t,e,n)}}const BP="1.2",jP="urn:oasis:names:tc:xliff:document:1.2",UP="en",qP="x",zP="mrk",$P="file",HP="source",WP="seg-source",KP="target",GP="trans-unit",QP="context-group",YP="context";class XP extends mS{write(t,e){const n=new ZP,r=[];t.forEach(t=>{let e=[];t.sources.forEach(t=>{let n=new bS(QP,{purpose:"location"});n.children.push(new ES(10),new bS(YP,{"context-type":"sourcefile"},[new wS(t.filePath)]),new ES(10),new bS(YP,{"context-type":"linenumber"},[new wS(`${t.startLine}`)]),new ES(8)),e.push(new ES(8),n)});const i=new bS(GP,{id:t.id,datatype:"html"});i.children.push(new ES(8),new bS(HP,{},n.serialize(t.nodes)),...e),t.description&&i.children.push(new ES(8),new bS("note",{priority:"1",from:"description"},[new wS(t.description)])),t.meaning&&i.children.push(new ES(8),new bS("note",{priority:"1",from:"meaning"},[new wS(t.meaning)])),i.children.push(new ES(6)),r.push(new ES(6),i)});const i=new bS("body",{},[...r,new ES(4)]),s=new bS("file",{"source-language":e||UP,datatype:"plaintext",original:"ng2.template"},[new ES(4),i,new ES(2)]),o=new bS("xliff",{version:BP,xmlns:jP},[new ES(2),s,new ES]);return yS([new vS({version:"1.0",encoding:"UTF-8"}),new ES,o,new ES])}load(t,e){const n=new JP,{locale:r,msgIdToHtml:i,errors:s}=n.parse(t,e),o={},a=new tR;if(Object.keys(i).forEach(t=>{const{i18nNodes:n,errors:r}=a.convert(i[t],e);s.push(...r),o[t]=n}),s.length)throw new Error(`xliff parse errors:\n${s.join("\n")}`);return{locale:r,i18nNodesByMsgId:o}}digest(t){return Qx(t)}}class ZP{visitText(t,e){return[new wS(t.value)]}visitContainer(t,e){const n=[];return t.children.forEach(t=>n.push(...t.visit(this))),n}visitIcu(t,e){const n=[new wS(`{${t.expressionPlaceholder}, ${t.type}, `)];return Object.keys(t.cases).forEach(e=>{n.push(new wS(`${e} {`),...t.cases[e].visit(this),new wS("} "))}),n.push(new wS("}")),n}visitTagPlaceholder(t,e){const n=function(t){switch(t.toLowerCase()){case"br":return"lb";case"img":return"image";default:return`x-${t}`}}(t.tag);if(t.isVoid)return[new bS(qP,{id:t.startName,ctype:n,"equiv-text":`<${t.tag}/>`})];const r=new bS(qP,{id:t.startName,ctype:n,"equiv-text":`<${t.tag}>`}),i=new bS(qP,{id:t.closeName,ctype:n,"equiv-text":`</${t.tag}>`});return[r,...this.serialize(t.children),i]}visitPlaceholder(t,e){return[new bS(qP,{id:t.name,"equiv-text":`{{${t.value}}}`})]}visitIcuPlaceholder(t,e){const n=`{${t.value.expression}, ${t.value.type}, ${Object.keys(t.value.cases).map(t=>t+" {...}").join(" ")}}`;return[new bS(qP,{id:t.name,"equiv-text":n})]}serialize(t){return[].concat(...t.map(t=>t.visit(this)))}}class JP{constructor(){this._locale=null}parse(t,e){this._unitMlString=null,this._msgIdToHtml={};const n=(new VP).parse(t,e);return this._errors=n.errors,Gk(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(t,e){switch(t.name){case GP:this._unitMlString=null;const e=t.attrs.find(t=>"id"===t.name);if(e){const n=e.value;this._msgIdToHtml.hasOwnProperty(n)?this._addError(t,`Duplicated translations for msg ${n}`):(Gk(this,t.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[n]=this._unitMlString:this._addError(t,`Message ${n} misses a translation`))}else this._addError(t,`<${GP}> misses the "id" attribute`);break;case HP:case WP:break;case KP:const n=t.startSourceSpan.end.offset,r=t.endSourceSpan.start.offset,i=t.startSourceSpan.start.file.content.slice(n,r);this._unitMlString=i;break;case $P:const s=t.attrs.find(t=>"target-language"===t.name);s&&(this._locale=s.value),Gk(this,t.children,null);break;default:Gk(this,t.children,null)}}visitAttribute(t,e){}visitText(t,e){}visitComment(t,e){}visitExpansion(t,e){}visitExpansionCase(t,e){}_addError(t,e){this._errors.push(new SP(t.sourceSpan,e))}}class tR{convert(t,e){const n=(new VP).parse(t,e,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:[].concat(...Gk(this,n.rootNodes)),errors:this._errors}}visitText(t,e){return new qx(t.value,t.sourceSpan)}visitElement(t,e){if(t.name===qP){const e=t.attrs.find(t=>"id"===t.name);return e?new Wx("",e.value,t.sourceSpan):(this._addError(t,`<${qP}> misses the "id" attribute`),null)}return t.name===zP?[].concat(...Gk(this,t.children)):(this._addError(t,"Unexpected tag"),null)}visitExpansion(t,e){const n={};return Gk(this,t.cases).forEach(e=>{n[e.value]=new zx(e.nodes,t.sourceSpan)}),new $x(t.switchValue,t.type,n,t.sourceSpan)}visitExpansionCase(t,e){return{value:t.value,nodes:Gk(this,t.expression)}}visitComment(t,e){}visitAttribute(t,e){}_addError(t,e){this._errors.push(new SP(t.sourceSpan,e))}}const eR="2.0",nR="urn:oasis:names:tc:xliff:document:2.0",rR="en",iR="ph",sR="pc",oR="mrk",aR="xliff",lR="source",cR="target",uR="unit";class hR extends mS{write(t,e){const n=new dR,r=[];t.forEach(t=>{const e=new bS(uR,{id:t.id}),i=new bS("notes");(t.description||t.meaning)&&(t.description&&i.children.push(new ES(8),new bS("note",{category:"description"},[new wS(t.description)])),t.meaning&&i.children.push(new ES(8),new bS("note",{category:"meaning"},[new wS(t.meaning)]))),t.sources.forEach(t=>{i.children.push(new ES(8),new bS("note",{category:"location"},[new wS(`${t.filePath}:${t.startLine}${t.endLine!==t.startLine?","+t.endLine:""}`)]))}),i.children.push(new ES(6)),e.children.push(new ES(6),i);const s=new bS("segment");s.children.push(new ES(8),new bS(lR,{},n.serialize(t.nodes)),new ES(6)),e.children.push(new ES(6),s,new ES(4)),r.push(new ES(4),e)});const i=new bS("file",{original:"ng.template",id:"ngi18n"},[...r,new ES(2)]),s=new bS(aR,{version:eR,xmlns:nR,srcLang:e||rR},[new ES(2),i,new ES]);return yS([new vS({version:"1.0",encoding:"UTF-8"}),new ES,s,new ES])}load(t,e){const n=new pR,{locale:r,msgIdToHtml:i,errors:s}=n.parse(t,e),o={},a=new mR;if(Object.keys(i).forEach(t=>{const{i18nNodes:n,errors:r}=a.convert(i[t],e);s.push(...r),o[t]=n}),s.length)throw new Error(`xliff2 parse errors:\n${s.join("\n")}`);return{locale:r,i18nNodesByMsgId:o}}digest(t){return Yx(t)}}class dR{visitText(t,e){return[new wS(t.value)]}visitContainer(t,e){const n=[];return t.children.forEach(t=>n.push(...t.visit(this))),n}visitIcu(t,e){const n=[new wS(`{${t.expressionPlaceholder}, ${t.type}, `)];return Object.keys(t.cases).forEach(e=>{n.push(new wS(`${e} {`),...t.cases[e].visit(this),new wS("} "))}),n.push(new wS("}")),n}visitTagPlaceholder(t,e){const n=function(t){switch(t.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(t.tag);if(t.isVoid){return[new bS(iR,{id:(this._nextPlaceholderId++).toString(),equiv:t.startName,type:n,disp:`<${t.tag}/>`})]}const r=new bS(sR,{id:(this._nextPlaceholderId++).toString(),equivStart:t.startName,equivEnd:t.closeName,type:n,dispStart:`<${t.tag}>`,dispEnd:`</${t.tag}>`}),i=[].concat(...t.children.map(t=>t.visit(this)));return i.length?i.forEach(t=>r.children.push(t)):r.children.push(new wS("")),[r]}visitPlaceholder(t,e){const n=(this._nextPlaceholderId++).toString();return[new bS(iR,{id:n,equiv:t.name,disp:`{{${t.value}}}`})]}visitIcuPlaceholder(t,e){const n=Object.keys(t.value.cases).map(t=>t+" {...}").join(" "),r=(this._nextPlaceholderId++).toString();return[new bS(iR,{id:r,equiv:t.name,disp:`{${t.value.expression}, ${t.value.type}, ${n}}`})]}serialize(t){return this._nextPlaceholderId=0,[].concat(...t.map(t=>t.visit(this)))}}class pR{constructor(){this._locale=null}parse(t,e){this._unitMlString=null,this._msgIdToHtml={};const n=(new VP).parse(t,e);return this._errors=n.errors,Gk(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(t,e){switch(t.name){case uR:this._unitMlString=null;const e=t.attrs.find(t=>"id"===t.name);if(e){const n=e.value;this._msgIdToHtml.hasOwnProperty(n)?this._addError(t,`Duplicated translations for msg ${n}`):(Gk(this,t.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[n]=this._unitMlString:this._addError(t,`Message ${n} misses a translation`))}else this._addError(t,`<${uR}> misses the "id" attribute`);break;case lR:break;case cR:const n=t.startSourceSpan.end.offset,r=t.endSourceSpan.start.offset,i=t.startSourceSpan.start.file.content.slice(n,r);this._unitMlString=i;break;case aR:const s=t.attrs.find(t=>"trgLang"===t.name);s&&(this._locale=s.value);const o=t.attrs.find(t=>"version"===t.name);if(o){const e=o.value;"2.0"!==e?this._addError(t,`The XLIFF file version ${e} is not compatible with XLIFF 2.0 serializer`):Gk(this,t.children,null)}break;default:Gk(this,t.children,null)}}visitAttribute(t,e){}visitText(t,e){}visitComment(t,e){}visitExpansion(t,e){}visitExpansionCase(t,e){}_addError(t,e){this._errors.push(new SP(t.sourceSpan,e))}}class mR{convert(t,e){const n=(new VP).parse(t,e,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:[].concat(...Gk(this,n.rootNodes)),errors:this._errors}}visitText(t,e){return new qx(t.value,t.sourceSpan)}visitElement(t,e){switch(t.name){case iR:const e=t.attrs.find(t=>"equiv"===t.name);if(e)return[new Wx("",e.value,t.sourceSpan)];this._addError(t,`<${iR}> misses the "equiv" attribute`);break;case sR:const n=t.attrs.find(t=>"equivStart"===t.name),r=t.attrs.find(t=>"equivEnd"===t.name);if(n){if(r){const e=n.value,i=r.value;return[].concat(new Wx("",e,t.sourceSpan),...t.children.map(t=>t.visit(this,null)),new Wx("",i,t.sourceSpan))}this._addError(t,`<${iR}> misses the "equivEnd" attribute`)}else this._addError(t,`<${iR}> misses the "equivStart" attribute`);break;case oR:return[].concat(...Gk(this,t.children));default:this._addError(t,"Unexpected tag")}return null}visitExpansion(t,e){const n={};return Gk(this,t.cases).forEach(e=>{n[e.value]=new zx(e.nodes,t.sourceSpan)}),new $x(t.switchValue,t.type,n,t.sourceSpan)}visitExpansionCase(t,e){return{value:t.value,nodes:[].concat(...Gk(this,t.expression))}}visitComment(t,e){}visitAttribute(t,e){}_addError(t,e){this._errors.push(new SP(t.sourceSpan,e))}}const fR="translationbundle",gR="translation",yR="ph";class vR extends mS{write(t,e){throw new Error("Unsupported")}load(t,e){const n=new _R,{locale:r,msgIdToHtml:i,errors:s}=n.parse(t,e),o={},a=new bR;if(Object.keys(i).forEach(t=>{!function(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){const r=n();return Object.defineProperty(t,e,{enumerable:!0,value:r}),r},set:t=>{throw new Error("Could not overwrite an XTB translation")}})}(o,t,function(){const{i18nNodes:n,errors:r}=a.convert(i[t],e);if(r.length)throw new Error(`xtb parse errors:\n${r.join("\n")}`);return n})}),s.length)throw new Error(`xtb parse errors:\n${s.join("\n")}`);return{locale:r,i18nNodesByMsgId:o}}digest(t){return PS(t)}createNameMapper(t){return new fS(t,MS)}}class _R{constructor(){this._locale=null}parse(t,e){this._bundleDepth=0,this._msgIdToHtml={};const n=(new VP).parse(t,e);return this._errors=n.errors,Gk(this,n.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(t,e){switch(t.name){case fR:this._bundleDepth++,this._bundleDepth>1&&this._addError(t,`<${fR}> elements can not be nested`);const e=t.attrs.find(t=>"lang"===t.name);e&&(this._locale=e.value),Gk(this,t.children,null),this._bundleDepth--;break;case gR:const n=t.attrs.find(t=>"id"===t.name);if(n){const e=n.value;if(this._msgIdToHtml.hasOwnProperty(e))this._addError(t,`Duplicated translations for msg ${e}`);else{const n=t.startSourceSpan.end.offset,r=t.endSourceSpan.start.offset,i=t.startSourceSpan.start.file.content.slice(n,r);this._msgIdToHtml[e]=i}}else this._addError(t,`<${gR}> misses the "id" attribute`);break;default:this._addError(t,"Unexpected tag")}}visitAttribute(t,e){}visitText(t,e){}visitComment(t,e){}visitExpansion(t,e){}visitExpansionCase(t,e){}_addError(t,e){this._errors.push(new SP(t.sourceSpan,e))}}class bR{convert(t,e){const n=(new VP).parse(t,e,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:Gk(this,n.rootNodes),errors:this._errors}}visitText(t,e){return new qx(t.value,t.sourceSpan)}visitExpansion(t,e){const n={};return Gk(this,t.cases).forEach(e=>{n[e.value]=new zx(e.nodes,t.sourceSpan)}),new $x(t.switchValue,t.type,n,t.sourceSpan)}visitExpansionCase(t,e){return{value:t.value,nodes:Gk(this,t.expression)}}visitElement(t,e){if(t.name===yR){const e=t.attrs.find(t=>"name"===t.name);if(e)return new Wx("",e.value,t.sourceSpan);this._addError(t,`<${yR}> misses the "name" attribute`)}else this._addError(t,"Unexpected tag");return null}visitComment(t,e){}visitAttribute(t,e){}_addError(t,e){this._errors.push(new SP(t.sourceSpan,e))}}class wR{constructor(t={},e,n,r,i=Bb.Warning,s){this._i18nNodesByMsgId=t,this.digest=n,this.mapperFactory=r,this._i18nToHtml=new ER(t,e,n,r,i,s)}static load(t,e,n,r,i){const{locale:s,i18nNodesByMsgId:o}=n.load(t,e);return new wR(o,s,t=>n.digest(t),t=>n.createNameMapper(t),r,i)}get(t){const e=this._i18nToHtml.convert(t);if(e.errors.length)throw new Error(e.errors.join("\n"));return e.nodes}has(t){return this.digest(t)in this._i18nNodesByMsgId}}class ER{constructor(t={},e,n,r,i,s){this._i18nNodesByMsgId=t,this._locale=e,this._digest=n,this._mapperFactory=r,this._missingTranslationStrategy=i,this._console=s,this._contextStack=[],this._errors=[]}convert(t){this._contextStack.length=0,this._errors.length=0;const e=this._convertToText(t),n=t.nodes[0].sourceSpan.start.file.url,r=(new yA).parse(e,n,{tokenizeExpansionForms:!0});return{nodes:r.rootNodes,errors:[...this._errors,...r.errors]}}visitText(t,e){return xS(t.value)}visitContainer(t,e){return t.children.map(t=>t.visit(this)).join("")}visitIcu(t,e){const n=Object.keys(t.cases).map(e=>`${e} {${t.cases[e].visit(this)}}`);return`{${this._srcMsg.placeholders.hasOwnProperty(t.expression)?this._srcMsg.placeholders[t.expression]:t.expression}, ${t.type}, ${n.join(" ")}}`}visitPlaceholder(t,e){const n=this._mapper(t.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n]:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(t,`Unknown placeholder "${t.name}"`),"")}visitTagPlaceholder(t,e){const n=`${t.tag}`,r=Object.keys(t.attrs).map(e=>`${e}="${t.attrs[e]}"`).join(" ");return t.isVoid?`<${n} ${r}/>`:`<${n} ${r}>${t.children.map(t=>t.visit(this)).join("")}</${n}>`}visitIcuPlaceholder(t,e){return this._convertToText(this._srcMsg.placeholderToMessage[t.name])}_convertToText(t){const e=this._digest(t),n=this._mapperFactory?this._mapperFactory(t):null;let r;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=t,this._i18nNodesByMsgId.hasOwnProperty(e))r=this._i18nNodesByMsgId[e],this._mapper=t=>n?n.toInternalName(t):t;else{if(this._missingTranslationStrategy===Bb.Error){const n=this._locale?` for locale "${this._locale}"`:"";this._addError(t.nodes[0],`Missing translation for message "${e}"${n}`)}else if(this._console&&this._missingTranslationStrategy===Bb.Warning){const t=this._locale?` for locale "${this._locale}"`:"";this._console.warn(`Missing translation for message "${e}"${t}`)}r=t.nodes,this._mapper=t=>t}const i=r.map(t=>t.visit(this)).join(""),s=this._contextStack.pop();return this._srcMsg=s.msg,this._mapper=s.mapper,i}_addError(t,e){this._errors.push(new SP(t.sourceSpan,e))}}class CR{constructor(t,e,n,r=Bb.Warning,i){if(this._htmlParser=t,e){const t=function(t){switch(t=(t||"xlf").toLowerCase()){case"xmb":return new NS;case"xtb":return new vR;case"xliff2":case"xlf2":return new hR;case"xliff":case"xlf":default:return new XP}}(n);this._translationBundle=wR.load(e,"i18n",t,r,i)}else this._translationBundle=new wR({},null,Qx,void 0,r,i)}parse(t,e,n={}){const r=n.interpolationConfig||jT,i=this._htmlParser.parse(t,e,Object.assign({interpolationConfig:r},n));return i.errors.length?new pA(i.rootNodes,i.errors):function(t,e,n,r,i){return new RP(r,i).merge(t,e,n)}(i.rootNodes,this._translationBundle,r,[],{})}}const xR="$quoted$";function SR(t,e,n=null){return pE(e,new TR(t),n)}class TR{constructor(t){this.ctx=t}visitArray(t,e){return iE(t.map(t=>pE(t,this,null)),e)}visitStringMap(t,e){const n=[],r=new Set(t&&t[xR]);return Object.keys(t).forEach(e=>{n.push(new kw(e,pE(t[e],this,null),r.has(e)))}),new Aw(n,e)}visitPrimitive(t,e){return lE(t,e)}visitOther(t,e){return t instanceof ow?t:this.ctx.importExpr(t)}}function IR(t,e=!1){const n=kR(t,e);return`${n[0]}.ngfactory${AR(n[1])}`}function kR(t,e=!1){if(t.endsWith(".d.ts"))return[t.slice(0,-5),e?".ts":".d.ts"];const n=t.lastIndexOf(".");return-1!==n?[t.substring(0,n),t.substring(n)]:[t,""]}function AR(t){return".tsx"===t?".ts":t}var DR;!function(t){t[t.OnInit=0]="OnInit",t[t.OnDestroy=1]="OnDestroy",t[t.DoCheck=2]="DoCheck",t[t.OnChanges=3]="OnChanges",t[t.AfterContentInit=4]="AfterContentInit",t[t.AfterContentChecked=5]="AfterContentChecked",t[t.AfterViewInit=6]="AfterViewInit",t[t.AfterViewChecked=7]="AfterViewChecked"}(DR||(DR={}));const NR=[DR.OnInit,DR.OnDestroy,DR.DoCheck,DR.OnChanges,DR.AfterContentInit,DR.AfterContentChecked,DR.AfterViewInit,DR.AfterViewChecked];function OR(t,e,n){return t.hasLifecycleHook(n,function(t){switch(t){case DR.OnInit:return"ngOnInit";case DR.OnDestroy:return"ngOnDestroy";case DR.DoCheck:return"ngDoCheck";case DR.OnChanges:return"ngOnChanges";case DR.AfterContentInit:return"ngAfterContentInit";case DR.AfterContentChecked:return"ngAfterContentChecked";case DR.AfterViewInit:return"ngAfterViewInit";case DR.AfterViewChecked:return"ngAfterViewChecked";default:throw new Error(`unexpected ${t}`)}}(e))}function PR(t,e){return NR.filter(n=>OR(t,n,e))}const RR="ngComponentType";class MR{constructor(t,e,n,r,i,s,o,a,l,c,u,h){this._config=t,this._htmlParser=e,this._ngModuleResolver=n,this._directiveResolver=r,this._pipeResolver=i,this._summaryResolver=s,this._schemaRegistry=o,this._directiveNormalizer=a,this._console=l,this._staticSymbolCache=c,this._reflector=u,this._errorCollector=h,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._shallowModuleCache=new Map}getReflector(){return this._reflector}clearCacheFor(t){const e=this._directiveCache.get(t);this._directiveCache.delete(t),this._nonNormalizedDirectiveCache.delete(t),this._summaryCache.delete(t),this._pipeCache.delete(t),this._ngModuleOfTypes.delete(t),this._ngModuleCache.clear(),e&&this._directiveNormalizer.clearCacheFor(e)}clearCache(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()}_createProxyClass(t,e){let n=null;const r=function(){if(!n)throw new Error(`Illegal state: Class ${e} for type ${SE(t)} is not compiled yet!`);return n.apply(this,arguments)};return r.setDelegate=t=>{n=t,r.prototype=t.prototype},r.overriddenName=e,r}getGeneratedClass(t,e){return t instanceof qE?this._staticSymbolCache.get(IR(t.filePath),e):this._createProxyClass(t,e)}getComponentViewClass(t){return this.getGeneratedClass(t,QE(t,0))}getHostComponentViewClass(t){return this.getGeneratedClass(t,`HostView_${KE({reference:t})}`)}getHostComponentType(t){const e=`${KE({reference:t})}_Host`;return t instanceof qE?this._staticSymbolCache.get(t.filePath,e):this._createProxyClass(t,e)}getRendererType(t){return t instanceof qE?this._staticSymbolCache.get(IR(t.filePath),YE(t)):{}}getComponentFactory(t,e,n,r){if(e instanceof qE)return this._staticSymbolCache.get(IR(e.filePath),XE(e));{const i=this.getHostComponentViewClass(e);return this._reflector.resolveExternalReference(BE.createComponentFactory)(t,e,i,n,r,[])}}initComponentFactory(t,e){t instanceof qE||t.ngContentSelectors.push(...e)}_loadSummary(t,e){let n=this._summaryCache.get(t);if(!n){const e=this._summaryResolver.resolveSummary(t);n=e?e.type:null,this._summaryCache.set(t,n||null)}return n&&n.summaryKind===e?n:null}getHostComponentMetadata(t,e){const n=this.getHostComponentType(t.type.reference);e||(e=this.getHostComponentViewClass(n));const r=cb.parse(t.selector)[0].getMatchingElementTemplate(),i=this._htmlParser.parse(r,"");return rC.create({isHost:!0,type:{reference:n,diDeps:[],lifecycleHooks:[]},template:new nC({encapsulation:wb.None,template:r,templateUrl:"",htmlAst:i,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:Eb.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:e,rendererType:{id:"__Host__",encapsulation:wb.None,styles:[],data:{}},entryComponents:[],componentFactory:null})}loadDirectiveMetadata(t,e,n){if(this._directiveCache.has(e))return null;e=TE(e);const{annotation:r,metadata:i}=this.getNonNormalizedDirectiveMetadata(e),s=t=>{const n=new rC({isHost:!1,type:i.type,isComponent:i.isComponent,selector:i.selector,exportAs:i.exportAs,changeDetection:i.changeDetection,inputs:i.inputs,outputs:i.outputs,hostListeners:i.hostListeners,hostProperties:i.hostProperties,hostAttributes:i.hostAttributes,providers:i.providers,viewProviders:i.viewProviders,queries:i.queries,guards:i.guards,viewQueries:i.viewQueries,entryComponents:i.entryComponents,componentViewType:i.componentViewType,rendererType:i.rendererType,componentFactory:i.componentFactory,template:t});return t&&this.initComponentFactory(i.componentFactory,t.ngContentSelectors),this._directiveCache.set(e,n),this._summaryCache.set(e,n.toSummary()),null};if(i.isComponent){const o=i.template,a=this._directiveNormalizer.normalizeTemplate({ngModuleType:t,componentType:e,moduleUrl:this._reflector.componentModuleUrl(e,r),encapsulation:o.encapsulation,template:o.template,templateUrl:o.templateUrl,styles:o.styles,styleUrls:o.styleUrls,animations:o.animations,interpolation:o.interpolation,preserveWhitespaces:o.preserveWhitespaces});return IE(a)&&n?(this._reportError(function(t){const e=Error(`Can't compile synchronously as ${SE(t)} is still being loaded!`);return e[RR]=t,e}(e),e),null):yE.then(a,s)}return s(null),null}getNonNormalizedDirectiveMetadata(t){if(!(t=TE(t)))return null;let e=this._nonNormalizedDirectiveCache.get(t);if(e)return e;const n=this._directiveResolver.resolve(t,!1);if(!n)return null;let r=void 0;if(Cb.isTypeOf(n)){const t=n;LT("styles",t.styles),LT("styleUrls",t.styleUrls),VT("interpolation",t.interpolation);const e=t.animations;r=new nC({encapsulation:fE(t.encapsulation),template:fE(t.template),templateUrl:fE(t.templateUrl),htmlAst:null,styles:t.styles||[],styleUrls:t.styleUrls||[],animations:e||[],interpolation:fE(t.interpolation),isInline:!!t.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:fE(n.preserveWhitespaces)})}let i=null,s=[],o=[],a=n.selector;if(Cb.isTypeOf(n)){const e=n;i=e.changeDetection,e.viewProviders&&(s=this._getProvidersMetadata(e.viewProviders,o,`viewProviders for "${BR(t)}"`,[],t)),e.entryComponents&&(o=LR(e.entryComponents).map(t=>this._getEntryComponentMetadata(t)).concat(o)),a||(a=this._schemaRegistry.getDefaultComponentElementName())}else a||(this._reportError(_E(`Directive ${BR(t)} has no selector, please add it!`),t),a="error");let l=[];null!=n.providers&&(l=this._getProvidersMetadata(n.providers,o,`providers for "${BR(t)}"`,[],t));let c=[],u=[];null!=n.queries&&(c=this._getQueriesMetadata(n.queries,!1,t),u=this._getQueriesMetadata(n.queries,!0,t));const h=rC.create({isHost:!1,selector:a,exportAs:fE(n.exportAs),isComponent:!!r,type:this._getTypeMetadata(t),template:r,changeDetection:i,inputs:n.inputs||[],outputs:n.outputs||[],host:n.host||{},providers:l||[],viewProviders:s||[],queries:c||[],guards:n.guards||{},viewQueries:u||[],entryComponents:o,componentViewType:r?this.getComponentViewClass(t):null,rendererType:r?this.getRendererType(t):null,componentFactory:null});return r&&(h.componentFactory=this.getComponentFactory(a,t,h.inputs,h.outputs)),e={metadata:h,annotation:n},this._nonNormalizedDirectiveCache.set(t,e),e}getDirectiveMetadata(t){const e=this._directiveCache.get(t);return e||this._reportError(_E(`Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive ${BR(t)}.`),t),e}getDirectiveSummary(t){const e=this._loadSummary(t,ZE.Directive);return e||this._reportError(_E(`Illegal state: Could not load the summary for directive ${BR(t)}.`),t),e}isDirective(t){return!!this._loadSummary(t,ZE.Directive)||this._directiveResolver.isDirective(t)}isPipe(t){return!!this._loadSummary(t,ZE.Pipe)||this._pipeResolver.isPipe(t)}isNgModule(t){return!!this._loadSummary(t,ZE.NgModule)||this._ngModuleResolver.isNgModule(t)}getNgModuleSummary(t,e=null){let n=this._loadSummary(t,ZE.NgModule);if(!n){const r=this.getNgModuleMetadata(t,!1,e);(n=r?r.toSummary():null)&&this._summaryCache.set(t,n)}return n}loadNgModuleDirectiveAndPipeMetadata(t,e,n=!0){const r=this.getNgModuleMetadata(t,n),i=[];return r&&(r.declaredDirectives.forEach(n=>{const r=this.loadDirectiveMetadata(t,n.reference,e);r&&i.push(r)}),r.declaredPipes.forEach(t=>this._loadPipeMetadata(t.reference))),Promise.all(i)}getShallowModuleMetadata(t){let e=this._shallowModuleCache.get(t);if(e)return e;const n=xP(this._reflector.shallowAnnotations(t),Ab.isTypeOf);return e={type:this._getTypeMetadata(t),rawExports:n.exports,rawImports:n.imports,rawProviders:n.providers},this._shallowModuleCache.set(t,e),e}getNgModuleMetadata(t,e=!0,n=null){t=TE(t);let r=this._ngModuleCache.get(t);if(r)return r;const i=this._ngModuleResolver.resolve(t,e);if(!i)return null;const s=[],o=[],a=[],l=[],c=[],u=[],h=[],d=[],p=[];i.imports&&LR(i.imports).forEach(e=>{let r=void 0;if(FR(e))r=e;else if(e&&e.ngModule){const t=e;r=t.ngModule,t.providers&&u.push(...this._getProvidersMetadata(t.providers,h,`provider for the NgModule '${BR(r)}'`,[],e))}if(r){if(this._checkSelfImport(t,r))return;if(n||(n=new Set),n.has(r))return void this._reportError(_E(`${this._getTypeDescriptor(r)} '${BR(e)}' is imported recursively by the module '${BR(t)}'.`),t);n.add(r);const i=this.getNgModuleSummary(r,n);if(n.delete(r),!i)return void this._reportError(_E(`Unexpected ${this._getTypeDescriptor(e)} '${BR(e)}' imported by the module '${BR(t)}'. Please add a @NgModule annotation.`),t);l.push(i)}else this._reportError(_E(`Unexpected value '${BR(e)}' imported by the module '${BR(t)}'`),t)}),i.exports&&LR(i.exports).forEach(e=>{if(!FR(e))return void this._reportError(_E(`Unexpected value '${BR(e)}' exported by the module '${BR(t)}'`),t);if(n||(n=new Set),n.has(e))return void this._reportError(_E(`${this._getTypeDescriptor(e)} '${SE(e)}' is exported recursively by the module '${BR(t)}'`),t);n.add(e);const r=this.getNgModuleSummary(e,n);n.delete(e),r?c.push(r):o.push(this._getIdentifierMetadata(e))});const m=this._getTransitiveNgModuleMetadata(l,c);i.declarations&&LR(i.declarations).forEach(e=>{if(!FR(e))return void this._reportError(_E(`Unexpected value '${BR(e)}' declared by the module '${BR(t)}'`),t);const n=this._getIdentifierMetadata(e);if(this.isDirective(e))m.addDirective(n),s.push(n),this._addTypeToModule(e,t);else{if(!this.isPipe(e))return void this._reportError(_E(`Unexpected ${this._getTypeDescriptor(e)} '${BR(e)}' declared by the module '${BR(t)}'. Please add a @Pipe/@Directive/@Component annotation.`),t);m.addPipe(n),m.pipes.push(n),a.push(n),this._addTypeToModule(e,t)}});const f=[],g=[];return o.forEach(e=>{if(m.directivesSet.has(e.reference))f.push(e),m.addExportedDirective(e);else{if(!m.pipesSet.has(e.reference))return void this._reportError(_E(`Can't export ${this._getTypeDescriptor(e.reference)} ${BR(e.reference)} from ${BR(t)} as it was neither declared nor imported!`),t);g.push(e),m.addExportedPipe(e)}}),i.providers&&u.push(...this._getProvidersMetadata(i.providers,h,`provider for the NgModule '${BR(t)}'`,[],t)),i.entryComponents&&h.push(...LR(i.entryComponents).map(t=>this._getEntryComponentMetadata(t))),i.bootstrap&&LR(i.bootstrap).forEach(e=>{FR(e)?d.push(this._getIdentifierMetadata(e)):this._reportError(_E(`Unexpected value '${BR(e)}' used in the bootstrap property of module '${BR(t)}'`),t)}),h.push(...d.map(t=>this._getEntryComponentMetadata(t.reference))),i.schemas&&p.push(...LR(i.schemas)),r=new sC({type:this._getTypeMetadata(t),providers:u,entryComponents:h,bootstrapComponents:d,schemas:p,declaredDirectives:s,exportedDirectives:f,declaredPipes:a,exportedPipes:g,importedModules:l,exportedModules:c,transitiveModule:m,id:i.id||null}),h.forEach(t=>m.addEntryComponent(t)),u.forEach(t=>m.addProvider(t,r.type)),m.addModule(r.type),this._ngModuleCache.set(t,r),r}_checkSelfImport(t,e){return t===e&&(this._reportError(_E(`'${BR(t)}' module can't import itself`),t),!0)}_getTypeDescriptor(t){if(FR(t)){if(this.isDirective(t))return"directive";if(this.isPipe(t))return"pipe";if(this.isNgModule(t))return"module"}return t.provide?"provider":"value"}_addTypeToModule(t,e){const n=this._ngModuleOfTypes.get(t);n&&n!==e?this._reportError(_E(`Type ${BR(t)} is part of the declarations of 2 modules: ${BR(n)} and ${BR(e)}! `+`Please consider moving ${BR(t)} to a higher module that imports ${BR(n)} and ${BR(e)}. `+`You can also create a new NgModule that exports and includes ${BR(t)} then import that NgModule in ${BR(n)} and ${BR(e)}.`),e):this._ngModuleOfTypes.set(t,e)}_getTransitiveNgModuleMetadata(t,e){const n=new oC,r=new Map;return t.concat(e).forEach(t=>{t.modules.forEach(t=>n.addModule(t)),t.entryComponents.forEach(t=>n.addEntryComponent(t));const e=new Set;t.providers.forEach(t=>{const i=tC(t.provider.token);let s=r.get(i);s||(s=new Set,r.set(i,s));const o=t.module.reference;!e.has(i)&&s.has(o)||(s.add(o),e.add(i),n.addProvider(t.provider,t.module))})}),e.forEach(t=>{t.exportedDirectives.forEach(t=>n.addExportedDirective(t)),t.exportedPipes.forEach(t=>n.addExportedPipe(t))}),t.forEach(t=>{t.exportedDirectives.forEach(t=>n.addDirective(t)),t.exportedPipes.forEach(t=>n.addPipe(t))}),n}_getIdentifierMetadata(t){return{reference:t=TE(t)}}isInjectable(t){return this._reflector.tryAnnotations(t).some(t=>Db.isTypeOf(t))}getInjectableSummary(t){return{summaryKind:ZE.Injectable,type:this._getTypeMetadata(t,null,!1)}}getInjectableMetadata(t,e=null,n=!0){const r=this._loadSummary(t,ZE.Injectable),i=r?r.type:this._getTypeMetadata(t,e,n),s=this._reflector.annotations(t).filter(t=>Db.isTypeOf(t));if(0===s.length)return null;const o=s[s.length-1];return{symbol:t,type:i,providedIn:o.providedIn,useValue:o.useValue,useClass:o.useClass,useExisting:o.useExisting,useFactory:o.useFactory,deps:o.deps}}_getTypeMetadata(t,e=null,n=!0){const r=this._getIdentifierMetadata(t);return{reference:r.reference,diDeps:this._getDependenciesMetadata(r.reference,e,n),lifecycleHooks:PR(this._reflector,r.reference)}}_getFactoryMetadata(t,e=null){return{reference:t=TE(t),diDeps:this._getDependenciesMetadata(t,e)}}getPipeMetadata(t){const e=this._pipeCache.get(t);return e||this._reportError(_E(`Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe ${BR(t)}.`),t),e||null}getPipeSummary(t){const e=this._loadSummary(t,ZE.Pipe);return e||this._reportError(_E(`Illegal state: Could not load the summary for pipe ${BR(t)}.`),t),e}getOrLoadPipeMetadata(t){let e=this._pipeCache.get(t);return e||(e=this._loadPipeMetadata(t)),e}_loadPipeMetadata(t){t=TE(t);const e=this._pipeResolver.resolve(t),n=new iC({type:this._getTypeMetadata(t),name:e.name,pure:!!e.pure});return this._pipeCache.set(t,n),this._summaryCache.set(t,n.toSummary()),n}_getDependenciesMetadata(t,e,n=!0){let r=!1;const i=(e||this._reflector.parameters(t)||[]).map(t=>{let e=!1,n=!1,i=!1,s=!1,o=!1,a=null;return Array.isArray(t)?t.forEach(t=>{Lb.isTypeOf(t)?n=!0:Rb.isTypeOf(t)?i=!0:Mb.isTypeOf(t)?s=!0:Pb.isTypeOf(t)?o=!0:fb.isTypeOf(t)?(e=!0,a=t.attributeName):pb.isTypeOf(t)?a=t.token:mb.isTypeOf(t)||t instanceof qE?a=t:FR(t)&&null==a&&(a=t)}):a=t,null==a?(r=!0,{}):{isAttribute:e,isHost:n,isSelf:i,isSkipSelf:s,isOptional:o,token:this._getTokenMetadata(a)}});if(r){const e=i.map(t=>t.token?BR(t.token):"?").join(", "),r=`Can't resolve all parameters for ${BR(t)}: (${e}).`;n||this._config.strictInjectionParameters?this._reportError(_E(r),t):this._console.warn(`Warning: ${r} This will become an error in Angular v6.x`)}return i}_getTokenMetadata(t){let e;return e="string"==typeof(t=TE(t))?{value:t}:{identifier:{reference:t}}}_getProvidersMetadata(t,e,n,r=[],i){return t.forEach((s,o)=>{if(Array.isArray(s))this._getProvidersMetadata(s,e,n,r);else{let a=void 0;if((s=TE(s))&&"object"==typeof s&&s.hasOwnProperty("provide"))this._validateProvider(s),a=new lC(s.provide,s);else{if(!FR(s)){if(void 0===s)return void this._reportError(_E("Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files."));{const e=t.reduce((t,e,n)=>(n<o?t.push(`${BR(e)}`):n==o?t.push(`?${BR(e)}?`):n==o+1&&t.push("..."),t),[]).join(", ");return void this._reportError(_E(`Invalid ${n||"provider"} - only instances of Provider and Type are allowed, got: [${e}]`),i)}}a=new lC(s,{useClass:s})}a.token===this._reflector.resolveExternalReference(BE.ANALYZE_FOR_ENTRY_COMPONENTS)?e.push(...this._getEntryComponentsFromProvider(a,i)):r.push(this.getProviderMetadata(a))}}),r}_validateProvider(t){t.hasOwnProperty("useClass")&&null==t.useClass&&this._reportError(_E(`Invalid provider for ${BR(t.provide)}. useClass cannot be ${t.useClass}.\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case.`))}_getEntryComponentsFromProvider(t,e){const n=[],r=[];return t.useFactory||t.useExisting||t.useClass?(this._reportError(_E("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),e),[]):t.multi?(i=t.useValue,s=r,pE(i,new VR,s),r.forEach(t=>{const e=this._getEntryComponentMetadata(t.reference,!1);e&&n.push(e)}),n):(this._reportError(_E("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),e),[]);var i,s}_getEntryComponentMetadata(t,e=!0){const n=this.getNonNormalizedDirectiveMetadata(t);if(n&&n.metadata.isComponent)return{componentType:t,componentFactory:n.metadata.componentFactory};const r=this._loadSummary(t,ZE.Directive);if(r&&r.isComponent)return{componentType:t,componentFactory:r.componentFactory};if(e)throw _E(`${t.name} cannot be used as an entry component.`);return null}_getInjectableTypeMetadata(t,e=null){const n=this._loadSummary(t,ZE.Injectable);return n?n.type:this._getTypeMetadata(t,e)}getProviderMetadata(t){let e=void 0,n=null,r=null,i=this._getTokenMetadata(t.token);return t.useClass?(e=(n=this._getInjectableTypeMetadata(t.useClass,t.dependencies)).diDeps,t.token===t.useClass&&(i={identifier:n})):t.useFactory&&(e=(r=this._getFactoryMetadata(t.useFactory,t.dependencies)).diDeps),{token:i,useClass:n,useValue:t.useValue,useFactory:r,useExisting:t.useExisting?this._getTokenMetadata(t.useExisting):void 0,deps:e,multi:t.multi}}_getQueriesMetadata(t,e,n){const r=[];return Object.keys(t).forEach(i=>{const s=t[i];s.isViewQuery===e&&r.push(this._getQueryMetadata(s,i,n))}),r}_queryVarBindings(t){return t.split(/\s*,\s*/)}_getQueryMetadata(t,e,n){let r;return"string"==typeof t.selector?r=this._queryVarBindings(t.selector).map(t=>this._getTokenMetadata(t)):t.selector?r=[this._getTokenMetadata(t.selector)]:(this._reportError(_E(`Can't construct a query for the property "${e}" of "${BR(n)}" since the query selector wasn't defined.`),n),r=[]),{selectors:r,first:t.first,descendants:t.descendants,propertyName:e,read:t.read?this._getTokenMetadata(t.read):null,static:t.static}}_reportError(t,e,n){if(!this._errorCollector)throw t;this._errorCollector(t,e),n&&this._errorCollector(t,n)}}function LR(t){return(e=function t(e,n=[]){if(e)for(let r=0;r<e.length;r++){const i=TE(e[r]);Array.isArray(i)?t(i,n):n.push(i)}return n}(t))?Array.from(new Set(e)):[];var e}function FR(t){return t instanceof qE||t instanceof Fb}class VR extends gE{visitOther(t,e){e.push({reference:t})}}function BR(t){return t instanceof qE?`${t.name} in ${t.filePath}`:SE(t)}function jR(t,e){let n=0;e.eager||(n|=4096),e.providerType===$A.PrivateService&&(n|=8192),e.isModule&&(n|=1073741824),e.lifecycleHooks.forEach(t=>{t!==DR.OnDestroy&&e.providerType!==$A.Directive&&e.providerType!==$A.Component||(n|=$R(t))});const{providerExpr:r,flags:i,depsExpr:s}=e.multiProvider?function(t,e,n){const r=[],i=[],s=n.map((e,n)=>{let r;if(e.useClass){const i=o(n,e.deps||e.useClass.diDeps);r=t.importExpr(e.useClass.reference).instantiate(i)}else if(e.useFactory){const i=o(n,e.deps||e.useFactory.diDeps);r=t.importExpr(e.useFactory.reference).callFn(i)}else if(e.useExisting){r=o(n,[{token:e.useExisting}])[0]}else r=SR(t,e.useValue);return r});return{providerExpr:oE(i,[new Vw(iE(s))],Xb),flags:1024|e,depsExpr:iE(r)};function o(e,n){return n.map((n,s)=>{const o=`p${e}_${s}`;return i.push(new Ew(o,Yb)),r.push(zR(t,n)),tE(o)})}}(t,n,e.providers):UR(t,n,e.providerType,e.providers[0]);return{providerExpr:r,flags:i,depsExpr:s,tokenExpr:qR(t,e.token)}}function UR(t,e,n,r){let i,s;return n===$A.Directive||n===$A.Component?(i=t.importExpr(r.useClass.reference),e|=16384,s=r.deps||r.useClass.diDeps):r.useClass?(i=t.importExpr(r.useClass.reference),e|=512,s=r.deps||r.useClass.diDeps):r.useFactory?(i=t.importExpr(r.useFactory.reference),e|=1024,s=r.deps||r.useFactory.diDeps):r.useExisting?(i=Nw,e|=2048,s=[{token:r.useExisting}]):(i=SR(t,r.useValue),e|=256,s=[]),{providerExpr:i,flags:e,depsExpr:iE(s.map(e=>zR(t,e)))}}function qR(t,e){return e.identifier?t.importExpr(e.identifier.reference):lE(e.value)}function zR(t,e){const n=e.isValue?SR(t,e.value):qR(t,e.token);let r=0;return e.isSkipSelf&&(r|=1),e.isOptional&&(r|=2),e.isSelf&&(r|=4),e.isValue&&(r|=8),0===r?n:iE([lE(r),n])}function $R(t){let e=0;switch(t){case DR.AfterContentChecked:e=2097152;break;case DR.AfterContentInit:e=1048576;break;case DR.AfterViewChecked:e=8388608;break;case DR.AfterViewInit:e=4194304;break;case DR.DoCheck:e=262144;break;case DR.OnChanges:e=524288;break;case DR.OnDestroy:e=131072;break;case DR.OnInit:e=65536}return e}function HR(t,e,n,r){const i=r.map(t=>e.importExpr(t.componentFactory)),s=UE(t,BE.ComponentFactoryResolver),o={diDeps:[{isValue:!0,value:iE(i)},{token:s,isSkipSelf:!0,isOptional:!0},{token:UE(t,BE.NgModuleRef)}],lifecycleHooks:[],reference:t.resolveExternalReference(BE.CodegenComponentFactoryResolver)},{providerExpr:a,flags:l,depsExpr:c}=UR(e,n,$A.PrivateService,{token:s,multi:!1,useClass:o});return{providerExpr:a,flags:l,depsExpr:c,tokenExpr:qR(e,s)}}class WR{constructor(t){this.ngModuleFactoryVar=t}}const KR=tE("_l");class GR{constructor(t){this.reflector=t}compile(t,e,n){const r=function(t,e){const n=GE(e),r=null!=n?`in ${t} ${KE(e)} in ${n}`:`in ${t} ${KE(e)}`,i=new xx("",r);return new Sx(new Cx(i,-1,-1,-1),new Cx(i,-1,-1,-1))}("NgModule",e.type),i=e.transitiveModule.entryComponents,s=e.bootstrapComponents,o=new YA(this.reflector,e,n,r),a=[HR(this.reflector,t,0,i)].concat(o.parse().map(e=>jR(t,e))).map(({providerExpr:t,depsExpr:e,flags:n,tokenExpr:r})=>eE(BE.moduleProviderDef).callFn([lE(n),r,t,e])),l=eE(BE.moduleDef).callFn([iE(a)]),c=oE([new Ew(KR.name)],[new Vw(l)],Xb),u=`${KE(e.type)}NgFactory`;if(this._createNgModuleFactory(t,e.type.reference,eE(BE.createModuleFactory).callFn([t.importExpr(e.type.reference),iE(s.map(e=>t.importExpr(e.reference))),c])),e.id){const n="string"==typeof e.id?lE(e.id):t.importExpr(e.id),r=eE(BE.RegisterModuleFactoryFn).callFn([n,tE(u)]).toStmt();t.statements.push(r)}return new WR(u)}createStub(t,e){this._createNgModuleFactory(t,e,Nw)}_createNgModuleFactory(t,e,n){const r=tE(`${KE({reference:e})}NgFactory`).set(n).toDeclStmt(nE(BE.NgModuleFactory,[rE(t.importExpr(e))],[zb.Const]),[Pw.Final,Pw.Exported]);t.statements.push(r)}}class QR{constructor(t){this._reflector=t}isNgModule(t){return this._reflector.annotations(t).some(Ab.isTypeOf)}resolve(t,e=!0){const n=xP(this._reflector.annotations(t),Ab.isTypeOf);if(n)return n;if(e)throw new Error(`No NgModule metadata found for '${SE(t)}'.`);return null}}class YR extends tI{constructor(t,e){super(!1),this.referenceFilter=t,this.importFilter=e,this.typeExpression=0,this.importsWithPrefixes=new Map,this.reexports=new Map}visitType(t,e,n="any"){t?(this.typeExpression++,t.visitType(this,e),this.typeExpression--):e.print(null,n)}visitLiteralExpr(t,e){const n=t.value;return null==n&&t.type!=Xb?(e.print(t,`(${n} as any)`),null):super.visitLiteralExpr(t,e)}visitLiteralArrayExpr(t,e){0===t.entries.length&&e.print(t,"(");const n=super.visitLiteralArrayExpr(t,e);return 0===t.entries.length&&e.print(t," as any[])"),n}visitExternalExpr(t,e){return this._visitIdentifier(t.value,t.typeParams,e),null}visitAssertNotNullExpr(t,e){const n=super.visitAssertNotNullExpr(t,e);return e.print(t,"!"),n}visitDeclareVarStmt(t,e){if(t.hasModifier(Pw.Exported)&&t.value instanceof yw&&!t.type){const{name:e,moduleName:n}=t.value.value;if(n){let r=this.reexports.get(n);return r||(r=[],this.reexports.set(n,r)),r.push({name:e,as:t.name}),null}}return t.hasModifier(Pw.Exported)&&e.print(t,"export "),t.hasModifier(Pw.Final)?e.print(t,"const"):e.print(t,"var"),e.print(t,` ${t.name}`),this._printColonType(t.type,e),t.value&&(e.print(t," = "),t.value.visitExpression(this,e)),e.println(t,";"),null}visitWrappedNodeExpr(t,e){throw new Error("Cannot visit a WrappedNodeExpr when outputting Typescript.")}visitCastExpr(t,e){return e.print(t,"(<"),t.type.visitType(this,e),e.print(t,">"),t.value.visitExpression(this,e),e.print(t,")"),null}visitInstantiateExpr(t,e){return e.print(t,"new "),this.typeExpression++,t.classExpr.visitExpression(this,e),this.typeExpression--,e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null}visitDeclareClassStmt(t,e){return e.pushClass(t),t.hasModifier(Pw.Exported)&&e.print(t,"export "),e.print(t,`class ${t.name}`),null!=t.parent&&(e.print(t," extends "),this.typeExpression++,t.parent.visitExpression(this,e),this.typeExpression--),e.println(t," {"),e.incIndent(),t.fields.forEach(t=>this._visitClassField(t,e)),null!=t.constructorMethod&&this._visitClassConstructor(t,e),t.getters.forEach(t=>this._visitClassGetter(t,e)),t.methods.forEach(t=>this._visitClassMethod(t,e)),e.decIndent(),e.println(t,"}"),e.popClass(),null}_visitClassField(t,e){t.hasModifier(Pw.Private)&&e.print(null,"/*private*/ "),t.hasModifier(Pw.Static)&&e.print(null,"static "),e.print(null,t.name),this._printColonType(t.type,e),t.initializer&&(e.print(null," = "),t.initializer.visitExpression(this,e)),e.println(null,";")}_visitClassGetter(t,e){t.hasModifier(Pw.Private)&&e.print(null,"private "),e.print(null,`get ${t.name}()`),this._printColonType(t.type,e),e.println(null," {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println(null,"}")}_visitClassConstructor(t,e){e.print(t,"constructor("),this._visitParams(t.constructorMethod.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.constructorMethod.body,e),e.decIndent(),e.println(t,"}")}_visitClassMethod(t,e){t.hasModifier(Pw.Private)&&e.print(null,"private "),e.print(null,`${t.name}(`),this._visitParams(t.params,e),e.print(null,")"),this._printColonType(t.type,e,"void"),e.println(null," {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println(null,"}")}visitFunctionExpr(t,e){return t.name&&(e.print(t,"function "),e.print(t,t.name)),e.print(t,"("),this._visitParams(t.params,e),e.print(t,")"),this._printColonType(t.type,e,"void"),t.name||e.print(t," => "),e.println(t,"{"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print(t,"}"),null}visitDeclareFunctionStmt(t,e){return t.hasModifier(Pw.Exported)&&e.print(t,"export "),e.print(t,`function ${t.name}(`),this._visitParams(t.params,e),e.print(t,")"),this._printColonType(t.type,e,"void"),e.println(t," {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println(t,"}"),null}visitTryCatchStmt(t,e){e.println(t,"try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println(t,`} catch (${YT.name}) {`),e.incIndent();const n=[XT.set(YT.prop("stack",null)).toDeclStmt(null,[Pw.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println(t,"}"),null}visitBuiltinType(t,e){let n;switch(t.name){case $b.Bool:n="boolean";break;case $b.Dynamic:n="any";break;case $b.Function:n="Function";break;case $b.Number:case $b.Int:n="number";break;case $b.String:n="string";break;case $b.None:n="never";break;default:throw new Error(`Unsupported builtin type ${t.name}`)}return e.print(null,n),null}visitExpressionType(t,e){return t.value.visitExpression(this,e),null!==t.typeParams&&(e.print(null,"<"),this.visitAllObjects(t=>this.visitType(t,e),t.typeParams,e,","),e.print(null,">")),null}visitArrayType(t,e){return this.visitType(t.of,e),e.print(null,"[]"),null}visitMapType(t,e){return e.print(null,"{[key: string]:"),this.visitType(t.valueType,e),e.print(null,"}"),null}getBuiltinMethodName(t){let e;switch(t){case rw.ConcatArray:e="concat";break;case rw.SubscribeObservable:e="subscribe";break;case rw.Bind:e="bind";break;default:throw new Error(`Unknown builtin method: ${t}`)}return e}_visitParams(t,e){this.visitAllObjects(t=>{e.print(null,t.name),this._printColonType(t.type,e)},t,e,",")}_visitIdentifier(t,e,n){const{name:r,moduleName:i}=t;if(this.referenceFilter&&this.referenceFilter(t))n.print(null,"(null as any)");else{if(i&&(!this.importFilter||!this.importFilter(t))){let t=this.importsWithPrefixes.get(i);null==t&&(t=`i${this.importsWithPrefixes.size}`,this.importsWithPrefixes.set(i,t)),n.print(null,`${t}.`)}if(n.print(null,r),this.typeExpression>0){(e||[]).length>0&&(n.print(null,"<"),this.visitAllObjects(t=>t.visitType(this,n),e,n,","),n.print(null,">"))}}}_printColonType(t,e,n){t!==Xb&&(e.print(null,":"),this.visitType(t,e,n))}}class XR{constructor(t){this._reflector=t}isPipe(t){const e=this._reflector.annotations(TE(t));return e&&e.some(xb.isTypeOf)}resolve(t,e=!0){const n=this._reflector.annotations(TE(t));if(n){const t=xP(n,xb.isTypeOf);if(t)return t}if(e)throw new Error(`No Pipe decorator found on ${SE(t)}`);return null}}const ZR="_any";new class{notifyImplicitReceiverUse(){}getLocal(t){return t===GI.event.name?tE(ZR):null}};const JR="class",tM="style",eM="$implicit";class nM{constructor(t,e){this.viewClassVar=t,this.rendererTypeVar=e}}class rM{constructor(t){this._reflector=t}compileComponent(t,e,n,r,i){let s=0;const o=function t(e,n=new Map){e.forEach(e=>{const r=new Set,i=new Set;let s=void 0;e instanceof BA?(t(e.children,n),e.children.forEach(t=>{const e=n.get(t);e.staticQueryIds.forEach(t=>r.add(t)),e.dynamicQueryIds.forEach(t=>i.add(t))}),s=e.queryMatches):e instanceof jA&&(t(e.children,n),e.children.forEach(t=>{const e=n.get(t);e.staticQueryIds.forEach(t=>i.add(t)),e.dynamicQueryIds.forEach(t=>i.add(t))}),s=e.queryMatches),s&&s.forEach(t=>r.add(t.queryId)),i.forEach(t=>r.delete(t)),n.set(e,{staticQueryIds:r,dynamicQueryIds:i})});return n}(n);let a=void 0;if(!e.isHost){const n=e.template,i=[];n.animations&&n.animations.length&&i.push(new kw("animation",SR(t,n.animations),!0));const s=tE(YE(e.type.reference));a=s.name,t.statements.push(s.set(eE(BE.createRendererType2).callFn([new Aw([new kw("encapsulation",lE(n.encapsulation),!1),new kw("styles",r,!1),new kw("data",new Aw(i),!1)])])).toDeclStmt(nE(BE.RendererType2),[Pw.Final,Pw.Exported]))}const l=n=>{const r=s++;return new uM(this._reflector,t,n,e,r,i,o,l)},c=l(null);return c.visitAll([],n),t.statements.push(...c.build()),new nM(c.viewName,a)}}const iM=tE("_l"),sM=tE("_v"),oM=tE("_ck"),aM=tE("_co"),lM=tE("en"),cM=tE("ad");class uM{constructor(t,e,n,r,i,s,o,a){this.reflector=t,this.outputCtx=e,this.parent=n,this.component=r,this.embeddedViewIndex=i,this.usedPipes=s,this.staticQueryIds=o,this.viewBuilderFactory=a,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?Yb:rE(e.importExpr(this.component.type.reference)),this.viewName=QE(this.component.type.reference,this.embeddedViewIndex)}visitAll(t,e){if(this.variables=t,this.parent||this.usedPipes.forEach(t=>{t.pure&&(this.purePipeNodeIndices[t.name]=this._createPipe(null,t))}),!this.parent){const t=function(t){const e=new Set,n=new Set;return Array.from(t.values()).forEach(t=>{t.staticQueryIds.forEach(t=>e.add(t)),t.dynamicQueryIds.forEach(t=>n.add(t))}),n.forEach(t=>e.delete(t)),{staticQueryIds:e,dynamicQueryIds:n}}(this.staticQueryIds);this.component.viewQueries.forEach((e,n)=>{const r=n+1,i=e.first?0:1,s=134217728|fM(t,r,e);this.nodes.push(()=>({sourceSpan:null,nodeFlags:s,nodeDef:eE(BE.queryDef).callFn([lE(s),lE(r),new Aw([new kw(e.propertyName,lE(i),!1)])])}))})}WA(this,e),this.parent&&(0===e.length||function t(e){const n=e[e.length-1];if(n instanceof jA)return n.hasViewContainer;if(n instanceof BA)return X_(n.name)&&n.children.length?t(n.children):n.hasViewContainer;return n instanceof HA}(e))&&this.nodes.push(()=>({sourceSpan:null,nodeFlags:1,nodeDef:eE(BE.anchorDef).callFn([lE(0),Nw,Nw,lE(0)])}))}build(t=[]){this.children.forEach(e=>e.build(t));const{updateRendererStmts:e,updateDirectivesStmts:n,nodeDefExprs:r}=this._createNodeExpressions(),i=this._createUpdateFn(e),s=this._createUpdateFn(n);let o=0;this.parent||this.component.changeDetection!==Eb.OnPush||(o|=2);const a=new Lw(this.viewName,[new Ew(iM.name)],[new Vw(eE(BE.viewDef).callFn([lE(o),iE(r),s,i]))],nE(BE.ViewDefinition),0===this.embeddedViewIndex?[Pw.Exported]:[]);return t.push(a),t}_createUpdateFn(t){let e;if(t.length>0){const n=[];!this.component.isHost&&Qw(t).has(aM.name)&&n.push(aM.set(sM.prop("component")).toDeclStmt(this.compType)),e=oE([new Ew(oM.name,Xb),new Ew(sM.name,Xb)],[...n,...t],Xb)}else e=Nw;return e}visitNgContent(t,e){this.nodes.push(()=>({sourceSpan:t.sourceSpan,nodeFlags:8,nodeDef:eE(BE.ngContentDef).callFn([lE(t.ngContentIndex),lE(t.index)])}))}visitText(t,e){this.nodes.push(()=>({sourceSpan:t.sourceSpan,nodeFlags:2,nodeDef:eE(BE.textDef).callFn([lE(-1),lE(t.ngContentIndex),iE([lE(t.value)])])}))}visitBoundText(t,e){const n=this.nodes.length;this.nodes.push(null);const r=t.value.ast,i=r.expressions.map((e,r)=>this._preprocessUpdateExpression({nodeIndex:n,bindingIndex:r,sourceSpan:t.sourceSpan,context:aM,value:e})),s=n;this.nodes[n]=()=>({sourceSpan:t.sourceSpan,nodeFlags:2,nodeDef:eE(BE.textDef).callFn([lE(s),lE(t.ngContentIndex),iE(r.strings.map(t=>lE(t)))]),updateRenderer:i})}visitEmbeddedTemplate(t,e){const n=this.nodes.length;this.nodes.push(null);const{flags:r,queryMatchesExpr:i,hostEvents:s}=this._visitElementOrTemplate(n,t),o=this.viewBuilderFactory(this);this.children.push(o),o.visitAll(t.variables,t.children);const a=this.nodes.length-n-1;this.nodes[n]=()=>({sourceSpan:t.sourceSpan,nodeFlags:1|r,nodeDef:eE(BE.anchorDef).callFn([lE(r),i,lE(t.ngContentIndex),lE(a),this._createElementHandleEventFn(n,s),tE(o.viewName)])})}visitElement(t,e){const n=this.nodes.length;this.nodes.push(null);const r=X_(t.name)?null:t.name,{flags:i,usedEvents:s,queryMatchesExpr:o,hostBindings:a,hostEvents:l}=this._visitElementOrTemplate(n,t);let c=[],u=[],h=[];if(r){const e=t.inputs.map(t=>({context:aM,inputAst:t,dirAst:null})).concat(a);e.length&&(u=e.map((t,e)=>this._preprocessUpdateExpression({context:t.context,nodeIndex:n,bindingIndex:e,sourceSpan:t.inputAst.sourceSpan,value:t.inputAst.value})),c=e.map(t=>(function(t,e){const n=t.type;switch(n){case 1:return iE([lE(1),lE(t.name),lE(t.securityContext)]);case 0:return iE([lE(8),lE(t.name),lE(t.securityContext)]);case 4:return iE([lE(8|(e&&e.directive.isComponent?32:16)),lE("@"+t.name),lE(t.securityContext)]);case 2:return iE([lE(2),lE(t.name),Nw]);case 3:return iE([lE(4),lE(t.name),lE(t.unit)]);default:throw new Error(`unexpected ${n}`)}})(t.inputAst,t.dirAst))),h=s.map(([t,e])=>iE([lE(t),lE(e)]))}WA(this,t.children);const d=this.nodes.length-n-1,p=t.directives.find(t=>t.directive.isComponent);let m=Nw,f=Nw;p&&(f=this.outputCtx.importExpr(p.directive.componentViewType),m=this.outputCtx.importExpr(p.directive.rendererType));const g=n;this.nodes[n]=()=>({sourceSpan:t.sourceSpan,nodeFlags:1|i,nodeDef:eE(BE.elementDef).callFn([lE(g),lE(i),o,lE(t.ngContentIndex),lE(d),lE(r),r?hM(t):Nw,c.length?iE(c):Nw,h.length?iE(h):Nw,this._createElementHandleEventFn(n,l),f,m]),updateRenderer:u})}_visitElementOrTemplate(t,e){let n=0;e.hasViewContainer&&(n|=16777216);const r=new Map;e.outputs.forEach(t=>{const{name:e,target:n}=mM(t,null);r.set(gM(n,e),[n,e])}),e.directives.forEach(t=>{t.hostEvents.forEach(e=>{const{name:n,target:i}=mM(e,t);r.set(gM(i,n),[i,n])})});const i=[],s=[];this._visitComponentFactoryResolverProvider(e.directives),e.providers.forEach((n,o)=>{let a=void 0,l=void 0;if(e.directives.forEach((t,e)=>{t.directive.type.reference===tC(n.token)&&(a=t,l=e)}),a){const{hostBindings:o,hostEvents:c}=this._visitDirective(n,a,l,t,e.references,e.queryMatches,r,this.staticQueryIds.get(e));i.push(...o),s.push(...c)}else this._visitProvider(n,e.queryMatches)});let o=[];return e.queryMatches.forEach(t=>{let e=void 0;tC(t.value)===this.reflector.resolveExternalReference(BE.ElementRef)?e=0:tC(t.value)===this.reflector.resolveExternalReference(BE.ViewContainerRef)?e=3:tC(t.value)===this.reflector.resolveExternalReference(BE.TemplateRef)&&(e=2),null!=e&&o.push(iE([lE(t.queryId),lE(e)]))}),e.references.forEach(e=>{let n=void 0;e.value?tC(e.value)===this.reflector.resolveExternalReference(BE.TemplateRef)&&(n=2):n=1,null!=n&&(this.refNodeIndices[e.name]=t,o.push(iE([lE(e.name),lE(n)])))}),e.outputs.forEach(t=>{s.push({context:aM,eventAst:t,dirAst:null})}),{flags:n,usedEvents:Array.from(r.values()),queryMatchesExpr:o.length?iE(o):Nw,hostBindings:i,hostEvents:s}}_visitDirective(t,e,n,r,i,s,o,a){const l=this.nodes.length;this.nodes.push(null),e.directive.queries.forEach((t,n)=>{const r=e.contentQueryStartId+n,i=67108864|fM(a,r,t),s=t.first?0:1;this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:i,nodeDef:eE(BE.queryDef).callFn([lE(i),lE(r),new Aw([new kw(t.propertyName,lE(s),!1)])])}))});const c=this.nodes.length-l-1;let{flags:u,queryMatchExprs:h,providerExpr:d,depsExpr:p}=this._visitProviderOrDirective(t,s);i.forEach(e=>{e.value&&tC(e.value)===tC(t.token)&&(this.refNodeIndices[e.name]=l,h.push(iE([lE(e.name),lE(4)])))}),e.directive.isComponent&&(u|=32768);const m=e.inputs.map((t,e)=>{const n=iE([lE(e),lE(t.directiveName)]);return new kw(t.directiveName,n,!1)}),f=[],g=e.directive;Object.keys(g.outputs).forEach(t=>{const e=g.outputs[t];o.has(e)&&f.push(new kw(t,lE(e),!1))});let y=[];(e.inputs.length||(327680&u)>0)&&(y=e.inputs.map((t,e)=>this._preprocessUpdateExpression({nodeIndex:l,bindingIndex:e,sourceSpan:t.sourceSpan,context:aM,value:t.value})));const v=eE(BE.nodeValue).callFn([sM,lE(l)]),_=e.hostProperties.map(t=>({context:v,dirAst:e,inputAst:t})),b=e.hostEvents.map(t=>({context:v,eventAst:t,dirAst:e})),w=l;return this.nodes[l]=()=>({sourceSpan:e.sourceSpan,nodeFlags:16384|u,nodeDef:eE(BE.directiveDef).callFn([lE(w),lE(u),h.length?iE(h):Nw,lE(c),d,p,m.length?new Aw(m):Nw,f.length?new Aw(f):Nw]),updateDirectives:y,directive:e.directive.type}),{hostBindings:_,hostEvents:b}}_visitProvider(t,e){this._addProviderNode(this._visitProviderOrDirective(t,e))}_visitComponentFactoryResolverProvider(t){const e=t.find(t=>t.directive.isComponent);if(e&&e.directive.entryComponents.length){const{providerExpr:t,depsExpr:n,flags:r,tokenExpr:i}=HR(this.reflector,this.outputCtx,8192,e.directive.entryComponents);this._addProviderNode({providerExpr:t,depsExpr:n,flags:r,tokenExpr:i,queryMatchExprs:[],sourceSpan:e.sourceSpan})}}_addProviderNode(t){this.nodes.length;this.nodes.push(()=>({sourceSpan:t.sourceSpan,nodeFlags:t.flags,nodeDef:eE(BE.providerDef).callFn([lE(t.flags),t.queryMatchExprs.length?iE(t.queryMatchExprs):Nw,t.tokenExpr,t.providerExpr,t.depsExpr])}))}_visitProviderOrDirective(t,e){let n=[];e.forEach(e=>{tC(e.value)===tC(t.token)&&n.push(iE([lE(e.queryId),lE(4)]))});const{providerExpr:r,depsExpr:i,flags:s,tokenExpr:o}=jR(this.outputCtx,t);return{flags:0|s,queryMatchExprs:n,providerExpr:r,depsExpr:i,tokenExpr:o,sourceSpan:t.sourceSpan}}getLocal(t){if(t==GI.event.name)return GI.event;let e=sM;for(let n=this;n;n=n.parent,e=e.prop("parent").cast(Yb)){const r=n.refNodeIndices[t];if(null!=r)return eE(BE.nodeValue).callFn([e,lE(r)]);const i=n.variables.find(e=>e.name===t);if(i){const t=i.value||eM;return e.prop("context").prop(t)}}return null}notifyImplicitReceiverUse(){}_createLiteralArrayConverter(t,e){if(0===e){const t=eE(BE.EMPTY_ARRAY);return()=>t}const n=this.nodes.length;return this.nodes.push(()=>({sourceSpan:t,nodeFlags:32,nodeDef:eE(BE.pureArrayDef).callFn([lE(n),lE(e)])})),t=>dM(n,t)}_createLiteralMapConverter(t,e){if(0===e.length){const t=eE(BE.EMPTY_MAP);return()=>t}const n=sE(e.map((t,e)=>Object.assign({},t,{value:lE(e)}))),r=this.nodes.length;return this.nodes.push(()=>({sourceSpan:t,nodeFlags:64,nodeDef:eE(BE.pureObjectDef).callFn([lE(r),n])})),t=>dM(r,t)}_createPipeConverter(t,e,n){const r=this.usedPipes.find(t=>t.name===e);if(r.pure){const r=this.nodes.length;this.nodes.push(()=>({sourceSpan:t.sourceSpan,nodeFlags:128,nodeDef:eE(BE.purePipeDef).callFn([lE(r),lE(n)])}));let i=sM,s=this;for(;s.parent;)s=s.parent,i=i.prop("parent").cast(Yb);const o=s.purePipeNodeIndices[e],a=eE(BE.nodeValue).callFn([i,lE(o)]);return e=>pM(t.nodeIndex,t.bindingIndex,dM(r,[a].concat(e)))}{const e=this._createPipe(t.sourceSpan,r),n=eE(BE.nodeValue).callFn([sM,lE(e)]);return e=>pM(t.nodeIndex,t.bindingIndex,n.callMethod("transform",e))}}_createPipe(t,e){const n=this.nodes.length;let r=0;e.type.lifecycleHooks.forEach(t=>{t===DR.OnDestroy&&(r|=$R(t))});const i=e.type.diDeps.map(t=>zR(this.outputCtx,t));return this.nodes.push(()=>({sourceSpan:t,nodeFlags:16,nodeDef:eE(BE.pipeDef).callFn([lE(r),this.outputCtx.importExpr(e.type.reference),iE(i)])})),n}_preprocessUpdateExpression(t){return{nodeIndex:t.nodeIndex,bindingIndex:t.bindingIndex,sourceSpan:t.sourceSpan,context:t.context,value:XI({createLiteralArrayConverter:e=>this._createLiteralArrayConverter(t.sourceSpan,e),createLiteralMapConverter:e=>this._createLiteralMapConverter(t.sourceSpan,e),createPipeConverter:(e,n)=>this._createPipeConverter(t,e,n)},t.value)}}_createNodeExpressions(){const t=this;let e=0;const n=[],r=[],i=this.nodes.map((t,e)=>{const{nodeDef:i,nodeFlags:o,updateDirectives:a,updateRenderer:l,sourceSpan:c}=t();return l&&n.push(...s(e,c,l,!1)),a&&r.push(...s(e,c,a,(327680&o)>0)),Zw(3&o?new Dw([iM.callFn([]).callFn([]),i]):i,c)});return{updateRendererStmts:n,updateDirectivesStmts:r,nodeDefExprs:i};function s(n,r,i,s){const o=[],a=i.map(({sourceSpan:n,context:r,value:i})=>{const s=`${e++}`,a=r===aM?t:null,{stmts:l,currValExpr:c}=JI(a,r,i,s,zI.General);return o.push(...l.map(t=>Xw(t,n))),Zw(c,n)});return(i.length||s)&&o.push(Xw(dM(n,a).toStmt(),r)),o}}_createElementHandleEventFn(t,e){const n=[];let r,i=0;if(e.forEach(({context:t,eventAst:e,dirAst:r})=>{const s=`${i++}`,o=t===aM?this:null,{stmts:a,allowDefault:l}=YI(o,t,e.handler,s),c=a;l&&c.push(cM.set(l.and(cM)).toStmt());const{target:u,name:h}=mM(e,r),d=gM(u,h);n.push(Xw(new zw(lE(d).identical(lM),c),e.sourceSpan))}),n.length>0){const t=[cM.set(lE(!0)).toDeclStmt(Zb)];!this.component.isHost&&Qw(n).has(aM.name)&&t.push(aM.set(sM.prop("component")).toDeclStmt(this.compType)),r=oE([new Ew(sM.name,Xb),new Ew(lM.name,Xb),new Ew(GI.event.name,Xb)],[...t,...n,new Vw(cM)],Xb)}else r=Nw;return r}visitDirective(t,e){}visitDirectiveProperty(t,e){}visitReference(t,e){}visitVariable(t,e){}visitEvent(t,e){}visitElementProperty(t,e){}visitAttr(t,e){}}function hM(t){const e=Object.create(null);return t.attrs.forEach(t=>{e[t.name]=t.value}),t.directives.forEach(t=>{Object.keys(t.directive.hostAttributes).forEach(n=>{const r=t.directive.hostAttributes[n],i=e[n];e[n]=null!=i?function(t,e,n){return t==JR||t==tM?`${e} ${n}`:n}(n,i,r):r})}),iE(Object.keys(e).sort().map(t=>iE([lE(t),lE(e[t])])))}function dM(t,e){return e.length>10?oM.callFn([sM,lE(t),lE(1),iE(e)]):oM.callFn([sM,lE(t),lE(0),...e])}function pM(t,e,n){return eE(BE.unwrapValue).callFn([sM,lE(t),lE(e),n])}function mM(t,e){return t.isAnimation?{name:`@${t.name}.${t.phase}`,target:e&&e.directive.isComponent?"component":null}:t}function fM(t,e,n){let r=0;return n.first&&function(t,e,n){return n.static||null==n.static&&(t.staticQueryIds.has(e)||!t.dynamicQueryIds.has(e))}(t,e,n)?r|=268435456:r|=536870912,r}function gM(t,e){return t?`${t}:${e}`:e}const yM="useValue";new Set([yM,"useFactory","data","id","loadChildren"]);class vM{static build(){const t=new Map;return{define:function(e,n){return t.set(e,n),this},done:function(){return t.size>0?new _M(t):vM.empty}}}}vM.missing={},vM.empty={resolve:t=>vM.missing};class _M extends vM{constructor(t){super(),this.bindings=t}resolve(t){return this.bindings.has(t)?this.bindings.get(t):vM.missing}}class bM{}class wM{constructor(){this._summaries=new Map}isLibraryFile(){return!1}toSummaryFileName(t){return t}fromSummaryFileName(t){return t}resolveSummary(t){return this._summaries.get(t)||null}getSymbolsOf(){return[]}getImportAs(t){return t}getKnownModuleName(t){return null}addSummary(t){this._summaries.set(t.symbol,t)}}function EM(t,e,n,r,i){const s=r.createChildWihtLocalVars();for(let a=0;a<t.length;a++)s.vars.set(t[a],e[a]);const o=i.visitAllStatements(n,s);return o?o.value:null}class CM{constructor(t,e,n,r){this.parent=t,this.instance=e,this.className=n,this.vars=r,this.exports=[]}createChildWihtLocalVars(){return new CM(this,this.instance,this.className,new Map)}}class xM{constructor(t){this.value=t}}class SM{constructor(t){this.reflector=t}debugAst(t){return function(t){const e=new YR,n=JT.createRoot();return(Array.isArray(t)?t:[t]).forEach(t=>{if(t instanceof Rw)t.visitStatement(e,n);else if(t instanceof ow)t.visitExpression(e,n);else{if(!(t instanceof Hb))throw new Error(`Don't know how to print debug info for ${t}`);t.visitType(e,n)}}),n.toSource()}(t)}visitDeclareVarStmt(t,e){const n=t.value?t.value.visitExpression(this,e):void 0;return e.vars.set(t.name,n),t.hasModifier(Pw.Exported)&&e.exports.push(t.name),null}visitWriteVarExpr(t,e){const n=t.value.visitExpression(this,e);let r=e;for(;null!=r;){if(r.vars.has(t.name))return r.vars.set(t.name,n),n;r=r.parent}throw new Error(`Not declared variable ${t.name}`)}visitWrappedNodeExpr(t,e){throw new Error("Cannot interpret a WrappedNodeExpr.")}visitTypeofExpr(t,e){throw new Error("Cannot interpret a TypeofExpr")}visitReadVarExpr(t,e){let n=t.name;if(null!=t.builtin)switch(t.builtin){case nw.Super:return Object.getPrototypeOf(e.instance);case nw.This:return e.instance;case nw.CatchError:n=IM;break;case nw.CatchStack:n=kM;break;default:throw new Error(`Unknown builtin variable ${t.builtin}`)}let r=e;for(;null!=r;){if(r.vars.has(n))return r.vars.get(n);r=r.parent}throw new Error(`Not declared variable ${n}`)}visitWriteKeyExpr(t,e){const n=t.receiver.visitExpression(this,e),r=t.index.visitExpression(this,e),i=t.value.visitExpression(this,e);return n[r]=i,i}visitWritePropExpr(t,e){const n=t.receiver.visitExpression(this,e),r=t.value.visitExpression(this,e);return n[t.name]=r,r}visitInvokeMethodExpr(t,e){const n=t.receiver.visitExpression(this,e),r=this.visitAllExpressions(t.args,e);let i;if(null!=t.builtin)switch(t.builtin){case rw.ConcatArray:i=n.concat(...r);break;case rw.SubscribeObservable:i=n.subscribe({next:r[0]});break;case rw.Bind:i=n.bind(...r);break;default:throw new Error(`Unknown builtin method ${t.builtin}`)}else i=n[t.name].apply(n,r);return i}visitInvokeFunctionExpr(t,e){const n=this.visitAllExpressions(t.args,e),r=t.fn;if(r instanceof aw&&r.builtin===nw.Super)return e.instance.constructor.prototype.constructor.apply(e.instance,n),null;return t.fn.visitExpression(this,e).apply(null,n)}visitReturnStmt(t,e){return new xM(t.value.visitExpression(this,e))}visitDeclareClassStmt(t,e){const n=function(t,e,n){const r={};t.getters.forEach(i=>{r[i.name]={configurable:!1,get:function(){const r=new CM(e,this,t.name,e.vars);return EM([],[],i.body,r,n)}}}),t.methods.forEach(function(i){const s=i.params.map(t=>t.name);r[i.name]={writable:!1,configurable:!1,value:function(...r){const o=new CM(e,this,t.name,e.vars);return EM(s,r,i.body,o,n)}}});const i=t.constructorMethod.params.map(t=>t.name),s=function(...r){const s=new CM(e,this,t.name,e.vars);t.fields.forEach(t=>{this[t.name]=void 0}),EM(i,r,t.constructorMethod.body,s,n)},o=t.parent?t.parent.visitExpression(n,e):Object;return s.prototype=Object.create(o.prototype,r),s}(t,e,this);return e.vars.set(t.name,n),t.hasModifier(Pw.Exported)&&e.exports.push(t.name),null}visitExpressionStmt(t,e){return t.expr.visitExpression(this,e)}visitIfStmt(t,e){return t.condition.visitExpression(this,e)?this.visitAllStatements(t.trueCase,e):null!=t.falseCase?this.visitAllStatements(t.falseCase,e):null}visitTryCatchStmt(t,e){try{return this.visitAllStatements(t.bodyStmts,e)}catch(n){const r=e.createChildWihtLocalVars();return r.vars.set(IM,n),r.vars.set(kM,n.stack),this.visitAllStatements(t.catchStmts,r)}}visitThrowStmt(t,e){throw t.error.visitExpression(this,e)}visitCommentStmt(t,e){return null}visitJSDocCommentStmt(t,e){return null}visitInstantiateExpr(t,e){const n=this.visitAllExpressions(t.args,e);return new(t.classExpr.visitExpression(this,e))(...n)}visitLiteralExpr(t,e){return t.value}visitExternalExpr(t,e){return this.reflector.resolveExternalReference(t.value)}visitConditionalExpr(t,e){return t.condition.visitExpression(this,e)?t.trueCase.visitExpression(this,e):null!=t.falseCase?t.falseCase.visitExpression(this,e):null}visitNotExpr(t,e){return!t.condition.visitExpression(this,e)}visitAssertNotNullExpr(t,e){return t.condition.visitExpression(this,e)}visitCastExpr(t,e){return t.value.visitExpression(this,e)}visitFunctionExpr(t,e){return TM(t.params.map(t=>t.name),t.statements,e,this)}visitDeclareFunctionStmt(t,e){const n=t.params.map(t=>t.name);return e.vars.set(t.name,TM(n,t.statements,e,this)),t.hasModifier(Pw.Exported)&&e.exports.push(t.name),null}visitBinaryOperatorExpr(t,e){const n=()=>t.lhs.visitExpression(this,e),r=()=>t.rhs.visitExpression(this,e);switch(t.operator){case ew.Equals:return n()==r();case ew.Identical:return n()===r();case ew.NotEquals:return n()!=r();case ew.NotIdentical:return n()!==r();case ew.And:return n()&&r();case ew.Or:return n()||r();case ew.Plus:return n()+r();case ew.Minus:return n()-r();case ew.Divide:return n()/r();case ew.Multiply:return n()*r();case ew.Modulo:return n()%r();case ew.Lower:return n()<r();case ew.LowerEquals:return n()<=r();case ew.Bigger:return n()>r();case ew.BiggerEquals:return n()>=r();default:throw new Error(`Unknown operator ${t.operator}`)}}visitReadPropExpr(t,e){let n;return n=t.receiver.visitExpression(this,e)[t.name]}visitReadKeyExpr(t,e){return t.receiver.visitExpression(this,e)[t.index.visitExpression(this,e)]}visitLiteralArrayExpr(t,e){return this.visitAllExpressions(t.entries,e)}visitLiteralMapExpr(t,e){const n={};return t.entries.forEach(t=>n[t.key]=t.value.visitExpression(this,e)),n}visitCommaExpr(t,e){const n=this.visitAllExpressions(t.parts,e);return n[n.length-1]}visitAllExpressions(t,e){return t.map(t=>t.visitExpression(this,e))}visitAllStatements(t,e){for(let n=0;n<t.length;n++){const r=t[n].visitStatement(this,e);if(r instanceof xM)return r}return null}}function TM(t,e,n,r){return(...i)=>EM(t,i,e,n,r)}const IM="error",kM="stack";class AM{constructor(t,e,n,r,i,s,o,a,l,c,u){this._metadataResolver=t,this._templateParser=e,this._styleCompiler=n,this._viewCompiler=r,this._ngModuleCompiler=i,this._summaryResolver=s,this._reflector=o,this._jitEvaluator=a,this._compilerConfig=l,this._console=c,this.getExtraNgModuleProviders=u,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}compileModuleSync(t){return yE.assertSync(this._compileModuleAndComponents(t,!0))}compileModuleAsync(t){return Promise.resolve(this._compileModuleAndComponents(t,!1))}compileModuleAndAllComponentsSync(t){return yE.assertSync(this._compileModuleAndAllComponents(t,!0))}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this._compileModuleAndAllComponents(t,!1))}getComponentFactory(t){return this._metadataResolver.getDirectiveSummary(t).componentFactory}loadAotSummaries(t){this.clearCache(),this._addAotSummaries(t)}_addAotSummaries(t){if(this._addedAotSummaries.has(t))return;this._addedAotSummaries.add(t);const e=t();for(let n=0;n<e.length;n++){const t=e[n];if("function"==typeof t)this._addAotSummaries(t);else{const e=t;this._summaryResolver.addSummary({symbol:e.type.reference,metadata:null,type:e})}}}hasAotSummary(t){return!!this._summaryResolver.resolveSummary(t)}_filterJitIdentifiers(t){return t.map(t=>t.reference).filter(t=>!this.hasAotSummary(t))}_compileModuleAndComponents(t,e){return yE.then(this._loadModules(t,e),()=>(this._compileComponents(t,null),this._compileModule(t)))}_compileModuleAndAllComponents(t,e){return yE.then(this._loadModules(t,e),()=>{const e=[];return this._compileComponents(t,e),{ngModuleFactory:this._compileModule(t),componentFactories:e}})}_loadModules(t,e){const n=[],r=this._metadataResolver.getNgModuleMetadata(t);return this._filterJitIdentifiers(r.transitiveModule.modules).forEach(t=>{const r=this._metadataResolver.getNgModuleMetadata(t);this._filterJitIdentifiers(r.declaredDirectives).forEach(t=>{const i=this._metadataResolver.loadDirectiveMetadata(r.type.reference,t,e);i&&n.push(i)}),this._filterJitIdentifiers(r.declaredPipes).forEach(t=>this._metadataResolver.getOrLoadPipeMetadata(t))}),yE.all(n)}_compileModule(t){let e=this._compiledNgModuleCache.get(t);if(!e){const n=this._metadataResolver.getNgModuleMetadata(t),r=this.getExtraNgModuleProviders(n.type.reference),i=OM(),s=this._ngModuleCompiler.compile(i,n,r);e=this._interpretOrJit(function(t){return uC(`${KE(t.type)}/module.ngfactory.js`)}(n),i.statements)[s.ngModuleFactoryVar],this._compiledNgModuleCache.set(n.type.reference,e)}return e}_compileComponents(t,e){const n=this._metadataResolver.getNgModuleMetadata(t),r=new Map,i=new Set,s=this._filterJitIdentifiers(n.transitiveModule.modules);s.forEach(t=>{const n=this._metadataResolver.getNgModuleMetadata(t);this._filterJitIdentifiers(n.declaredDirectives).forEach(t=>{r.set(t,n);const s=this._metadataResolver.getDirectiveMetadata(t);if(s.isComponent&&(i.add(this._createCompiledTemplate(s,n)),e)){const t=this._createCompiledHostTemplate(s.type.reference,n);i.add(t),e.push(s.componentFactory)}})}),s.forEach(t=>{const e=this._metadataResolver.getNgModuleMetadata(t);this._filterJitIdentifiers(e.declaredDirectives).forEach(t=>{const e=this._metadataResolver.getDirectiveMetadata(t);e.isComponent&&e.entryComponents.forEach(t=>{const e=r.get(t.componentType);i.add(this._createCompiledHostTemplate(t.componentType,e))})}),e.entryComponents.forEach(t=>{if(!this.hasAotSummary(t.componentType)){const e=r.get(t.componentType);i.add(this._createCompiledHostTemplate(t.componentType,e))}})}),i.forEach(t=>this._compileTemplate(t))}clearCacheFor(t){this._compiledNgModuleCache.delete(t),this._metadataResolver.clearCacheFor(t),this._compiledHostTemplateCache.delete(t),this._compiledTemplateCache.get(t)&&this._compiledTemplateCache.delete(t)}clearCache(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()}_createCompiledHostTemplate(t,e){if(!e)throw new Error(`Component ${SE(t)} is not part of any NgModule or the module has not been imported into your module.`);let n=this._compiledHostTemplateCache.get(t);if(!n){const r=this._metadataResolver.getDirectiveMetadata(t);NM(r);const i=this._metadataResolver.getHostComponentMetadata(r,r.componentFactory.viewDefFactory);n=new DM(!0,r.type,i,e,[r.type]),this._compiledHostTemplateCache.set(t,n)}return n}_createCompiledTemplate(t,e){let n=this._compiledTemplateCache.get(t.type.reference);return n||(NM(t),n=new DM(!1,t.type,t,e,e.transitiveModule.directives),this._compiledTemplateCache.set(t.type.reference,n)),n}_compileTemplate(t){if(t.isCompiled)return;const e=t.compMeta,n=new Map,r=OM(),i=this._styleCompiler.compileComponent(r,e);e.template.externalStylesheets.forEach(t=>{const r=this._styleCompiler.compileStyles(OM(),e,t);n.set(t.moduleUrl,r)}),this._resolveStylesCompileResult(i,n);t.ngModule.transitiveModule.pipes.map(t=>this._metadataResolver.getPipeSummary(t.reference));const{template:s,pipes:o}=this._parseTemplate(e,t.ngModule,t.directives),a=this._viewCompiler.compileComponent(r,e,s,tE(i.stylesVar),o),l=this._interpretOrJit(function(t,e){return uC(`${KE(t)}/${KE(e.type)}.ngfactory.js`)}(t.ngModule.type,t.compMeta),r.statements),c=l[a.viewClassVar],u=l[a.rendererTypeVar];t.compiled(c,u)}_parseTemplate(t,e,n){const r=t.template.preserveWhitespaces,i=n.map(t=>this._metadataResolver.getDirectiveSummary(t.reference)),s=e.transitiveModule.pipes.map(t=>this._metadataResolver.getPipeSummary(t.reference));return this._templateParser.parse(t,t.template.htmlAst,i,s,e.schemas,hC(e.type,t,t.template),r)}_resolveStylesCompileResult(t,e){t.dependencies.forEach((t,n)=>{const r=e.get(t.moduleUrl),i=this._resolveAndEvalStylesCompileResult(r,e);t.setValue(i)})}_resolveAndEvalStylesCompileResult(t,e){return this._resolveStylesCompileResult(t,e),this._interpretOrJit(function(t,e){const n=t.moduleUrl.split(/\/\\/g);return uC(`css/${e}${n[n.length-1]}.ngstyle.js`)}(t.meta,this._sharedStylesheetCount++),t.outputCtx.statements)[t.stylesVar]}_interpretOrJit(t,e){return this._compilerConfig.useJit?this._jitEvaluator.evaluateStatements(t,e,this._reflector,this._compilerConfig.jitDevMode):function(t,e){const n=new CM(null,null,null,new Map);new SM(e).visitAllStatements(t,n);const r={};return n.exports.forEach(t=>{r[t]=n.vars.get(t)}),r}(e,this._reflector)}}class DM{constructor(t,e,n,r,i){this.isHost=t,this.compType=e,this.compMeta=n,this.ngModule=r,this.directives=i,this._viewClass=null,this.isCompiled=!1}compiled(t,e){this._viewClass=t,this.compMeta.componentViewType.setDelegate(t);for(let n in e)this.compMeta.rendererType[n]=e[n];this.isCompiled=!0}}function NM(t){if(!t.isComponent)throw new Error(`Could not compile '${KE(t.type)}' because it is not a component.`)}function OM(){return{statements:[],genFilePath:"",importExpr:t=>eE({name:KE(t),moduleName:null,runtime:t}),constantPool:new RE}}class PM{}const RM=class{constructor(t=null){this._packagePrefix=t}resolve(t,e){let n=e;null!=t&&t.length>0&&(n=function(t,e){const n=FM(encodeURI(e)),r=FM(t);if(null!=n[LM.Scheme])return VM(n);n[LM.Scheme]=r[LM.Scheme];for(let o=LM.Scheme;o<=LM.Port;o++)null==n[o]&&(n[o]=r[o]);if("/"==n[LM.Path][0])return VM(n);let i=r[LM.Path];null==i&&(i="/");const s=i.lastIndexOf("/");return i=i.substring(0,s+1)+n[LM.Path],n[LM.Path]=i,VM(n)}(t,n));const r=FM(n);let i=this._packagePrefix;if(null!=i&&null!=r&&"package"==r[LM.Scheme]){let t=r[LM.Path];return`${i=i.replace(/\/+$/,"")}/${t=t.replace(/^\/+/,"")}`}return n}};const MM=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");var LM;function FM(t){return t.match(MM)}function VM(t){let e=t[LM.Path];return e=null==e?"":function(t){if("/"==t)return"/";const e="/"==t[0]?"/":"",n="/"===t[t.length-1]?"/":"",r=t.split("/"),i=[];let s=0;for(let o=0;o<r.length;o++){const t=r[o];switch(t){case"":case".":break;case"..":i.length>0?i.pop():s++;break;default:i.push(t)}}if(""==e){for(;s-- >0;)i.unshift("..");0===i.length&&i.push(".")}return e+i.join("/")+n}(e),t[LM.Path]=e,function(t,e,n,r,i,s,o){const a=[];return null!=t&&a.push(t+":"),null!=n&&(a.push("//"),null!=e&&a.push(e+"@"),a.push(n),null!=r&&a.push(":"+r)),null!=i&&a.push(i),null!=s&&a.push("?"+s),null!=o&&a.push("#"+o),a.join("")}(t[LM.Scheme],t[LM.UserInfo],t[LM.Domain],t[LM.Port],e,t[LM.QueryData],t[LM.Fragment])}!function(t){t[t.Scheme=1]="Scheme",t[t.UserInfo=2]="UserInfo",t[t.Domain=3]="Domain",t[t.Port=4]="Port",t[t.Path=5]="Path",t[t.QueryData=6]="QueryData",t[t.Fragment=7]="Fragment"}(LM||(LM={}));!function(t){(t.ng||(t.ng={})).\u0275compilerFacade=new JO}(DE);class BM{}const jM=new jt("Location Initialized");class UM{}const qM=new jt("appBaseHref");class zM{constructor(t,e){this._subject=new xg,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=zM.stripTrailingSlash($M(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+zM.normalizeQueryParams(e))}normalize(t){return zM.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,$M(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zM.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zM.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-("/"===t[n-1]?1:0);return t.slice(0,r)+t.slice(n)}}function $M(t){return t.replace(/\/index.html$/,"")}zM.decorators=[{type:Ul}],zM.ctorParameters=()=>[{type:UM},{type:BM}];class HM extends UM{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=zM.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+zM.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+zM.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}HM.decorators=[{type:Ul}],HM.ctorParameters=()=>[{type:BM},{type:String,decorators:[{type:gt},{type:ft,args:[qM]}]}];class WM extends UM{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zM.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+zM.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+zM.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+zM.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}WM.decorators=[{type:Ul}],WM.ctorParameters=()=>[{type:BM},{type:String,decorators:[{type:gt},{type:ft,args:[qM]}]}];const KM={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},GM={Decimal:0,Percent:1,Currency:2,Scientific:3};GM[GM.Decimal]="Decimal",GM[GM.Percent]="Percent",GM[GM.Currency]="Currency",GM[GM.Scientific]="Scientific";const QM={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};QM[QM.Zero]="Zero",QM[QM.One]="One",QM[QM.Two]="Two",QM[QM.Few]="Few",QM[QM.Many]="Many",QM[QM.Other]="Other";const YM={Format:0,Standalone:1};YM[YM.Format]="Format",YM[YM.Standalone]="Standalone";const XM={Narrow:0,Abbreviated:1,Wide:2,Short:3};XM[XM.Narrow]="Narrow",XM[XM.Abbreviated]="Abbreviated",XM[XM.Wide]="Wide",XM[XM.Short]="Short";const ZM={Short:0,Medium:1,Long:2,Full:3};ZM[ZM.Short]="Short",ZM[ZM.Medium]="Medium",ZM[ZM.Long]="Long",ZM[ZM.Full]="Full";const JM={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};JM[JM.Decimal]="Decimal",JM[JM.Group]="Group",JM[JM.List]="List",JM[JM.PercentSign]="PercentSign",JM[JM.PlusSign]="PlusSign",JM[JM.MinusSign]="MinusSign",JM[JM.Exponential]="Exponential",JM[JM.SuperscriptingExponent]="SuperscriptingExponent",JM[JM.PerMille]="PerMille",JM[JM.Infinity]="Infinity",JM[JM.NaN]="NaN",JM[JM.TimeSeparator]="TimeSeparator",JM[JM.CurrencyDecimal]="CurrencyDecimal",JM[JM.CurrencyGroup]="CurrencyGroup";const tL={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function eL(t,e){return lL(lf(t)[rf.DateFormat],e)}function nL(t,e){return lL(lf(t)[rf.TimeFormat],e)}function rL(t,e){return lL(lf(t)[rf.DateTimeFormat],e)}function iL(t,e){const n=lf(t),r=n[rf.NumberSymbols][e];if(void 0===r){if(e===JM.CurrencyDecimal)return n[rf.NumberSymbols][JM.Decimal];if(e===JM.CurrencyGroup)return n[rf.NumberSymbols][JM.Group]}return r}function sL(t,e){return lf(t)[rf.NumberFormats][e]}tL[tL.Sunday]="Sunday",tL[tL.Monday]="Monday",tL[tL.Tuesday]="Tuesday",tL[tL.Wednesday]="Wednesday",tL[tL.Thursday]="Thursday",tL[tL.Friday]="Friday",tL[tL.Saturday]="Saturday";const oL=af;function aL(t){if(!t[rf.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[rf.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function lL(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function cL(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}function uL(t,e,n="en"){const r=function(t){return lf(t)[rf.Currencies]}(n)[t]||KM[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}const hL=2;const dL=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pL={},mL=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,fL={Short:0,ShortGMT:1,Long:2,Extended:3};fL[fL.Short]="Short",fL[fL.ShortGMT]="ShortGMT",fL[fL.Long]="Long",fL[fL.Extended]="Extended";const gL={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};gL[gL.FullYear]="FullYear",gL[gL.Month]="Month",gL[gL.Date]="Date",gL[gL.Hours]="Hours",gL[gL.Minutes]="Minutes",gL[gL.Seconds]="Seconds",gL[gL.FractionalSeconds]="FractionalSeconds",gL[gL.Day]="Day";const yL={DayPeriods:0,Days:1,Months:2,Eras:3};function vL(t,e,n,r){let i=function(t){if(DL(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(dL))return AL(n)}const e=new Date(t);if(!DL(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return lf(t)[rf.LocaleId]}(e);pL[r]=pL[r]||{};if(pL[r][n])return pL[r][n];let i="";switch(n){case"shortDate":i=eL(e,ZM.Short);break;case"mediumDate":i=eL(e,ZM.Medium);break;case"longDate":i=eL(e,ZM.Long);break;case"fullDate":i=eL(e,ZM.Full);break;case"shortTime":i=nL(e,ZM.Short);break;case"mediumTime":i=nL(e,ZM.Medium);break;case"longTime":i=nL(e,ZM.Long);break;case"fullTime":i=nL(e,ZM.Full);break;case"short":const r=t(e,"shortTime"),s=t(e,"shortDate");i=_L(rL(e,ZM.Short),[r,s]);break;case"medium":const o=t(e,"mediumTime"),a=t(e,"mediumDate");i=_L(rL(e,ZM.Medium),[o,a]);break;case"long":const l=t(e,"longTime"),c=t(e,"longDate");i=_L(rL(e,ZM.Long),[l,c]);break;case"full":const u=t(e,"fullTime"),h=t(e,"fullDate");i=_L(rL(e,ZM.Full),[u,h])}i&&(pL[r][n]=i);return i}(n,e)||e;let s,o=[];for(;e;){if(!(s=mL.exec(e))){o.push(e);break}{const t=(o=o.concat(s.slice(1))).pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=kL(r,a),i=function(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset(),s=kL(e,i);return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(s-i))}(i,r,!0));let l="";return o.forEach(t=>{const e=function(t){if(IL[t])return IL[t];let e;switch(t){case"G":case"GG":case"GGG":e=EL(yL.Eras,XM.Abbreviated);break;case"GGGG":e=EL(yL.Eras,XM.Wide);break;case"GGGGG":e=EL(yL.Eras,XM.Narrow);break;case"y":e=wL(gL.FullYear,1,0,!1,!0);break;case"yy":e=wL(gL.FullYear,2,0,!0,!0);break;case"yyy":e=wL(gL.FullYear,3,0,!1,!0);break;case"yyyy":e=wL(gL.FullYear,4,0,!1,!0);break;case"M":case"L":e=wL(gL.Month,1,1);break;case"MM":case"LL":e=wL(gL.Month,2,1);break;case"MMM":e=EL(yL.Months,XM.Abbreviated);break;case"MMMM":e=EL(yL.Months,XM.Wide);break;case"MMMMM":e=EL(yL.Months,XM.Narrow);break;case"LLL":e=EL(yL.Months,XM.Abbreviated,YM.Standalone);break;case"LLLL":e=EL(yL.Months,XM.Wide,YM.Standalone);break;case"LLLLL":e=EL(yL.Months,XM.Narrow,YM.Standalone);break;case"w":e=TL(1);break;case"ww":e=TL(2);break;case"W":e=TL(1,!0);break;case"d":e=wL(gL.Date,1);break;case"dd":e=wL(gL.Date,2);break;case"E":case"EE":case"EEE":e=EL(yL.Days,XM.Abbreviated);break;case"EEEE":e=EL(yL.Days,XM.Wide);break;case"EEEEE":e=EL(yL.Days,XM.Narrow);break;case"EEEEEE":e=EL(yL.Days,XM.Short);break;case"a":case"aa":case"aaa":e=EL(yL.DayPeriods,XM.Abbreviated);break;case"aaaa":e=EL(yL.DayPeriods,XM.Wide);break;case"aaaaa":e=EL(yL.DayPeriods,XM.Narrow);break;case"b":case"bb":case"bbb":e=EL(yL.DayPeriods,XM.Abbreviated,YM.Standalone,!0);break;case"bbbb":e=EL(yL.DayPeriods,XM.Wide,YM.Standalone,!0);break;case"bbbbb":e=EL(yL.DayPeriods,XM.Narrow,YM.Standalone,!0);break;case"B":case"BB":case"BBB":e=EL(yL.DayPeriods,XM.Abbreviated,YM.Format,!0);break;case"BBBB":e=EL(yL.DayPeriods,XM.Wide,YM.Format,!0);break;case"BBBBB":e=EL(yL.DayPeriods,XM.Narrow,YM.Format,!0);break;case"h":e=wL(gL.Hours,1,-12);break;case"hh":e=wL(gL.Hours,2,-12);break;case"H":e=wL(gL.Hours,1);break;case"HH":e=wL(gL.Hours,2);break;case"m":e=wL(gL.Minutes,1);break;case"mm":e=wL(gL.Minutes,2);break;case"s":e=wL(gL.Seconds,1);break;case"ss":e=wL(gL.Seconds,2);break;case"S":e=wL(gL.FractionalSeconds,1);break;case"SS":e=wL(gL.FractionalSeconds,2);break;case"SSS":e=wL(gL.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=CL(fL.Short);break;case"ZZZZZ":e=CL(fL.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=CL(fL.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=CL(fL.Long);break;default:return null}return IL[t]=e,e}(t);l+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function _L(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function bL(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function wL(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case gL.FullYear:return e.getFullYear();case gL.Month:return e.getMonth();case gL.Date:return e.getDate();case gL.Hours:return e.getHours();case gL.Minutes:return e.getMinutes();case gL.Seconds:return e.getSeconds();case gL.FractionalSeconds:return e.getMilliseconds();case gL.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===gL.Hours)0===a&&-12===n&&(a=12);else if(t===gL.FractionalSeconds)return l=e,bL(a,3).substr(0,l);var l;const c=iL(o,JM.MinusSign);return bL(a,e,c,r,i)}}function EL(t,e,n=YM.Format,r=!1){return function(i,s){return function(t,e,n,r,i,s){switch(n){case yL.Months:return function(t,e,n){const r=lf(t),i=lL([r[rf.MonthsFormat],r[rf.MonthsStandalone]],e);return lL(i,n)}(e,i,r)[t.getMonth()];case yL.Days:return function(t,e,n){const r=lf(t),i=lL([r[rf.DaysFormat],r[rf.DaysStandalone]],e);return lL(i,n)}(e,i,r)[t.getDay()];case yL.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const t=function(t){const e=lf(t);return aL(e),(e[rf.ExtraData][2]||[]).map(t=>"string"==typeof t?cL(t):[cL(t[0]),cL(t[1])])}(e),n=function(t,e,n){const r=lf(t);aL(r);const i=lL([r[rf.ExtraData][0],r[rf.ExtraData][1]],e)||[];return lL(i,n)||[]}(e,i,r);let s;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:l,minutes:c}=t[1];o>=r&&a>=i&&(o<l||o===l&&a<c)&&(s=n[e])}else{const{hours:r,minutes:i}=t;r===o&&i===a&&(s=n[e])}}),s)return s}return function(t,e,n){const r=lf(t),i=lL([r[rf.DayPeriodsFormat],r[rf.DayPeriodsStandalone]],e);return lL(i,n)}(e,i,r)[o<12?0:1];case yL.Eras:return function(t,e){return lL(lf(t)[rf.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function CL(t){return function(e,n,r){const i=-1*r,s=iL(n,JM.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case fL.Short:return(i>=0?"+":"")+bL(o,2,s)+bL(Math.abs(i%60),2,s);case fL.ShortGMT:return"GMT"+(i>=0?"+":"")+bL(o,1,s);case fL.Long:return"GMT"+(i>=0?"+":"")+bL(o,2,s)+":"+bL(Math.abs(i%60),2,s);case fL.Extended:return 0===r?"Z":(i>=0?"+":"")+bL(o,2,s)+":"+bL(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}yL[yL.DayPeriods]="DayPeriods",yL[yL.Days]="Days",yL[yL.Months]="Months",yL[yL.Eras]="Eras";const xL=0,SL=4;function TL(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,xL,1).getDay();return new Date(t,0,1+(e<=SL?SL:SL+7)-e)}(n.getFullYear()),e=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(SL-s.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var s;return bL(i,t,iL(r,JM.MinusSign))}}const IL={};function kL(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function AL(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,l,c),e}function DL(t){return t instanceof Date&&!isNaN(t.valueOf())}const NL=/^(\d+)?\.((\d+)(-(\d+))?)?$/,OL=22,PL=".",RL="0",ML=";",LL=",",FL="#",VL="\xa4",BL="%";function jL(t,e,n,r,i,s,o=!1){let a="",l=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,s,o=Math.abs(t)+"",a=0;(n=o.indexOf(PL))>-1&&(o=o.replace(PL,""));(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length);for(r=0;o.charAt(r)===RL;r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===RL;)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}n>OL&&(e=e.splice(0,OL-1),a=n-1,n=1);return{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2);return t}(c));let u=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const t=s.match(NL);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(u=zL(e)),null!=n&&(h=zL(n)),null!=r?d=zL(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const c=e+t.integerLen,u=r.reduceRight(function(t,e,n,r){return e+=t,r[n]=e<10?e:e-10,l&&(0===r[n]&&n>=c?r.pop():l=!1),e>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(c,h,d);let p=c.digits,m=c.integerLen;const f=c.exponent;let g=[];for(l=p.every(t=>!t);m<u;m++)p.unshift(0);for(;m<0;m++)p.unshift(0);m>0?g=p.splice(m,p.length):(g=p,p=[0]);const y=[];for(p.length>=e.lgSize&&y.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)y.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&y.unshift(p.join("")),a=y.join(iL(n,r)),g.length&&(a+=iL(n,i)+g.join("")),f&&(a+=iL(n,JM.Exponential)+"+"+f)}else a=iL(n,JM.Infinity);return a=t<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf}function UL(t,e,n,r,i){const s=qL(sL(e,GM.Currency),iL(e,JM.MinusSign));return s.minFrac=function(t){let e;const n=KM[t];return n&&(e=n[2]),"number"==typeof e?e:hL}(r),s.maxFrac=s.minFrac,jL(t,s,e,JM.CurrencyGroup,JM.CurrencyDecimal,i).replace(VL,n).replace(VL,"")}function qL(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(ML),i=r[0],s=r[1],o=-1!==i.indexOf(PL)?i.split(PL):[i.substring(0,i.lastIndexOf(RL)+1),i.substring(i.lastIndexOf(RL)+1)],a=o[0],l=o[1]||"";n.posPre=a.substr(0,a.indexOf(FL));for(let u=0;u<l.length;u++){const t=l.charAt(u);t===RL?n.minFrac=n.maxFrac=u+1:t===FL?n.maxFrac=u+1:n.posSuf+=t}const c=a.split(LL);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf(FL);n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function zL(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const $L=new jt("UseV4Plurals");class HL{}function WL(t,e,n,r){let i=`=${t}`;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t,r),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${t}"`)}class KL extends HL{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):oL(e||this.locale)(t)){case QM.Zero:return"zero";case QM.One:return"one";case QM.Two:return"two";case QM.Few:return"few";case QM.Many:return"many";default:return"other"}}}KL.decorators=[{type:Ul}],KL.ctorParameters=()=>[{type:String,decorators:[{type:ft,args:[vy]}]},{type:void 0,decorators:[{type:gt},{type:ft,args:[$L]}]}];function GL(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class QL{constructor(t,e){this._name=t,this._options=e,this.value=null,this._lastSetValue=null,this._lastSetValueType=0,this._lastSetValueIdentityChange=!1}setValue(t){if(Array.isArray(t))this._lastSetValueType=4;else if(t instanceof Set)this._lastSetValueType=8;else if(t&&"string"==typeof t){if(!(4&this._options))throw new Error(this._name+" string values are not allowed");this._lastSetValueType=1}else this._lastSetValueType=t?2:0;this._lastSetValueIdentityChange=!0,this._lastSetValue=t||null}hasValueChanged(){let t=this._lastSetValueIdentityChange;if(!(t||14&this._lastSetValueType))return!1;let e=null;const n=!!(1&this._options),r=!!(8&this._options),i=!!(2&this._options);switch(this._lastSetValueType){case 1:const s=this._lastSetValue.split(/\s+/g);16&this._options?(e={},s.forEach((t,n)=>e[t]=!0)):e=s.reduce((t,e,n)=>t+(n?" ":"")+e);break;case 2:const o=this._lastSetValue,a=Object.keys(o);t||(t=!this.value||function(t,e,n){const r=Object.keys(e),i=t;if(!tF(r,i))return!0;for(let s=0;s<i.length;s++){const t=i[s];if(e[t]!==n[t])return!0}return!1}(a,this.value,o)),t&&(e=YL(this._name,n,r,i,o,a));break;case 4:case 8:const l=Array.from(this._lastSetValue);if(!t){t=!tF(Object.keys(this.value),l)}t&&(e=YL(this._name,n,r,i,l));break;default:e=null}return t&&(this.value=e),t}}function YL(t,e,n,r,i,s){const o={};if(s)for(let a=0;a<s.length;a++){let t=s[a];ZL(o,t=e?t.trim():t,i[t],n,r)}else for(let a=0;a<i.length;a++){let n=i[a];XL(t,n),ZL(o,n=e?n.trim():n,!0,!1,r)}return o}function XL(t,e){if("string"!=typeof e)throw new Error(`${t} can only toggle CSS classes expressed as strings, got ${e}`)}function ZL(t,e,n,r,i){if(i&&e.indexOf(" ")>0){const i=e.split(/\s+/g);for(let e=0;e<i.length;e++)JL(t,i[e],n,r)}else JL(t,e,n,r)}function JL(t,e,n,r){if(r){const t=function(t,e){const n=t.indexOf(".");if(n>0){const r=t.substr(n+1);t=t.substring(0,n),null!=e&&(e+=r)}return{key:t,value:e}}(e,n);n=t.value,e=t.key}t[e]=n}function tF(t,e){if(t&&e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(-1===e.indexOf(t[n]))return!1;return!0}return!1}class eF{}class nF{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Lc(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Dt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}nF.decorators=[{type:Ul}],nF.ctorParameters=()=>[{type:Wd},{type:Kd},{type:Id},{type:Od}];class rF{constructor(){this._value=null,this._ngClassDiffer=new QL("NgClass",23),this._classStringDiffer=null}getValue(){return this._value}setClass(t){(t||this._classStringDiffer)&&(this._classStringDiffer=this._classStringDiffer||new QL("class",20),this._classStringDiffer.setValue(t))}setNgClass(t){this._ngClassDiffer.setValue(t)}applyChanges(){const t=!!this._classStringDiffer&&this._classStringDiffer.hasValueChanged(),e=this._ngClassDiffer.hasValueChanged();if(t||e){let t=this._ngClassDiffer.value;if(this._classStringDiffer){let e=this._classStringDiffer.value;e&&(t=t?Object.assign({},e,t):e)}this._value=t}}}rF.decorators=[{type:Ul}];const iF={provide:eF,useClass:nF};Me({type:function(){},selectors:null,factory:()=>{},hostBindings:function(t,e,n){1&t&&(Dc(1),bu()),2&t&&(Iu(e.getValue()),Nu())}});class sF{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}sF.ngDirectiveDef=void 0;class oF extends sF{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}oF.decorators=[{type:Yg,args:[{selector:"[ngClass]",providers:[iF]}]}],oF.ctorParameters=()=>[{type:eF}],oF.propDecorators={klass:[{type:Jg,args:["class"]}],ngClass:[{type:Jg,args:["ngClass"]}]};class aF{constructor(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}ngOnChanges(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const t=e.get(oe);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(t.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(Cd)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,e,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}aF.decorators=[{type:Yg,args:[{selector:"[ngComponentOutlet]"}]}],aF.ctorParameters=()=>[{type:tp}],aF.propDecorators={ngComponentOutlet:[{type:Jg}],ngComponentOutletInjector:[{type:Jg}],ngComponentOutletContent:[{type:Jg}],ngComponentOutletNgModuleFactory:[{type:Jg}]};class lF{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class cF{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){vs()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new lF(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new uF(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new uF(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}cF.decorators=[{type:Yg,args:[{selector:"[ngFor][ngForOf]"}]}],cF.ctorParameters=()=>[{type:tp},{type:Zd},{type:Wd}],cF.propDecorators={ngForOf:[{type:Jg}],ngForTrackBy:[{type:Jg}],ngForTemplate:[{type:Jg}]};class uF{constructor(t,e){this.record=t,this.view=e}}class hF{constructor(t,e){this._viewContainer=t,this._context=new dF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pF("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pF("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}hF.decorators=[{type:Yg,args:[{selector:"[ngIf]"}]}],hF.ctorParameters=()=>[{type:tp},{type:Zd}],hF.propDecorators={ngIf:[{type:Jg}],ngIfThen:[{type:Jg}],ngIfElse:[{type:Jg}]};class dF{constructor(){this.$implicit=null,this.ngIf=null}}function pF(t,e){if(!!(e&&!e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Dt(e)}'.`)}class mF{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class fF{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++){this._defaultViews[e].enforceState(t)}}}}fF.decorators=[{type:Yg,args:[{selector:"[ngSwitch]"}]}],fF.propDecorators={ngSwitch:[{type:Jg}]};class gF{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new mF(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}gF.decorators=[{type:Yg,args:[{selector:"[ngSwitchCase]"}]}],gF.ctorParameters=()=>[{type:tp},{type:Zd},{type:fF,decorators:[{type:_t}]}],gF.propDecorators={ngSwitchCase:[{type:Jg}]};class yF{constructor(t,e,n){n._addDefault(new mF(t,e))}}yF.decorators=[{type:Yg,args:[{selector:"[ngSwitchDefault]"}]}],yF.ctorParameters=()=>[{type:tp},{type:Zd},{type:fF,decorators:[{type:_t}]}];class vF{constructor(t){this._localization=t,this._caseViews={}}set ngPlural(t){this._switchValue=t,this._updateView()}addCase(t,e){this._caseViews[t]=e}_updateView(){this._clearViews();const t=Object.keys(this._caseViews),e=WL(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(t){t&&(this._activeView=t,this._activeView.create())}}vF.decorators=[{type:Yg,args:[{selector:"[ngPlural]"}]}],vF.ctorParameters=()=>[{type:HL}],vF.propDecorators={ngPlural:[{type:Jg}]};class _F{constructor(t,e,n,r){this.value=t;const i=!isNaN(Number(t));r.addCase(i?`=${t}`:t,new mF(n,e))}}_F.decorators=[{type:Yg,args:[{selector:"[ngPluralCase]"}]}],_F.ctorParameters=()=>[{type:String,decorators:[{type:bt,args:["ngPluralCase"]}]},{type:Zd},{type:tp},{type:vF,decorators:[{type:_t}]}];class bF{}class wF{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n}getValue(){return null}setNgStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}applyChanges(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}wF.decorators=[{type:Ul}],wF.ctorParameters=()=>[{type:Id},{type:Kd},{type:Od}];class EF{constructor(){this._differ=new QL("NgStyle",8),this._value=null}getValue(){return this._value}setNgStyle(t){this._differ.setValue(t)}applyChanges(){this._differ.hasValueChanged()&&(this._value=this._differ.value)}}EF.decorators=[{type:Ul}];const CF={provide:bF,useClass:wF};Me({type:function(){},selectors:null,factory:()=>{},hostBindings:function(t,e,n){1&t&&bu(),2&t&&(Tu(e.getValue()),Nu())}});class xF{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}xF.ngDirectiveDef=void 0;class SF extends xF{constructor(t){super(t)}set ngStyle(t){this._delegate.setNgStyle(t)}ngDoCheck(){this._delegate.applyChanges()}}SF.decorators=[{type:Yg,args:[{selector:"[ngStyle]",providers:[CF]}]}],SF.ctorParameters=()=>[{type:bF}],SF.propDecorators={ngStyle:[{type:Jg,args:["ngStyle"]}]};class TF{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}TF.decorators=[{type:Yg,args:[{selector:"[ngTemplateOutlet]"}]}],TF.ctorParameters=()=>[{type:tp}],TF.propDecorators={ngTemplateOutletContext:[{type:Jg}],ngTemplateOutlet:[{type:Jg}]};const IF=[oF,aF,cF,hF,TF,SF,fF,gF,yF,vF,_F];function kF(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Dt(t)}'`)}class AF{static format(t,e,n,r={}){const{minimumIntegerDigits:i,minimumFractionDigits:s,maximumFractionDigits:o,currency:a,currencyAsSymbol:l=!1}=r,c={minimumIntegerDigits:i,minimumFractionDigits:s,maximumFractionDigits:o,style:GM[n].toLowerCase()};return n==GM.Currency&&(c.currency="string"==typeof a?a:void 0,c.currencyDisplay=l?"symbol":"code"),new Intl.NumberFormat(e,c).format(t)}}const DF=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,NF={yMMMdjms:qF(UF([BF("year",1),jF("month",3),BF("day",1),BF("hour",1),BF("minute",1),BF("second",1)])),yMdjm:qF(UF([BF("year",1),BF("month",1),BF("day",1),BF("hour",1),BF("minute",1)])),yMMMMEEEEd:qF(UF([BF("year",1),jF("month",4),jF("weekday",4),BF("day",1)])),yMMMMd:qF(UF([BF("year",1),jF("month",4),BF("day",1)])),yMMMd:qF(UF([BF("year",1),jF("month",3),BF("day",1)])),yMd:qF(UF([BF("year",1),BF("month",1),BF("day",1)])),jms:qF(UF([BF("hour",1),BF("second",1),BF("minute",1)])),jm:qF(UF([BF("hour",1),BF("minute",1)]))},OF={yyyy:qF(BF("year",4)),yy:qF(BF("year",2)),y:qF(BF("year",1)),MMMM:qF(jF("month",4)),MMM:qF(jF("month",3)),MM:qF(BF("month",2)),M:qF(BF("month",1)),LLLL:qF(jF("month",4)),L:qF(jF("month",1)),dd:qF(BF("day",2)),d:qF(BF("day",1)),HH:RF(MF(qF(VF(BF("hour",2),!1)))),H:MF(qF(VF(BF("hour",1),!1))),hh:RF(MF(qF(VF(BF("hour",2),!0)))),h:MF(qF(VF(BF("hour",1),!0))),jj:qF(BF("hour",2)),j:qF(BF("hour",1)),mm:RF(qF(BF("minute",2))),m:qF(BF("minute",1)),ss:RF(qF(BF("second",2))),s:qF(BF("second",1)),sss:qF(BF("second",3)),EEEE:qF(jF("weekday",4)),EEE:qF(jF("weekday",3)),EE:qF(jF("weekday",2)),E:qF(jF("weekday",1)),a:(PF=qF(VF(BF("hour",1),!0)),function(t,e){return PF(t,e).split(" ")[1]}),Z:FF("short"),z:FF("long"),ww:qF({}),w:qF({}),G:qF(jF("era",1)),GG:qF(jF("era",2)),GGG:qF(jF("era",3)),GGGG:qF(jF("era",4))};var PF;function RF(t){return function(e,n){const r=t(e,n);return 1==r.length?"0"+r:r}}function MF(t){return function(e,n){return t(e,n).split(" ")[0]}}function LF(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function FF(t){const e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){const r=LF(t,n,e);return r?r.substring(3):""}}function VF(t,e){return t.hour12=e,t}function BF(t,e){const n={};return n[t]=2===e?"2-digit":"numeric",n}function jF(t,e){const n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function UF(t){return t.reduce((t,e)=>Object.assign({},t,e),{})}function qF(t){return(e,n)=>LF(e,n,t)}const zF=new Map;class $F{static format(t,e,n){return function(t,e,n){const r=NF[t];if(r)return r(e,n);const i=t;let s=zF.get(i);if(!s){let e;s=[],DF.exec(t);let n=t;for(;n;)(e=DF.exec(n))?n=(s=s.concat(e.slice(1))).pop():(s.push(n),n=null);zF.set(i,s)}return s.reduce((t,r)=>{const i=OF[r];return t+(i?i(e,n):function(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,t,e)}}class HF{constructor(t){this._locale=t}transform(t,e="mediumDate"){if(null==t||""===t||t!=t)return null;let n;if("string"==typeof t&&(t=t.trim()),WF(t))n=t;else if(isNaN(t-parseFloat(t)))if("string"==typeof t&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,r,i]=t.split("-").map(t=>parseInt(t,10));n=new Date(e,r-1,i)}else n=new Date(t);else n=new Date(parseFloat(t));if(!WF(n)){let e;if("string"!=typeof t||!(e=t.match(dL)))throw kF(HF,t);n=AL(e)}return $F.format(n,this._locale,HF._ALIASES[e]||e)}}function WF(t){return t instanceof Date&&!isNaN(t.valueOf())}function KF(t,e,n,r,i,s=null,o=!1){if(null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw kF(t,n);let a,l,c;if(r!==GM.Currency&&(a=1,l=0,c=3),i){const t=i.match(NL);if(null===t)throw new Error(`${i} is not a valid digit info for number pipes`);null!=t[1]&&(a=zL(t[1])),null!=t[3]&&(l=zL(t[3])),null!=t[5]&&(c=zL(t[5]))}return AF.format(n,e,r,{minimumIntegerDigits:a,minimumFractionDigits:l,maximumFractionDigits:c,currency:s,currencyAsSymbol:o})}HF._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},HF.decorators=[{type:Zg,args:[{name:"date",pure:!0}]}],HF.ctorParameters=()=>[{type:String,decorators:[{type:ft,args:[vy]}]}];class GF{constructor(t){this._locale=t}transform(t,e){return KF(GF,this._locale,t,GM.Decimal,e)}}GF.decorators=[{type:Zg,args:[{name:"number"}]}],GF.ctorParameters=()=>[{type:String,decorators:[{type:ft,args:[vy]}]}];class QF{constructor(t){this._locale=t}transform(t,e){return KF(QF,this._locale,t,GM.Percent,e)}}QF.decorators=[{type:Zg,args:[{name:"percent"}]}],QF.ctorParameters=()=>[{type:String,decorators:[{type:ft,args:[vy]}]}];class YF{constructor(t){this._locale=t}transform(t,e="USD",n=!1,r){return KF(YF,this._locale,t,GM.Currency,r,e,n)}}YF.decorators=[{type:Zg,args:[{name:"currency"}]}],YF.ctorParameters=()=>[{type:String,decorators:[{type:ft,args:[vy]}]}];const XF=[GF,QF,YF,HF];const ZF=new class{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}},JF=new class{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}};class tV{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Pc(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Mc.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(Yu(t))return ZF;if(Xu(t))return JF;throw kF(tV,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}tV.decorators=[{type:Ul},{type:Zg,args:[{name:"async",pure:!1}]}],tV.ctorParameters=()=>[{type:Tl}];class eV{transform(t){if(!t)return t;if("string"!=typeof t)throw kF(eV,t);return t.toLowerCase()}}eV.decorators=[{type:Ul},{type:Zg,args:[{name:"lowercase"}]}];const nV=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;class rV{transform(t){if(!t)return t;if("string"!=typeof t)throw kF(rV,t);return t.replace(nV,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}rV.decorators=[{type:Ul},{type:Zg,args:[{name:"titlecase"}]}];class iV{transform(t){if(!t)return t;if("string"!=typeof t)throw kF(iV,t);return t.toUpperCase()}}iV.decorators=[{type:Ul},{type:Zg,args:[{name:"uppercase"}]}];class sV{constructor(t){this.locale=t}transform(t,e="mediumDate",n,r){if(null==t||""===t||t!=t)return null;try{return vL(t,e,r||this.locale,n)}catch(i){throw kF(sV,i.message)}}}sV.decorators=[{type:Ul},{type:Zg,args:[{name:"date",pure:!0}]}],sV.ctorParameters=()=>[{type:String,decorators:[{type:ft,args:[vy]}]}];const oV=/#/g;class aV{constructor(t){this._localization=t}transform(t,e,n){if(null==t)return"";if("object"!=typeof e||null===e)throw kF(aV,e);return e[WL(t,Object.keys(e),this._localization,n)].replace(oV,t.toString())}}aV.decorators=[{type:Ul},{type:Zg,args:[{name:"i18nPlural",pure:!0}]}],aV.ctorParameters=()=>[{type:HL}];class lV{transform(t,e){if(null==t)return"";if("object"!=typeof e||"string"!=typeof t)throw kF(lV,e);return e.hasOwnProperty(t)?e[t]:e.hasOwnProperty("other")?e.other:""}}lV.decorators=[{type:Ul},{type:Zg,args:[{name:"i18nSelect",pure:!0}]}];class cV{transform(t){return JSON.stringify(t,null,2)}}cV.decorators=[{type:Ul},{type:Zg,args:[{name:"json",pure:!1}]}];class uV{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=function(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push(function(t,e){return{key:t,value:e}}(t.key,t.currentValue))}),this.keyValues.sort(e)),this.keyValues}}uV.decorators=[{type:Ul},{type:Zg,args:[{name:"keyvalue",pure:!1}]}],uV.ctorParameters=()=>[{type:Kd}];class hV{constructor(t){this._locale=t}transform(t,e,n){if(mV(t))return null;n=n||this._locale;try{return function(t,e,n){return jL(t,qL(sL(e,GM.Decimal),iL(e,JM.MinusSign)),e,JM.Group,JM.Decimal,n)}(fV(t),n,e)}catch(r){throw kF(hV,r.message)}}}hV.decorators=[{type:Ul},{type:Zg,args:[{name:"number"}]}],hV.ctorParameters=()=>[{type:String,decorators:[{type:ft,args:[vy]}]}];class dV{constructor(t){this._locale=t}transform(t,e,n){if(mV(t))return null;n=n||this._locale;try{return function(t,e,n){return jL(t,qL(sL(e,GM.Percent),iL(e,JM.MinusSign)),e,JM.Group,JM.Decimal,n,!0).replace(new RegExp(BL,"g"),iL(e,JM.PercentSign))}(fV(t),n,e)}catch(r){throw kF(dV,r.message)}}}dV.decorators=[{type:Ul},{type:Zg,args:[{name:"percent"}]}],dV.ctorParameters=()=>[{type:String,decorators:[{type:ft,args:[vy]}]}];class pV{constructor(t){this._locale=t}transform(t,e,n="symbol",r,i){if(mV(t))return null;i=i||this._locale,"boolean"==typeof n&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),n=n?"symbol":"code");let s=e||"USD";"code"!==n&&(s="symbol"===n||"symbol-narrow"===n?uL(s,"symbol"===n?"wide":"narrow",i):n);try{return UL(fV(t),i,s,e,r)}catch(o){throw kF(pV,o.message)}}}function mV(t){return null==t||""===t||t!=t}function fV(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}pV.decorators=[{type:Ul},{type:Zg,args:[{name:"currency"}]}],pV.ctorParameters=()=>[{type:String,decorators:[{type:ft,args:[vy]}]}];class gV{transform(t,e,n){if(null==t)return t;if(!this.supports(t))throw kF(gV,t);return t.slice(e,n)}supports(t){return"string"==typeof t||Array.isArray(t)}}gV.decorators=[{type:Ul},{type:Zg,args:[{name:"slice",pure:!1}]}];const yV=[tV,iV,eV,cV,gV,hV,dV,rV,pV,sV,aV,lV,uV];class vV{}vV.decorators=[{type:oy,args:[{declarations:[IF,yV],exports:[IF,yV],providers:[{provide:HL,useClass:KL}]}]}];const _V=function(t,e){"string"==typeof e&&(e=parseInt(e,10));const n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),s=r.length,o=parseInt(r,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?QM.One:QM.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?QM.One:QM.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?QM.One:QM.Other;case"ar":return 0===n?QM.Zero:1===n?QM.One:2===n?QM.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?QM.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?QM.Many:QM.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===s?QM.One:QM.Other;case"be":return n%10==1&&n%100!=11?QM.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?QM.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?QM.Many:QM.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?QM.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?QM.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?QM.Few:0!==n&&n%1e6==0?QM.Many:QM.Other;case"bs":case"hr":case"sr":return 0===s&&i%10==1&&i%100!=11||o%10==1&&o%100!=11?QM.One:0===s&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?QM.Few:QM.Other;case"cs":case"sk":return 1===i&&0===s?QM.One:i===Math.floor(i)&&i>=2&&i<=4&&0===s?QM.Few:0!==s?QM.Many:QM.Other;case"cy":return 0===n?QM.Zero:1===n?QM.One:2===n?QM.Two:3===n?QM.Few:6===n?QM.Many:QM.Other;case"da":return 1===n||0!==a&&(0===i||1===i)?QM.One:QM.Other;case"dsb":case"hsb":return 0===s&&i%100==1||o%100==1?QM.One:0===s&&i%100==2||o%100==2?QM.Two:0===s&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4?QM.Few:QM.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?QM.One:QM.Other;case"fil":return 0===s&&(1===i||2===i||3===i)||0===s&&i%10!=4&&i%10!=6&&i%10!=9||0!==s&&o%10!=4&&o%10!=6&&o%10!=9?QM.One:QM.Other;case"ga":return 1===n?QM.One:2===n?QM.Two:n===Math.floor(n)&&n>=3&&n<=6?QM.Few:n===Math.floor(n)&&n>=7&&n<=10?QM.Many:QM.Other;case"gd":return 1===n||11===n?QM.One:2===n||12===n?QM.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?QM.Few:QM.Other;case"gv":return 0===s&&i%10==1?QM.One:0===s&&i%10==2?QM.Two:0!==s||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==s?QM.Many:QM.Other:QM.Few;case"he":return 1===i&&0===s?QM.One:2===i&&0===s?QM.Two:0!==s||n>=0&&n<=10||n%10!=0?QM.Other:QM.Many;case"is":return 0===a&&i%10==1&&i%100!=11||0!==a?QM.One:QM.Other;case"ksh":return 0===n?QM.Zero:1===n?QM.One:QM.Other;case"kw":case"naq":case"se":case"smn":return 1===n?QM.One:2===n?QM.Two:QM.Other;case"lag":return 0===n?QM.Zero:0!==i&&1!==i||0===n?QM.Other:QM.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?QM.Few:0!==o?QM.Many:QM.Other:QM.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===s&&o%100===Math.floor(o%100)&&o%100>=11&&o%100<=19?QM.Zero:n%10==1&&n%100!=11||2===s&&o%10==1&&o%100!=11||2!==s&&o%10==1?QM.One:QM.Other;case"mk":return 0===s&&i%10==1||o%10==1?QM.One:QM.Other;case"mt":return 1===n?QM.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?QM.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?QM.Many:QM.Other;case"pl":return 1===i&&0===s?QM.One:0===s&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?QM.Few:0===s&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===s&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===s&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?QM.Many:QM.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?QM.One:QM.Other;case"ro":return 1===i&&0===s?QM.One:0!==s||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?QM.Few:QM.Other;case"ru":case"uk":return 0===s&&i%10==1&&i%100!=11?QM.One:0===s&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?QM.Few:0===s&&i%10==0||0===s&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===s&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?QM.Many:QM.Other;case"shi":return 0===i||1===n?QM.One:n===Math.floor(n)&&n>=2&&n<=10?QM.Few:QM.Other;case"si":return 0===n||1===n||0===i&&1===o?QM.One:QM.Other;case"sl":return 0===s&&i%100==1?QM.One:0===s&&i%100==2?QM.Two:0===s&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==s?QM.Few:QM.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?QM.One:QM.Other;default:return QM.Other}};(class{}).decorators=[{type:oy,args:[{declarations:[XF],exports:[XF],providers:[{provide:$L,useValue:_V}]}]}];const bV=new jt("DocumentToken"),wV="browser",EV="server";function CV(t){return t===EV}new Rd("8.2.5");class xV{}xV.ngInjectableDef=xt({token:xV,providedIn:"root",factory:()=>new SV(Jt(bV),window,Jt(ps))});class SV{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const n=this.document.querySelector(`#${t}`);if(n)return void this.scrollToElement(n);const r=this.document.querySelector(`[name='${t}']`);if(r)return void this.scrollToElement(r)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}let TV=null;function IV(){return TV}class kV{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class AV extends kV{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(t=>{null!=this.getStyle(e,t)&&(this._transitionEnd=n[t])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const DV={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},NV=3,OV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PV={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},RV=(()=>{if(Vt.Node)return Vt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class MV extends AV{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new MV,TV||(TV=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return DV}contains(t,e){return RV.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===NV&&PV.hasOwnProperty(e)&&(e=PV[e]))}return OV[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=function(){if(!FV&&!(FV=document.querySelector("base")))return null;return FV.getAttribute("href")}();return null==e?null:function(t){LV||(LV=document.createElement("a"));return LV.setAttribute("href",t),"/"===LV.pathname.charAt(0)?LV.pathname:"/"+LV.pathname}(e)}resetBaseElement(){FV=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return GL(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let LV,FV=null;function VV(){return!!window.history.pushState}class BV extends BM{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=IV().getLocation(),this._history=IV().getHistory()}getBaseHrefFromDOM(){return IV().getBaseHref(this._doc)}onPopState(t){IV().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){IV().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){VV()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){VV()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}BV.decorators=[{type:Ul}],BV.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[bV]}]}];const jV=new jt("TRANSITION_ID");const UV=[{provide:ly,useFactory:function(t,e,n){return()=>{n.get(cy).donePromise.then(()=>{const n=IV();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[jV,bV,Ql],multi:!0}];class qV{static init(){var t;t=new qV,Gy=t}addToWindow(t){Vt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Vt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Vt.getAllAngularRootElements=()=>t.getAllRootElements();Vt.frameworkStabilizers||(Vt.frameworkStabilizers=[]),Vt.frameworkStabilizers.push(t=>{const e=Vt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?IV().isShadowRoot(e)?this.findTestabilityInTree(t,IV().getHost(e),!0):this.findTestabilityInTree(t,IV().parentElement(e),!0):null}}function zV(t,e){if("undefined"==typeof COMPILED||!COMPILED){(Vt.ng=Vt.ng||{})[t]=e}}const $V=(()=>({ApplicationRef:rv,NgZone:Vy}))(),HV="probe",WV="coreTokens";function KV(t){return gv(t)}const GV=[{provide:ly,useFactory:function(t){return zV(HV,KV),zV(WV,Object.assign({},$V,(t||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>KV},deps:[[Zy,new gt]],multi:!0}],QV=new jt("EventManagerPlugins");class YV{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}YV.decorators=[{type:Ul}],YV.ctorParameters=()=>[{type:Array,decorators:[{type:ft,args:[QV]}]},{type:Vy}];class XV{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=IV().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class ZV{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}ZV.decorators=[{type:Ul}];class JV extends ZV{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>IV().remove(t))}}JV.decorators=[{type:Ul}],JV.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[bV]}]}];const tB={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},eB=/%COMP%/g,nB="_nghost-%COMP%",rB="_ngcontent-%COMP%";function iB(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?iB(t,i,n):(i=i.replace(eB,t),n.push(i))}return n}function sB(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class oB{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new aB(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ye.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new uB(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ye.Native:case ye.ShadowDom:return new hB(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=iB(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}oB.decorators=[{type:Ul}],oB.ctorParameters=()=>[{type:YV},{type:JV},{type:String,decorators:[{type:ft,args:[uy]}]}];class aB{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(tB[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=tB[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=tB[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&Nd.DashCase?t.style.setProperty(e,n,r&Nd.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Nd.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){cB(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return cB(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,sB(n)):this.eventManager.addEventListener(t,e,sB(n))}}const lB=(()=>"@".charCodeAt(0))();function cB(t,e){if(t.charCodeAt(0)===lB)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class uB extends aB{constructor(t,e,n,r){super(t),this.component=n;const i=iB(r+"-"+n.id,n.styles,[]);var s;e.addStyles(i),this.contentAttr=(s=r+"-"+n.id,rB.replace(eB,s)),this.hostAttr=function(t){return nB.replace(eB,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class hB extends aB{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,r.encapsulation===ye.ShadowDom?this.shadowRoot=n.attachShadow({mode:"open"}):this.shadowRoot=n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=iB(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const dB=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),pB=dB("addEventListener"),mB=dB("removeEventListener"),fB={},gB="FALSE",yB="ANGULAR",vB="addEventListener",_B="removeEventListener",bB="__zone_symbol__propagationStopped",wB="__zone_symbol__stopImmediatePropagation",EB=(()=>{const t="undefined"!=typeof Zone&&Zone[dB("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),CB=function(t){return!!EB&&EB.hasOwnProperty(t)};const xB=function(t){const e=fB[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[bB];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};class SB extends XV{constructor(t,e,n){super(t),this.ngZone=e,n&&CV(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[wB])return;const t=Event.prototype[wB]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[bB]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){const r=t[pB];let i=n;if(!r||Vy.isInAngularZone()&&!CB(e))t[vB](e,i,!1);else{let n=fB[e];n||(n=fB[e]=dB(yB+e+gB));let r=t[n];const s=r&&r.length>0;r||(r=t[n]=[]);const o=CB(e)?Zone.root:Zone.current;if(0===r.length)r.push({zone:o,handler:i});else{let t=!1;for(let e=0;e<r.length;e++)if(r[e].handler===i){t=!0;break}t||r.push({zone:o,handler:i})}s||t[pB](e,xB,!1)}return()=>this.removeEventListener(t,e,i)}removeEventListener(t,e,n){let r=t[mB];if(!r)return t[_B].apply(t,[e,n,!1]);let i=fB[e],s=i&&t[i];if(!s)return t[_B].apply(t,[e,n,!1]);let o=!1;for(let a=0;a<s.length;a++)if(s[a].handler===n){o=!0,s.splice(a,1);break}o?0===s.length&&r.apply(t,[e,xB,!1]):t[_B].apply(t,[e,n,!1])}}SB.decorators=[{type:Ul}],SB.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[bV]}]},{type:Vy},{type:void 0,decorators:[{type:gt},{type:ft,args:[my]}]}];const TB={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},IB=new jt("HammerGestureConfig"),kB=new jt("HammerLoader");class AB{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}AB.decorators=[{type:Ul}];class DB extends XV{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!TB.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))&&(!(!window.Hammer&&!this.loader)||(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),!1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),s=function(t){r.runGuarded(function(){n(t)})};return i.on(e,s),()=>{i.off(e,s),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}DB.decorators=[{type:Ul}],DB.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[bV]}]},{type:AB,decorators:[{type:ft,args:[IB]}]},{type:yy},{type:void 0,decorators:[{type:gt},{type:ft,args:[kB]}]}];const NB=["alt","control","meta","shift"],OB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class PB extends XV{constructor(t){super(t)}supports(t){return null!=PB.parseEventName(t)}addEventListener(t,e,n){const r=PB.parseEventName(e),i=PB.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>IV().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=PB._normalizeKey(e.pop());let i="";if(NB.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const s={};return s.domEventName=n,s.fullKey=i,s}static getEventFullKey(t){let e="",n=IV().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),NB.forEach(r=>{if(r!=n){(0,OB[r])(t)&&(e+=r+".")}}),e+=n}static eventCallback(t,e,n){return r=>{PB.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}PB.decorators=[{type:Ul}],PB.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[bV]}]}];class RB{}class MB extends RB{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Ws.NONE:return e;case Ws.HTML:return e instanceof FB?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),$s(this._doc,String(e)));case Ws.STYLE:return e instanceof VB?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Ys(e));case Ws.SCRIPT:if(e instanceof BB)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Ws.URL:return e instanceof UB||e instanceof jB?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Es(String(e)));case Ws.RESOURCE_URL:if(e instanceof UB)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof LB)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new FB(t)}bypassSecurityTrustStyle(t){return new VB(t)}bypassSecurityTrustScript(t){return new BB(t)}bypassSecurityTrustUrl(t){return new jB(t)}bypassSecurityTrustResourceUrl(t){return new UB(t)}}MB.decorators=[{type:Ul}],MB.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[bV]}]}];class LB{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class FB extends LB{getTypeName(){return"HTML"}}class VB extends LB{getTypeName(){return"Style"}}class BB extends LB{getTypeName(){return"Script"}}class jB extends LB{getTypeName(){return"URL"}}class UB extends LB{getTypeName(){return"ResourceURL"}}const qB=[{provide:my,useValue:wV},{provide:py,useValue:function(){MV.makeCurrent(),qV.init()},multi:!0},{provide:BM,useClass:BV,deps:[bV]},{provide:bV,useFactory:function(){return document},deps:[]}],zB=[{provide:Ks,useExisting:RB},{provide:RB,useClass:MB,deps:[bV]}];Jy(vv,"browser",qB);const $B=[zB,{provide:zl,useValue:!0},{provide:ps,useFactory:function(){return new ps},deps:[]},{provide:QV,useClass:SB,multi:!0,deps:[bV,Vy,my]},{provide:QV,useClass:PB,multi:!0,deps:[bV]},{provide:QV,useClass:DB,multi:!0,deps:[bV,IB,yy,[new gt,kB]]},{provide:IB,useClass:AB,deps:[]},{provide:oB,useClass:oB,deps:[YV,JV,uy]},{provide:Dd,useExisting:oB},{provide:ZV,useExisting:JV},{provide:JV,useClass:JV,deps:[bV]},{provide:Hy,useClass:Hy,deps:[Vy]},{provide:YV,useClass:YV,deps:[QV,Vy]},GV];class HB{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:HB,providers:[{provide:uy,useValue:t.appId},{provide:jV,useExisting:uy},UV]}}}function WB(){return new KB(Jt(bV))}HB.decorators=[{type:oy,args:[{providers:$B,exports:[vV,bv]}]}],HB.ctorParameters=()=>[{type:void 0,decorators:[{type:gt},{type:vt},{type:ft,args:[HB]}]}];class KB{constructor(t){this._doc=t,this._dom=IV()}addTag(t,e=!1){return t?this._getOrCreateElement(t,e):null}addTags(t,e=!1){return t?t.reduce((t,n)=>(n&&t.push(this._getOrCreateElement(n,e)),t),[]):[]}getTag(t){return t&&this._dom.querySelector(this._doc,`meta[${t}]`)||null}getTags(t){if(!t)return[];const e=this._dom.querySelectorAll(this._doc,`meta[${t}]`);return e?[].slice.call(e):[]}updateTag(t,e){if(!t)return null;e=e||this._parseSelector(t);const n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,e=!1){if(!e){const e=this._parseSelector(t),n=this.getTag(e);if(n&&this._containsAttributes(t,n))return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(t,n);const r=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(r,n),n}_setMetaElementAttributes(t,e){return Object.keys(t).forEach(n=>this._dom.setAttribute(e,n,t[n])),e}_parseSelector(t){const e=t.name?"name":"property";return`${e}="${t[e]}"`}_containsAttributes(t,e){return Object.keys(t).every(n=>this._dom.getAttribute(e,n)===t[n])}}function GB(){return new QB(Jt(bV))}KB.decorators=[{type:Ul,args:[{providedIn:"root",useFactory:WB,deps:[]}]}],KB.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[bV]}]}],KB.ngInjectableDef=xt({factory:WB,token:KB,providedIn:"root"});class QB{constructor(t){this._doc=t}getTitle(){return IV().getTitle(this._doc)}setTitle(t){IV().setTitle(this._doc,t)}}QB.decorators=[{type:Ul,args:[{providedIn:"root",useFactory:GB,deps:[]}]}],QB.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[bV]}]}],QB.ngInjectableDef=xt({factory:GB,token:QB,providedIn:"root"});"undefined"!=typeof window&&window;class YB{constructor(){this.store={},this.onSerializeCallbacks={}}static init(t){const e=new YB;return e.store=t,e}get(t,e){return void 0!==this.store[t]?this.store[t]:e}set(t,e){this.store[t]=e}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}onSerialize(t,e){this.onSerializeCallbacks[t]=e}toJson(){for(const e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(t){console.warn("Exception in onSerialize callback: ",t)}return JSON.stringify(this.store)}}YB.decorators=[{type:Ul}];(class{}).decorators=[{type:oy,args:[{providers:[{provide:YB,useFactory:function(t,e){const n=t.getElementById(e+"-state");let r={};if(n&&n.textContent)try{r=JSON.parse(function(t){const e={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return t.replace(/&[^;]+;/g,t=>e[t])}(n.textContent))}catch(i){console.warn("Exception while restoring TransferState for app "+e,i)}return YB.init(r)},deps:[bV,uy]}]}]}];new Rd("8.2.5");const XB="",ZB=function(){const t=new Map;return t.set(BE.ANALYZE_FOR_ENTRY_COMPONENTS,Sc),t.set(BE.ElementRef,Id),t.set(BE.NgModuleRef,oe),t.set(BE.ViewContainerRef,tp),t.set(BE.ChangeDetectorRef,Tl),t.set(BE.Renderer2,Od),t.set(BE.QueryList,Tg),t.set(BE.TemplateRef,Zd),t.set(BE.CodegenComponentFactoryResolver,xd),t.set(BE.ComponentFactoryResolver,Cd),t.set(BE.ComponentFactory,bd),t.set(BE.ComponentRef,_d),t.set(BE.NgModuleFactory,ae),t.set(BE.createModuleFactory,K_),t.set(BE.moduleDef,nm),t.set(BE.moduleProviderDef,em),t.set(BE.RegisterModuleFactoryFn,ig),t.set(BE.Injector,Ql),t.set(BE.ViewEncapsulation,ye),t.set(BE.ChangeDetectionStrategy,fe),t.set(BE.SecurityContext,Ws),t.set(BE.LOCALE_ID,vy),t.set(BE.TRANSLATIONS_FORMAT,by),t.set(BE.inlineInterpolate,Kp),t.set(BE.interpolate,Wp),t.set(BE.EMPTY_ARRAY,Qp),t.set(BE.EMPTY_MAP,Yp),t.set(BE.Renderer,Ad),t.set(BE.viewDef,Uv),t.set(BE.elementDef,Ev),t.set(BE.anchorDef,wv),t.set(BE.textDef,Vv),t.set(BE.directiveDef,Rm),t.set(BE.providerDef,Lm),t.set(BE.queryDef,Iv),t.set(BE.pureArrayDef,Mv),t.set(BE.pureObjectDef,Lv),t.set(BE.purePipeDef,Rv),t.set(BE.pipeDef,Mm),t.set(BE.nodeValue,wm),t.set(BE.ngContentDef,Ov),t.set(BE.unwrapValue,gp),t.set(BE.createRendererType2,_p),t.set(BE.createComponentFactory,um),t}();const JB=new jt("ErrorCollector"),tj={provide:gy,useValue:"/"},ej={get(t){throw new Error(`No ResourceLoader implementation has been provided. Can't read the url "${t}"`)}},nj=new jt("HtmlParser");const rj=[{provide:PM,useValue:new class{constructor(){this.reflectionCapabilities=new Ml}componentModuleUrl(t,e){const n=e.moduleId;if("string"==typeof n){return function(t){const e=FM(t);return e&&e[LM.Scheme]||""}(n)?n:`package:${n}${XB}`}if(null!=n)throw _E(`moduleId should be a string in "${Dt(t)}". See https://goo.gl/wIDDiL for more information.\n`+"If you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return`./${Dt(t)}`}parameters(t){return this.reflectionCapabilities.parameters(t)}tryAnnotations(t){return this.annotations(t)}annotations(t){return this.reflectionCapabilities.annotations(t)}shallowAnnotations(t){throw new Error("Not supported in JIT mode")}propMetadata(t){return this.reflectionCapabilities.propMetadata(t)}hasLifecycleHook(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)}guards(t){return this.reflectionCapabilities.guards(t)}resolveExternalReference(t){return ZB.get(t)||t.runtime}}},{provide:ZO,useValue:ej},{provide:wM,deps:[]},{provide:bM,useExisting:wM},{provide:yy,deps:[]},{provide:cN,deps:[]},{provide:EN,deps:[cN]},{provide:nj,useClass:yA,deps:[]},{provide:CR,useFactory:(t,e,n,r,i)=>{const s=(e=e||"")?r.missingTranslation:wy.Ignore;return new CR(t,e,n,s,i)},deps:[nj,[new gt,new ft(_y)],[new gt,new ft(by)],[yP],[yy]]},{provide:yA,useExisting:CR},{provide:$D,deps:[yP,PM,EN,kN,CR,yy]},{provide:iI,useClass:iI,deps:[]},{provide:_P,deps:[ZO,RM,yA,yP]},{provide:MR,deps:[yP,yA,QR,EP,XR,bM,kN,_P,yy,[gt,zE],PM,[gt,JB]]},tj,{provide:jk,deps:[RM]},{provide:rM,deps:[PM]},{provide:GR,deps:[PM]},{provide:yP,useValue:new yP},{provide:ky,useClass:class{constructor(t,e,n,r,i,s,o,a,l,c,u){this._metadataResolver=e,this._delegate=new AM(e,n,r,i,s,o,a,l,c,u,this.getExtraNgModuleProviders.bind(this)),this.injector=t}getExtraNgModuleProviders(){return[this._metadataResolver.getProviderMetadata(new lC(ky,{useValue:this}))]}compileModuleSync(t){return this._delegate.compileModuleSync(t)}compileModuleAsync(t){return this._delegate.compileModuleAsync(t)}compileModuleAndAllComponentsSync(t){const e=this._delegate.compileModuleAndAllComponentsSync(t);return{ngModuleFactory:e.ngModuleFactory,componentFactories:e.componentFactories}}compileModuleAndAllComponentsAsync(t){return this._delegate.compileModuleAndAllComponentsAsync(t).then(t=>({ngModuleFactory:t.ngModuleFactory,componentFactories:t.componentFactories}))}loadAotSummaries(t){this._delegate.loadAotSummaries(t)}hasAotSummary(t){return this._delegate.hasAotSummary(t)}getComponentFactory(t){return this._delegate.getComponentFactory(t)}clearCache(){this._delegate.clearCache()}clearCacheFor(t){this._delegate.clearCacheFor(t)}getModuleId(t){const e=this._metadataResolver.getNgModuleMetadata(t);return e&&e.id||void 0}},deps:[Ql,MR,$D,jk,rM,GR,bM,PM,iI,yP,yy]},{provide:MN,deps:[]},{provide:kN,useExisting:MN},{provide:RM,deps:[gy]},{provide:EP,deps:[PM]},{provide:XR,deps:[PM]},{provide:QR,deps:[PM]}];function ij(t){for(let e=t.length-1;e>=0;e--)if(void 0!==t[e])return t[e]}function sj(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}const oj=Jy(vv,"coreDynamic",[{provide:Ay,useValue:{},multi:!0},{provide:Dy,useClass:class{constructor(t){const e={useJit:!0,defaultEncapsulation:ye.Emulated,missingTranslation:wy.Warning};this._defaultOptions=[e,...t]}createCompiler(t=[]){const e={useJit:ij((n=this._defaultOptions.concat(t)).map(t=>t.useJit)),defaultEncapsulation:ij(n.map(t=>t.defaultEncapsulation)),providers:sj(n.map(t=>t.providers)),missingTranslation:ij(n.map(t=>t.missingTranslation)),preserveWhitespaces:ij(n.map(t=>t.preserveWhitespaces))};var n;return Ql.create([rj,{provide:yP,useFactory:()=>new yP({useJit:e.useJit,jitDevMode:vs(),defaultEncapsulation:e.defaultEncapsulation,missingTranslation:e.missingTranslation,preserveWhitespaces:e.preserveWhitespaces}),deps:[]},e.providers]).get(ky)}},deps:[Ay]}]);class aj extends ZO{get(t){let e,n;const r=new Promise((t,r)=>{e=t,n=r}),i=new XMLHttpRequest;return i.open("GET",t,!0),i.responseType="text",i.onload=function(){const r=i.response||i.responseText;let s=1223===i.status?204:i.status;0===s&&(s=r?200:0),200<=s&&s<=300?e(r):n(`Failed to load ${t}`)},i.onerror=function(){n(`Failed to load ${t}`)},i.send(),r}}aj.decorators=[{type:Ul}];const lj=[qB,{provide:Ay,useValue:{providers:[{provide:ZO,useClass:aj,deps:[]}]},multi:!0},{provide:my,useValue:wV}];new Rd("8.2.5");const cj=Jy(oj,"browserDynamic",lj),uj=new E(t=>t.complete());function hj(t){return t?function(t){return new E(e=>t.schedule(()=>e.complete()))}(t):uj}function dj(t){const e=new E(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function pj(...t){let e=t[t.length-1];switch(D(e)?t.pop():e=void 0,t.length){case 0:return hj(e);case 1:return e?H(t,e):dj(t[0]);default:return H(t,e)}}function mj(t,e){return K(t,e,1)}function fj(t,e){return function(n){return n.lift(new gj(t,e))}}class gj{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new yj(t,this.predicate,this.thisArg))}}class yj extends g{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class vj{}class _j{}class bj{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof bj?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new bj;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof bj?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===i.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class wj{encodeKey(t){return Ej(t)}encodeValue(t){return Ej(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Ej(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Cj{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new wj,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;if(t.length>0){t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)})}return n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new Cj({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function xj(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Sj(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Tj(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Ij{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new bj),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?"),r=-1===n?"?":n<e.length-1?"&":"";this.urlWithParams=e+r+t}}else this.params=new Cj,this.urlWithParams=e}serializeBody(){return null===this.body?null:xj(this.body)||Sj(this.body)||Tj(this.body)||"string"==typeof this.body?this.body:this.body instanceof Cj?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:Tj(this.body)?null:Sj(this.body)?this.body.type||null:xj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Cj?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new Ij(e,n,i,{params:l,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const kj={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};kj[kj.Sent]="Sent",kj[kj.UploadProgress]="UploadProgress",kj[kj.ResponseHeader]="ResponseHeader",kj[kj.DownloadProgress]="DownloadProgress",kj[kj.Response]="Response",kj[kj.User]="User";class Aj{constructor(t,e=200,n="OK"){this.headers=t.headers||new bj,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Dj extends Aj{constructor(t={}){super(t),this.type=kj.ResponseHeader}clone(t={}){return new Dj({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Nj extends Aj{constructor(t={}){super(t),this.type=kj.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Nj({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Oj extends Aj{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Pj(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class Rj{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Ij)r=t;else{let i=void 0;i=n.headers instanceof bj?n.headers:new bj(n.headers);let s=void 0;n.params&&(s=n.params instanceof Cj?n.params:new Cj({fromObject:n.params})),r=new Ij(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=pj(r).pipe(mj(t=>this.handler.handle(t)));if(t instanceof Ij||"events"===n.observe)return i;const s=i.pipe(fj(t=>t instanceof Nj));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(q(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(q(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(q(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(q(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Cj).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Pj(n,e))}post(t,e,n={}){return this.request("POST",t,Pj(n,e))}put(t,e,n={}){return this.request("PUT",t,Pj(n,e))}}Rj.decorators=[{type:Ul}],Rj.ctorParameters=()=>[{type:vj}];class Mj{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Lj=new jt("HTTP_INTERCEPTORS");class Fj{intercept(t,e){return e.handle(t)}}Fj.decorators=[{type:Ul}];let Vj=0;const Bj="JSONP injected script did not invoke callback.",jj="JSONP requests must use JSONP request method.",Uj="JSONP requests must use Json response type.";class qj{}class zj{constructor(t,e){this.callbackMap=t,this.document=e}nextCallback(){return`ng_jsonp_callback_${Vj++}`}handle(t){if("JSONP"!==t.method)throw new Error(jj);if("json"!==t.responseType)throw new Error(Uj);return new E(e=>{const n=this.nextCallback(),r=t.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),i=this.document.createElement("script");i.src=r;let s=null,o=!1,a=!1;this.callbackMap[n]=t=>{delete this.callbackMap[n],a||(s=t,o=!0)};const l=()=>{i.parentNode&&i.parentNode.removeChild(i),delete this.callbackMap[n]},c=t=>{a||(l(),o?(e.next(new Nj({body:s,status:200,statusText:"OK",url:r})),e.complete()):e.error(new Oj({url:r,status:0,statusText:"JSONP Error",error:new Error(Bj)})))},u=t=>{a||(l(),e.error(new Oj({error:t,status:0,statusText:"JSONP Error",url:r})))};return i.addEventListener("load",c),i.addEventListener("error",u),this.document.body.appendChild(i),e.next({type:kj.Sent}),()=>{a=!0,i.removeEventListener("load",c),i.removeEventListener("error",u),l()}})}}zj.decorators=[{type:Ul}],zj.ctorParameters=()=>[{type:qj},{type:void 0,decorators:[{type:ft,args:[bV]}]}];class $j{constructor(t){this.jsonp=t}intercept(t,e){return"JSONP"===t.method?this.jsonp.handle(t):e.handle(t)}}$j.decorators=[{type:Ul}],$j.ctorParameters=()=>[{type:zj}];const Hj=/^\)\]\}',?\n/;class Wj{}class Kj{constructor(){}build(){return new XMLHttpRequest}}Kj.decorators=[{type:Ul}],Kj.ctorParameters=()=>[];class Gj{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new E(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new bj(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Dj({headers:s,status:e,statusText:r,url:o})},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(Hj,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=t,c&&(c=!1,l={error:u,text:l})}}c?(e.next(new Nj({body:l,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Oj({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Oj({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let l=!1;const c=r=>{l||(e.next(s()),l=!0);let i={type:kj.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},u=t=>{let n={type:kj.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),e.next({type:kj.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}Gj.decorators=[{type:Ul}],Gj.ctorParameters=()=>[{type:Wj}];const Qj=new jt("XSRF_COOKIE_NAME"),Yj=new jt("XSRF_HEADER_NAME");class Xj{}class Zj{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=GL(t,this.cookieName),this.lastCookieString=t),this.lastToken}}Zj.decorators=[{type:Ul}],Zj.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[bV]}]},{type:String,decorators:[{type:ft,args:[my]}]},{type:String,decorators:[{type:ft,args:[Qj]}]}];class Jj{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}Jj.decorators=[{type:Ul}],Jj.ctorParameters=()=>[{type:Xj},{type:String,decorators:[{type:ft,args:[Yj]}]}];class tU{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Lj,[]);this.chain=t.reduceRight((t,e)=>new Mj(t,e),this.backend)}return this.chain.handle(t)}}tU.decorators=[{type:Ul}],tU.ctorParameters=()=>[{type:_j},{type:Ql}];class eU{static disable(){return{ngModule:eU,providers:[{provide:Jj,useClass:Fj}]}}static withOptions(t={}){return{ngModule:eU,providers:[t.cookieName?{provide:Qj,useValue:t.cookieName}:[],t.headerName?{provide:Yj,useValue:t.headerName}:[]]}}}eU.decorators=[{type:oy,args:[{providers:[Jj,{provide:Lj,useExisting:Jj,multi:!0},{provide:Xj,useClass:Zj},{provide:Qj,useValue:"XSRF-TOKEN"},{provide:Yj,useValue:"X-XSRF-TOKEN"}]}]}];class nU{}nU.decorators=[{type:oy,args:[{imports:[eU.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})],providers:[Rj,{provide:vj,useClass:tU},Gj,{provide:_j,useExisting:Gj},Kj,{provide:Wj,useExisting:Kj}]}]}];(class{}).decorators=[{type:oy,args:[{providers:[zj,{provide:qj,useFactory:function(){return"object"==typeof window?window:{}}},{provide:Lj,useClass:$j,multi:!0}]}]}];class rU extends k{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}next(t){super.next(this._value=t)}}function iU(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}iU.prototype=Object.create(Error.prototype);const sU=iU,oU={};function aU(...t){let e=null,n=null;return D(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&c(t[0])&&(t=t[0]),H(t,n).lift(new lU(e))}class lU{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new cU(t,this.resultSelector))}}class cU extends U{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(oU),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(j(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=s[n],a=this.toRespond?o===oU?--this.toRespond:this.toRespond:0;s[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function uU(t){return new E(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?W(n):hj()).subscribe(e)})}function hU(){return X(1)}function dU(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}dU.prototype=Object.create(Error.prototype);const pU=dU;function mU(t){return function(e){return 0===t?hj():e.lift(new fU(t))}}class fU{constructor(t){if(this.total=t,this.total<0)throw new pU}call(t,e){return e.subscribe(new gU(t,this.total))}}class gU extends g{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;if(e.length<n)e.push(t);else{e[r%n]=t}}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function yU(t,e,n){return function(r){return r.lift(new vU(t,e,n))}}class vU{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new _U(t,this.nextOrObserver,this.error,this.complete))}}class _U extends g{constructor(t,e,n,r){super(t),this._tapNext=_,this._tapError=_,this._tapComplete=_,this._tapError=n||_,this._tapComplete=r||_,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||_,this._tapError=e.error||_,this._tapComplete=e.complete||_)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const bU=(t=function(){return new sU})=>yU({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function wU(t=null){return e=>e.lift(new EU(t))}class EU{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new CU(t,this.defaultValue))}}class CU extends g{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function xU(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fj((e,n)=>t(e,n,r)):Y,mU(1),n?wU(e):bU(()=>new sU))}function SU(t){return function(e){const n=new TU(t),r=e.lift(n);return n.caught=r}}class TU{constructor(t){this.selector=t}call(t,e){return e.subscribe(new IU(t,this.selector,this.caught))}}class IU extends U{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new N(this,void 0,void 0);this.add(r),j(this,n,void 0,void 0,r)}}}function kU(t){return e=>0===t?hj():e.lift(new AU(t))}class AU{constructor(t){if(this.total=t,this.total<0)throw new pU}call(t,e){return e.subscribe(new DU(t,this.total))}}class DU extends g{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function NU(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fj((e,n)=>t(e,n,r)):Y,kU(1),n?wU(e):bU(()=>new sU))}class OU{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new PU(t,this.predicate,this.thisArg,this.source))}}class PU extends g{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function RU(t,e){return"function"==typeof e?n=>n.pipe(RU((n,r)=>W(t(n,r)).pipe(q((t,i)=>e(n,t,r,i))))):e=>e.lift(new MU(t))}class MU{constructor(t){this.project=t}call(t,e){return e.subscribe(new LU(t,this.project))}}class LU extends U{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new N(this,void 0,void 0);this.destination.add(i),this.innerSubscription=j(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function FU(...t){return hU()(pj(...t))}function VU(...t){return e=>{let n=t[t.length-1];D(n)?t.pop():n=null;const r=t.length;return FU(1!==r||n?r>0?H(t,n):hj(n):dj(t[0]),e)}}function BU(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new jU(t,e,n))}}class jU{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new UU(t,this.accumulator,this.seed,this.hasSeed))}}class UU extends g{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function qU(t){return e=>e.lift(new zU(t))}class zU{constructor(t){this.callback=t}call(t,e){return e.subscribe(new $U(t,this.callback))}}class $U extends g{constructor(t,e){super(t),this.add(new p(e))}}class HU{constructor(t,e){this.id=t,this.url=e}}class WU extends HU{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class KU extends HU{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class GU extends HU{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class QU extends HU{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YU extends HU{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XU extends HU{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZU extends HU{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class JU extends HU{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tq extends HU{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eq{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nq{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rq{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iq{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sq{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oq{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aq{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){const t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}}class lq{}lq.decorators=[{type:Xg,args:[{template:"<router-outlet></router-outlet>"}]}];const cq="primary";class uq{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function hq(t){return new uq(t)}const dq="ngNavigationCancelingError";function pq(t){const e=Error("NavigationCancelingError: "+t);return e[dq]=!0,e}function mq(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class fq{constructor(t,e){this.routes=t,this.module=e}}function gq(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];yq(r,vq(e,r))}}function yq(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==cq)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){const n="The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. ${n}`)}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&gq(t.children,e)}function vq(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function _q(t){const e=t.children&&t.children.map(_q),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==cq&&(n.component=lq),n}function bq(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(t[i=n[s]]!==e[i])return!1;return!0}function wq(t){return Array.prototype.concat.apply([],t)}function Eq(t){return t.length>0?t[t.length-1]:null}function Cq(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function xq(t){return Xu(t)?t:Yu(t)?W(Promise.resolve(t)):pj(t)}function Sq(t,e,n){return n?function(t,e){return bq(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Dq(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&Tq(t.root,e.root)}function Tq(t,e){return function t(e,n,r){if(e.segments.length>r.length){const t=e.segments.slice(0,r.length);return!!Dq(t,r)&&!n.hasChildren()}if(e.segments.length===r.length){if(!Dq(e.segments,r))return!1;for(const t in n.children){if(!e.children[t])return!1;if(!Tq(e.children[t],n.children[t]))return!1}return!0}{const i=r.slice(0,e.segments.length),s=r.slice(e.segments.length);return!!Dq(e.segments,i)&&(!!e.children[cq]&&t(e.children[cq],n,s))}}(t,e,e.segments)}class Iq{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hq(this.queryParams)),this._queryParamMap}toString(){return Rq.serialize(this)}}class kq{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Cq(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mq(this)}}class Aq{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=hq(this.parameters)),this._parameterMap}toString(){return Uq(this)}}function Dq(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Nq(t,e){let n=[];return Cq(t.children,(t,r)=>{r===cq&&(n=n.concat(e(t,r)))}),Cq(t.children,(t,r)=>{r!==cq&&(n=n.concat(e(t,r)))}),n}class Oq{}class Pq{parse(t){const e=new Wq(t);return new Iq(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Mq(e);if(n){const n=e.children[cq]?t(e.children[cq],!1):"",r=[];return Cq(e.children,(e,n)=>{n!==cq&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Nq(e,(n,r)=>r===cq?[t(e.children[cq],!1)]:[`${r}:${t(n,!1)}`]);return`${Mq(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Fq(e)}=${Fq(t)}`).join("&"):`${Fq(e)}=${Fq(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Rq=new Pq;function Mq(t){return t.segments.map(t=>Uq(t)).join("/")}function Lq(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fq(t){return Lq(t).replace(/%3B/gi,";")}function Vq(t){return Lq(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bq(t){return decodeURIComponent(t)}function jq(t){return Bq(t.replace(/\+/g,"%20"))}function Uq(t){return`${Vq(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Vq(t)}=${Vq(e[t])}`).join("")}`;var e}const qq=/^[^\/()?;=#]+/;function zq(t){const e=t.match(qq);return e?e[0]:""}const $q=/^[^=?&#]+/;const Hq=/^[^?&#]+/;class Wq{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kq([],{}):new kq([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[cq]=new kq(t,e)),n}parseSegment(){const t=zq(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Aq(Bq(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=zq(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=zq(this.remaining);t&&(n=t,this.capture(n))}t[Bq(e)]=Bq(n)}parseQueryParam(t){const e=function(t){const e=t.match($q);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Hq);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=jq(e),i=jq(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=zq(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=cq);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[cq]:new kq([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Kq{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Gq(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Gq(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Qq(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Qq(t,this._root).map(t=>t.value)}}function Gq(t,e){if(t===e.value)return e;for(const n of e.children){const e=Gq(t,n);if(e)return e}return null}function Qq(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Qq(t,n);if(r.length)return r.unshift(e),r}return[]}class Yq{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Xq(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Zq extends Kq{constructor(t,e){super(t),this.snapshot=e,iz(this,t)}toString(){return this.snapshot.toString()}}function Jq(t,e){const n=function(t,e){const n=new nz([],{},{},"",{},cq,e,null,t.root,-1,{});return new rz("",new Yq(n,[]))}(t,e),r=new rU([new Aq("",{})]),i=new rU({}),s=new rU({}),o=new rU({}),a=new rU(""),l=new tz(r,i,o,a,s,cq,e,n.root);return l.snapshot=n.root,new Zq(new Yq(l,[]),n)}class tz{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(q(t=>hq(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(q(t=>hq(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ez(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>{return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}class nz{constructor(t,e,n,r,i,s,o,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hq(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hq(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rz extends Kq{constructor(t,e){super(e),this.url=t,iz(this,e)}toString(){return sz(this._root)}}function iz(t,e){e.value._routerState=t,e.children.forEach(e=>iz(t,e))}function sz(t){const e=t.children.length>0?` { ${t.children.map(sz).join(", ")} } `:"";return`${t.value}${e}`}function oz(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,bq(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),bq(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!bq(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),bq(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function az(t,e){const n=bq(t.params,e.params)&&(r=t.url,i=e.url,Dq(r,i)&&r.every((t,e)=>bq(t.parameters,i[e].parameters)));var r,i;const s=!t.parent!=!e.parent;return n&&!s&&(!t.parent||az(t.parent,e.parent))}function lz(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(r.value.snapshot,e.value))return lz(t,e,r);return lz(t,e)})}(t,e,n);return new Yq(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(e,t),t}{const n=(r=e.value,new tz(new rU(r.url),new rU(r.params),new rU(r.queryParams),new rU(r.fragment),new rU(r.data),r.outlet,r.component,r)),i=e.children.map(e=>lz(t,e));return new Yq(n,i)}}var r}function cz(t,e,n,r,i){if(0===n.length)return hz(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new dz(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Cq(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new dz(n,e,r)}(n);if(s.toRoot())return hz(e.root,new kq([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new pz(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new pz(n.snapshot._urlSegment,!0,0);const r=uz(t.commands[0])?0:1,i=n.snapshot._lastPathIndex+r;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new pz(r,!1,i-s)}(n.snapshot._urlSegment,i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?gz(o.segmentGroup,o.index,s.commands):fz(o.segmentGroup,o.index,s.commands);return hz(o.segmentGroup,a,e,r,i)}function uz(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hz(t,e,n,r,i){let s={};return r&&Cq(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),n.root===t?new Iq(e,s,i):new Iq(function t(e,n,r){const i={};Cq(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)});return new kq(e.segments,i)}(n.root,t,e),s,i)}class dz{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&uz(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Eq(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pz{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function mz(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[cq]:`${t}`}function fz(t,e,n){if(t||(t=new kq([],{})),0===t.segments.length&&t.hasChildren())return gz(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=mz(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!bz(o,a,e))return s;r+=2}else{if(!bz(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new kq(t.segments.slice(0,r.pathIndex),{});return e.children[cq]=new kq(t.segments.slice(r.pathIndex),t.children),gz(e,0,i)}return r.match&&0===i.length?new kq(t.segments,{}):r.match&&!t.hasChildren()?yz(t,e,n):r.match?gz(t,0,i):yz(t,e,n)}function gz(t,e,n){if(0===n.length)return new kq(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[cq]:t}:void 0===t[0].outlets?{[cq]:t}:t[0].outlets}(n),i={};return Cq(r,(n,r)=>{null!==n&&(i[r]=fz(t.children[r],e,n))}),Cq(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new kq(t.segments,i)}}function yz(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=vz(n[i].outlets);return new kq(r,t)}if(0===i&&uz(n[0])){const s=t.segments[e];r.push(new Aq(s.path,n[0])),i++;continue}const s=mz(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&uz(o)?(r.push(new Aq(s,_z(o))),i+=2):(r.push(new Aq(s,{})),i++)}return new kq(r,{})}function vz(t){const e={};return Cq(t,(t,n)=>{null!==t&&(e[n]=yz(new kq([],{}),0,t))}),e}function _z(t){const e={};return Cq(t,(t,n)=>e[n]=`${t}`),e}function bz(t,e,n){return t==n.path&&bq(e,n.parameters)}const wz=(t,e,n)=>q(r=>(new Ez(e,r.targetRouterState,r.currentRouterState,n).activate(t),r));class Ez{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),oz(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Xq(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Cq(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Xq(t),i=t.value.component?n.children:e;Cq(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Xq(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new oq(t.value.snapshot))}),t.children.length&&this.forwardEvent(new iq(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(oz(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Cz(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Cz(t){oz(t.value),t.children.forEach(Cz)}function xz(t){return"function"==typeof t}function Sz(t){return t instanceof Iq}class Tz{constructor(t){this.segmentGroup=t||null}}class Iz{constructor(t){this.urlTree=t}}function kz(t){return new E(e=>e.error(new Tz(t)))}function Az(t){return new E(e=>e.error(new Iz(t)))}function Dz(t){return new E(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Nz{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(oe)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,cq).pipe(q(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(SU(t=>{if(t instanceof Iz)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Tz)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,cq).pipe(q(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(SU(t=>{if(t instanceof Tz)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new kq([],{[cq]:t}):t;return new Iq(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(q(t=>new kq([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return pj({});const n=[],r=[],i={};return Cq(t,(t,s)=>{const o=e(s,t).pipe(q(t=>i[s]=t));s===cq?n.push(o):r.push(o)}),pj.apply(null,n.concat(r)).pipe(hU(),xU(),q(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return pj(...n).pipe(q(o=>{return this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(SU(t=>{if(t instanceof Tz)return pj(null);throw t}))}),hU(),NU(t=>!!t),SU((t,n)=>{if(t instanceof sU||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return pj(new kq([],{}));throw new Tz(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Mz(r)!==s?kz(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):kz(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Az(i):this.lineralizeSegments(n,i).pipe(K(n=>{const i=new kq(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Oz(e,r,i);if(!o)return kz(e);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Az(u):this.lineralizeSegments(r,u).pipe(K(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(q(t=>(n._loadedConfig=t,new kq(r,{})))):pj(new kq(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Oz(e,n,r);if(!i)return kz(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(K(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){if(n.length>0&&function(t,e,n){return n.some(n=>Rz(t,e,n)&&Mz(n)!==cq)}(t,n,r)){return{segmentGroup:Pz(new kq(e,function(t,e){const n={};n[cq]=e;for(const r of t)""===r.path&&Mz(r)!==cq&&(n[Mz(r)]=new kq([],{}));return n}(r,new kq(n,t.children)))),slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Rz(t,e,n))}(t,n,r)){return{segmentGroup:Pz(new kq(t.segments,function(t,e,n,r){const i={};for(const s of n)Rz(t,e,s)&&!r[Mz(s)]&&(i[Mz(s)]=new kq([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}(e,s,a,r);if(0===o.length&&i.hasChildren()){return this.expandChildren(n,r,i).pipe(q(t=>new kq(s,t)))}return 0===r.length&&0===o.length?pj(new kq(s,{})):this.expandSegment(n,i,r,o,cq,!0).pipe(q(t=>new kq(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?pj(new fq(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?pj(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?W(r).pipe(q(r=>{const i=t.get(r);let s;if(function(t){return t&&xz(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!xz(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return xq(s)})).pipe(hU(),function(t,e){return n=>n.lift(new OU(t,e,n))}(t=>!0===t)):pj(!0)}(t.injector,e,n).pipe(K(n=>n?this.configLoader.load(t.injector,e).pipe(q(t=>(e._loadedConfig=t,t))):function(t){return new E(e=>e.error(pq(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):pj(new fq([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return pj(n);if(r.numberOfChildren>1||!r.children[cq])return Dz(t.redirectTo);r=r.children[cq]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Iq(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Cq(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Cq(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new kq(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Oz(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||mq)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Pz(t){if(1===t.numberOfChildren&&t.children[cq]){const e=t.children[cq];return new kq(t.segments.concat(e.segments),e.children)}return t}function Rz(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function Mz(t){return t.outlet||cq}function Lz(t,e,n,r){return function(i){return i.pipe(RU(i=>(function(t,e,n,r,i){return new Nz(t,e,n,r,i).apply()})(t,e,n,i.extractedUrl,r).pipe(q(t=>Object.assign({},i,{urlAfterRedirects:t})))))}}class Fz{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Vz{constructor(t,e){this.component=t,this.route=e}}function Bz(t,e,n){const r=t._root;return Uz(r,e?e._root:null,n,[r.value])}function jz(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Uz(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Xq(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Dq(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dq(t.url,e.url)||!bq(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!az(t,e)||!bq(t.queryParams,e.queryParams);case"paramsChange":default:return!az(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);if(l?i.canActivateChecks.push(new Fz(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Uz(t,e,a?a.children:null,r,i):Uz(t,e,n,r,i),l){const t=a&&a.outlet&&a.outlet.component||null;i.canDeactivateChecks.push(new Vz(t,o))}}else o&&qz(e,a,i),i.canActivateChecks.push(new Fz(r)),s.component?Uz(t,null,a?a.children:null,r,i):Uz(t,null,n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Cq(s,(t,e)=>qz(t,n.getContext(e),i)),i}function qz(t,e,n){const r=Xq(t),i=t.value;Cq(r,(t,r)=>{i.component?qz(t,e?e.children.getContext(r):null,n):qz(t,e,n)}),i.component&&e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Vz(e.outlet.component,i)):n.canDeactivateChecks.push(new Vz(null,i))}const zz=Symbol("INITIAL_VALUE");function $z(){return RU(t=>aU(...t.map(t=>t.pipe(kU(1),VU(zz)))).pipe(BU((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==zz)return t;if(r===zz&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Sz(r))return r}return t},t)},zz),fj(t=>t!==zz),q(t=>Sz(t)?t:!0===t),kU(1)))}function Hz(t,e){return function(n){return n.pipe(K(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?pj(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return W(t).pipe(K(t=>(function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?pj(s.map(s=>{const o=jz(s,e,i);let a;if(function(t){return t&&xz(t.canDeactivate)}(o))a=xq(o.canDeactivate(t,e,n,r));else{if(!xz(o))throw new Error("Invalid CanDeactivate guard");a=xq(o(t,e,n,r))}return a.pipe(NU())})).pipe($z()):pj(!0)})(t.component,t.route,n,e,r)),NU(t=>!0!==t,!0))}(o,r,i,t).pipe(K(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return W(e).pipe(mj(e=>W([Kz(e.route.parent,r),Wz(e.route,r),Qz(t,e.path,n),Gz(t,e.route,n)]).pipe(hU(),NU(t=>!0!==t,!0))),NU(t=>!0!==t,!0))}(r,s,t,e):pj(n)),q(t=>Object.assign({},n,{guardsResult:t})))}))}}function Wz(t,e){return null!==t&&e&&e(new sq(t)),pj(!0)}function Kz(t,e){return null!==t&&e&&e(new rq(t)),pj(!0)}function Gz(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?pj(r.map(r=>uU(()=>{const i=jz(r,e,n);let s;if(function(t){return t&&xz(t.canActivate)}(i))s=xq(i.canActivate(e,t));else{if(!xz(i))throw new Error("Invalid CanActivate guard");s=xq(i(e,t))}return s.pipe(NU())}))).pipe($z()):pj(!0)}function Qz(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>uU(()=>{return pj(e.guards.map(i=>{const s=jz(i,e.node,n);let o;if(function(t){return t&&xz(t.canActivateChild)}(s))o=xq(s.canActivateChild(r,t));else{if(!xz(s))throw new Error("Invalid CanActivateChild guard");o=xq(s(r,t))}return o.pipe(NU())})).pipe($z())}));return pj(i).pipe($z())}class Yz{}class Xz{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const e=t$(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,cq),r=new nz([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},cq,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Yq(r,n),s=new rz(this.url,i);return this.inheritParamsAndData(s._root),pj(s)}catch(t){return new E(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=ez(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Nq(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===cq?-1:e.value.outlet===cq?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof Yz))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Yz}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Yz;if((t.outlet||cq)!==r)throw new Yz;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?Eq(n).parameters:{};i=new nz(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,r$(t),r,t.component,t,Zz(e),Jz(e)+n.length,i$(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Yz;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||mq)(n,t,e);if(!r)throw new Yz;const i={};Cq(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new nz(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,r$(t),r,t.component,t,Zz(e),Jz(e)+s.length,i$(t))}const a=function(t){if(t.children)return t.children;if(t.loadChildren)return t._loadedConfig.routes;return[]}(t),{segmentGroup:l,slicedSegments:c}=t$(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new Yq(i,t)]}if(0===a.length&&0===c.length)return[new Yq(i,[])];const u=this.processSegment(a,l,c,cq);return[new Yq(i,u)]}}function Zz(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Jz(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function t$(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>e$(t,e,n)&&n$(n)!==cq)}(t,n,r)){const i=new kq(e,function(t,e,n,r){const i={};i[cq]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&n$(s)!==cq){const n=new kq([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[n$(s)]=n}return i}(t,e,r,new kq(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>e$(t,e,n))}(t,n,r)){const s=new kq(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(e$(t,n,a)&&!i[n$(a)]){const n=new kq([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[n$(a)]=n}return Object.assign({},i,o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new kq(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function e$(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function n$(t){return t.outlet||cq}function r$(t){return t.data||{}}function i$(t){return t.resolve||{}}function s$(t,e,n,r,i){return function(s){return s.pipe(K(s=>(function(t,e,n,r,i="emptyOnly",s="legacy"){return new Xz(t,e,n,r,i,s).recognize()})(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(q(t=>Object.assign({},s,{targetSnapshot:t})))))}}function o$(t,e){return function(n){return n.pipe(K(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?W(i).pipe(mj(n=>(function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return pj({});if(1===i.length){const s=i[0];return a$(t[s],e,n,r).pipe(q(t=>({[s]:t})))}const s={};return W(i).pipe(K(i=>a$(t[i],e,n,r).pipe(q(t=>(s[i]=t,t))))).pipe(xU(),q(()=>s))}(t._resolve,t,e,r).pipe(q(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,ez(t,n).resolve),null)))})(n.route,r,t,e)),function(t,e){return arguments.length>=2?function(n){return b(BU(t,e),mU(1),wU(e))(n)}:function(e){return b(BU((e,n,r)=>t(e,n,r+1)),mU(1))(e)}}((t,e)=>t),q(t=>n)):pj(n)}))}}function a$(t,e,n,r){const i=jz(t,e,r);return i.resolve?xq(i.resolve(e,n)):xq(i(e,n))}function l$(t){return function(e){return e.pipe(RU(e=>{const n=t(e);return n?W(n).pipe(q(()=>e)):W([e])}))}}class c${shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const u$=new jt("ROUTES");class h${constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(q(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new fq(wq(r.injector.get(u$)).map(_q),r)}))}loadModuleFactory(t){return"string"==typeof t?W(this.loader.load(t)):xq(t()).pipe(K(t=>t instanceof ae?pj(t):W(this.compiler.compileModuleAsync(t))))}}class d${shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function p$(t){throw t}function m$(t,e,n){return e.parse("/")}function f$(t,e){return pj(null)}class g${constructor(t,e,n,r,i,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=p$,this.malformedUriErrorHandler=m$,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:f$,afterPreactivation:f$},this.urlHandlingStrategy=new d$,this.routeReuseStrategy=new c$,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy";this.ngModule=i.get(oe),this.console=i.get(yy);const l=i.get(Vy);this.isNgZoneEnabled=l instanceof Vy,this.resetConfig(a),this.currentUrlTree=new Iq(new kq([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new h$(s,o,t=>this.triggerEvent(new eq(t)),t=>this.triggerEvent(new nq(t))),this.routerState=Jq(this.currentUrlTree,this.rootComponentType),this.transitions=new rU({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(fj(t=>0!==t.id),q(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),RU(t=>{let n=!1,r=!1;return pj(t).pipe(yU(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),RU(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return pj(t).pipe(RU(t=>{const n=this.transitions.getValue();return e.next(new WU(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?uj:[t]}),RU(t=>Promise.resolve(t)),Lz(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),yU(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),s$(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),yU(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),yU(t=>{const n=new YU(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new WU(n,this.serializeUrl(r),i,s);e.next(a);const l=Jq(r,this.rootComponentType).snapshot;return pj(Object.assign({},t,{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),uj}),l$(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),yU(t=>{const e=new XU(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),q(t=>Object.assign({},t,{guards:Bz(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),Hz(this.ngModule.injector,t=>this.triggerEvent(t)),yU(t=>{if(Sz(t.guardsResult)){const e=pq(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),yU(t=>{const e=new ZU(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),fj(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new GU(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),l$(t=>{if(t.guards.canActivateChecks.length)return pj(t).pipe(yU(t=>{const e=new JU(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),o$(this.paramsInheritanceStrategy,this.ngModule.injector),yU(t=>{const e=new tq(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),l$(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),q(t=>{const e=function(t,e,n){const r=lz(t,e._root,n?n._root:void 0);return new Zq(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),yU(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),wz(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),yU({next(){n=!0},complete(){n=!0}}),qU(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new GU(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),SU(n=>{if(r=!0,function(t){return t&&t[dq]}(n)){const r=Sz(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new GU(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new QU(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return uj}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){gq(t),this.config=t.map(_q),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;vs()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let u=null;if(o)switch(o){case"merge":u=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}else u=s?this.currentUrlTree.queryParams:r||null;return null!==u&&(u=this.removeEmptyProps(u)),cz(l,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){vs()&&this.isNgZoneEnabled&&!Vy.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Sz(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Sz(t))return Sq(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Sq(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new KU(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s=null,o=null;const a=new Promise((t,e)=>{s=t,o=e}),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class y${constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){vs()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:_$(this.skipLocationChange),replaceUrl:_$(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:_$(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:_$(this.preserveFragment)})}}y$.decorators=[{type:Yg,args:[{selector:":not(a):not(area)[routerLink]"}]}],y$.ctorParameters=()=>[{type:g$},{type:tz},{type:String,decorators:[{type:bt,args:["tabindex"]}]},{type:Od},{type:Id}],y$.propDecorators={queryParams:[{type:Jg}],fragment:[{type:Jg}],queryParamsHandling:[{type:Jg}],preserveFragment:[{type:Jg}],skipLocationChange:[{type:Jg}],replaceUrl:[{type:Jg}],state:[{type:Jg}],routerLink:[{type:Jg}],preserveQueryParams:[{type:Jg}],onClick:[{type:ny,args:["click"]}]};class v${constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof KU&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){vs()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:_$(this.skipLocationChange),replaceUrl:_$(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:_$(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:_$(this.preserveFragment)})}}function _$(t){return""===t||!!t}v$.decorators=[{type:Yg,args:[{selector:"a[routerLink],area[routerLink]"}]}],v$.ctorParameters=()=>[{type:g$},{type:tz},{type:UM}],v$.propDecorators={target:[{type:ey,args:["attr.target"]},{type:Jg}],queryParams:[{type:Jg}],fragment:[{type:Jg}],queryParamsHandling:[{type:Jg}],preserveFragment:[{type:Jg}],skipLocationChange:[{type:Jg}],replaceUrl:[{type:Jg}],state:[{type:Jg}],href:[{type:ey}],routerLink:[{type:Jg}],preserveQueryParams:[{type:Jg}],onClick:[{type:ny,args:["click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]]}]};class b${constructor(t,e,n,r,i){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof KU&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}b$.decorators=[{type:Yg,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],b$.ctorParameters=()=>[{type:g$},{type:Id},{type:Od},{type:y$,decorators:[{type:gt}]},{type:v$,decorators:[{type:gt}]}],b$.propDecorators={links:[{type:Ic,args:[y$,{descendants:!0}]}],linksWithHrefs:[{type:Ic,args:[v$,{descendants:!0}]}],routerLinkActiveOptions:[{type:Jg}],routerLinkActive:[{type:Jg}]};class w${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new E$,this.attachRef=null}}class E${constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new w$,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class C${constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new xg,this.deactivateEvents=new xg,this.name=r||cq,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=t._futureSnapshot.routeConfig.component,r=(e=e||this.resolver).resolveComponentFactory(n),i=this.parentContexts.getOrCreateContext(this.name).children,s=new x$(t,i,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}C$.decorators=[{type:Yg,args:[{selector:"router-outlet",exportAs:"outlet"}]}],C$.ctorParameters=()=>[{type:E$},{type:tp},{type:Cd},{type:String,decorators:[{type:bt,args:["name"]}]},{type:Tl}],C$.propDecorators={activateEvents:[{type:ty,args:["activate"]}],deactivateEvents:[{type:ty,args:["deactivate"]}]};class x${constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===tz?this.route:t===E$?this.childContexts:this.parent.get(t,e)}}class S${}class T${preload(t,e){return pj(null)}}class I${constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i;this.loader=new h$(e,n,e=>t.triggerEvent(new eq(e)),e=>t.triggerEvent(new nq(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(fj(t=>t instanceof KU),mj(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(oe);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return W(n).pipe(X(),q(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>{return this.loader.load(t.injector,e).pipe(K(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes))))})}}I$.decorators=[{type:Ul}],I$.ctorParameters=()=>[{type:g$},{type:sv},{type:ky},{type:Ql},{type:S$}];class k${constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof WU?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof KU&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof aq&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new aq(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const A$=[C$,y$,v$,b$,lq],D$=new jt("ROUTER_CONFIGURATION"),N$=new jt("ROUTER_FORROOT_GUARD"),O$=[zM,{provide:Oq,useClass:Pq},{provide:g$,useFactory:function(t,e,n,r,i,s,o,a,l={},c,u){const h=new g$(null,e,n,r,i,s,o,wq(a));c&&(h.urlHandlingStrategy=c);u&&(h.routeReuseStrategy=u);l.errorHandler&&(h.errorHandler=l.errorHandler);l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler);if(l.enableTracing){const t=IV();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation);l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy);l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy);l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution);return h},deps:[rv,Oq,E$,zM,Ql,sv,ky,u$,D$,[class{},new gt],[class{},new gt]]},E$,{provide:tz,useFactory:function(t){return t.routerState.root},deps:[g$]},{provide:sv,useClass:uv},I$,T$,class{preload(t,e){return e().pipe(SU(()=>pj(null)))}},{provide:D$,useValue:{enableTracing:!1}}];function P$(){return new Zy("Router",g$)}class R${constructor(t,e){}static forRoot(t,e){return{ngModule:R$,providers:[O$,V$(t),{provide:N$,useFactory:F$,deps:[[g$,new gt,new vt]]},{provide:D$,useValue:e||{}},{provide:UM,useFactory:L$,deps:[BM,[new ft(qM),new gt],D$]},{provide:k$,useFactory:M$,deps:[g$,xV,D$]},{provide:S$,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:T$},{provide:Zy,multi:!0,useFactory:P$},[B$,{provide:ly,multi:!0,useFactory:j$,deps:[B$]},{provide:q$,useFactory:U$,deps:[B$]},{provide:fy,multi:!0,useExisting:q$}]]}}static forChild(t){return{ngModule:R$,providers:[V$(t)]}}}function M$(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new k$(t,e,n)}function L$(t,e,n={}){return n.useHash?new HM(t,e):new WM(t,e)}function F$(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function V$(t){return[{provide:Sc,multi:!0,useValue:t},{provide:u$,multi:!0,useValue:t}]}R$.decorators=[{type:oy,args:[{declarations:A$,exports:A$,entryComponents:[lq]}]}],R$.ctorParameters=()=>[{type:void 0,decorators:[{type:gt},{type:ft,args:[N$]}]},{type:g$,decorators:[{type:gt}]}];class B${constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(jM,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(g$),r=this.injector.get(D$);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?pj(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(D$),n=this.injector.get(I$),r=this.injector.get(k$),i=this.injector.get(g$),s=this.injector.get(rv);t===s.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function j$(t){return t.appInitializer.bind(t)}function U$(t){return t.bootstrapListener.bind(t)}B$.decorators=[{type:Ul}],B$.ctorParameters=()=>[{type:Ql}];const q$=new jt("Router Initializer");new Rd("8.2.5");let z$=class{constructor(t){this.router=t,this.value=""}getSearchPara(t){this.value=t,this.router.navigate(["/search",t])}ngOnInit(){}};z$.ctorParameters=()=>[{type:g$}],z$=r.__decorate([Xg({selector:"app-home",template:r.__importDefault(n("aSPh")).default,styles:[r.__importDefault(n("mbft")).default]})],z$);let $$=class{constructor(t,e){this.router=t,this.http=e,this.apiUrl="https://api.jikan.moe/v3"}getTopUpcoming(){return this.http.get(`${this.apiUrl}/top/anime/1/upcoming`).subscribe(t=>{this.dataUp=t},t=>console.error(t),()=>console.log("done loading Upcoming"))}getTopAiring(){return this.http.get(`${this.apiUrl}/top/anime/1/airing`).subscribe(t=>{this.dataAir=t},t=>console.error(t),()=>console.log("done loading Airing"))}getTopTv(){return this.http.get(`${this.apiUrl}/top/anime/1/tv`).subscribe(t=>{this.dataTv=t},t=>console.error(t),()=>console.log("done loading top TV"))}getTopMovie(){return this.http.get(`${this.apiUrl}/top/anime/1/movie`).subscribe(t=>{this.dataMov=t},t=>console.error(t),()=>console.log("done loading Movies"))}toDetailPage(t){this.router.navigate(["/details",t.mal_id])}ngOnInit(){this.getTopUpcoming(),this.getTopMovie(),this.getTopTv(),this.getTopAiring()}};$$.ctorParameters=()=>[{type:g$},{type:Rj}],$$=r.__decorate([Xg({selector:"app-top-anime",template:r.__importDefault(n("wGxs")).default,styles:[r.__importDefault(n("5xbu")).default]})],$$);let H$=class{constructor(t,e){this.router=t,this.http=e,this.apiUrl="https://api.jikan.moe/v3",this.selectedYear=(new Date).getFullYear()||{},this.seasons=[{value:"winter",season:"Winter"},{value:"spring",season:"Spring"},{value:"summer",season:"Summer"},{value:"fall",season:"Fall"}],this.selectedSeason="fall"}getSeasonal(){return this.http.get(`${this.apiUrl}/season/${this.selectedYear}/${this.selectedSeason}`).subscribe(t=>{this.data=t},t=>console.error(t),()=>console.log("done loading details"))}toDetailPage(t){this.router.navigate(["/details",t.mal_id])}getYears(){this.years={model:null,availableYears:[]};for(var t=(e=(new Date).getFullYear())-50,e=e+1,n=t;n<=e;n++)this.years.availableYears.push({id:n})}getUserInput(){""!=this.selectedSeason&&this.selectedYear!={}&&this.getSeasonal()}ngOnInit(){this.getYears(),this.getUserInput()}};H$.ctorParameters=()=>[{type:g$},{type:Rj}],H$=r.__decorate([Xg({selector:"app-seasonal",template:r.__importDefault(n("O4L0")).default,styles:[r.__importDefault(n("Q6ZC")).default]})],H$);let W$=class{constructor(t,e){this.router=t,this.http=e,this.apiUrl="https://api.jikan.moe/v3"}getSchedule(){return this.http.get(`${this.apiUrl}/schedule`).subscribe(t=>{this.weekly=t},t=>console.error(t),()=>console.log("done loading details"))}toDetailPage(t){this.router.navigate(["/details",t.mal_id])}ngOnInit(){this.getSchedule()}};W$.ctorParameters=()=>[{type:g$},{type:Rj}],W$=r.__decorate([Xg({selector:"app-schedule",template:r.__importDefault(n("c+A3")).default,styles:[r.__importDefault(n("Zjh+")).default]})],W$);class K$ extends p{constructor(t,e){super()}schedule(t,e=0){return this}}class G$ extends K${constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class Q${constructor(t,e=Q$.now){this.SchedulerAction=t,this.now=e}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}Q$.now=()=>Date.now();class Y$ extends Q${constructor(t,e=Q$.now){super(t,()=>Y$.delegate&&Y$.delegate!==this?Y$.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Y$.delegate&&Y$.delegate!==this?Y$.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const X$=new class extends Y${}(class extends G${constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}});new jt("angularfire2.realtimeDatabaseURL");class Z${constructor(t,e){this.zone=t,this.platformId=e}schedule(...t){return this.zone.runGuarded(function(){return X$.schedule.apply(X$,t)})}keepUnstableUntilFirst(t){return CV(this.platformId)?new E(e=>{const n=()=>{},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(t=>{"scheduled"===r.state&&r.invoke(),e.next(t)},t=>{"scheduled"===r.state&&r.invoke(),e.error(t)},()=>{"scheduled"===r.state&&r.invoke(),e.complete()})}):t}runOutsideAngular(t){return new E(e=>this.zone.runOutsideAngular(()=>t.subscribe(t=>this.zone.run(()=>e.next(t)),t=>this.zone.run(()=>e.error(t)),()=>this.zone.run(()=>e.complete()))))}}const J$=t=>e=>new E(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())));var tH,eH=n("Wcq6"),nH=n.n(eH),rH=function(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o};const iH=new jt("angularfire2.app.options"),sH=new jt("angularfire2.app.nameOrConfig");function oH(t,e){const n="string"==typeof e&&e||"[DEFAULT]",r="object"==typeof e&&e||{};return r.name=r.name||n,nH.a.apps.filter(t=>t&&t.name===r.name)[0]||nH.a.initializeApp(t,r)}const aH={provide:class{},useFactory:oH,deps:[iH,[new gt,sH]]};let lH=tH=class{static initializeApp(t,e){return{ngModule:tH,providers:[{provide:iH,useValue:t},{provide:sH,useValue:e}]}}};lH=tH=rH([oy({providers:[aH]})],lH);var cH=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},uH=function(t,e){return function(n,r){e(n,r,t)}};let hH=class{constructor(t,e,n,r){this.zone=r;const i=new Z$(r,n);this.auth=r.runOutsideAngular(()=>{return oH(t,e).auth()}),this.authState=i.keepUnstableUntilFirst(i.runOutsideAngular(new E(t=>{return{unsubscribe:this.auth.onAuthStateChanged(t)}}))),this.user=i.keepUnstableUntilFirst(i.runOutsideAngular(new E(t=>{return{unsubscribe:this.auth.onIdTokenChanged(t)}}))),this.idToken=this.user.pipe(RU(t=>t?W(t.getIdToken()):pj(null))),this.idTokenResult=this.user.pipe(RU(t=>t?W(t.getIdTokenResult()):pj(null)))}};function dH(t){return function(t){return new E(e=>{return{unsubscribe:t.onSnapshot(e)}})}(t).pipe(at())}function pH(t){return dH(t).pipe(q(t=>({payload:t,type:"query"})))}function mH(t){return pH(t).pipe(q(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function fH(t,e){return pH(t).pipe(q(t=>t.payload.docChanges()),BU((t,n)=>(function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t})(t,n,e),[]),q(t=>t.map(t=>({type:t.type,payload:t}))))}function gH(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}hH=function(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([Ul(),uH(0,ft(iH)),uH(1,gt()),uH(1,ft(sH)),uH(2,ft(my)),cH("design:paramtypes",[Object,Object,Object,Vy])],hH);class yH{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(mH(this.query))).pipe(q(e=>e.filter(e=>t.indexOf(e.type)>-1)),fj(t=>t.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(mH(this.query)))}auditTrail(t){return this.stateChanges(t).pipe(BU((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=gH(t),n=fH(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(t={}){const e=pH(this.query),n=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(q(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return W(this.query.get(t)).pipe(J$(this.afs.scheduler.zone))}add(t){return this.ref.add(t)}doc(t){return new vH(this.ref.doc(t),this.afs)}}class vH{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=AH(n,e);return new yH(r,i,this.afs)}snapshotChanges(){const t=dH(this.ref).pipe(q(t=>({payload:t,type:"value"})));const e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)}valueChanges(){return this.snapshotChanges().pipe(q(t=>t.payload.data()))}get(t){return W(this.ref.get(t)).pipe(J$(this.afs.scheduler.zone))}}class _H{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(mH(this.query))).pipe(q(e=>e.filter(e=>t.indexOf(e.type)>-1)),fj(t=>t.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(mH(this.query)))}auditTrail(t){return this.stateChanges(t).pipe(BU((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=gH(t),n=fH(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(){const t=pH(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(q(t=>t.payload.docs.map(t=>t.data())))}get(t){return W(this.query.get(t)).pipe(J$(this.afs.scheduler.zone))}}var bH=function(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},wH=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},EH=function(t,e){return function(n,r){e(n,r,t)}};const CH=new jt("angularfire2.enableFirestorePersistence"),xH=new jt("angularfire2.firestore.persistenceSettings"),SH=new jt("angularfire2.firestore.settings"),TH=parseInt(nH.a.SDK_VERSION.split(".")[0]),IH=parseInt(nH.a.SDK_VERSION.split(".")[1]),kH=TH<5||5==TH&&IH<8?{timestampsInSnapshots:!0}:{};function AH(t,e=(t=>t)){return{query:e(t),ref:t}}let DH=class{constructor(t,e,n,r,i,s,o){if(this.scheduler=new Z$(s,i),this.firestore=s.runOutsideAngular(()=>{const n=oH(t,e).firestore();return n.settings(r||kH),n}),n&&!CV(i)){const t=()=>{try{return W(this.firestore.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(t){return pj(!1)}};this.persistenceEnabled$=s.runOutsideAngular(t)}else this.persistenceEnabled$=pj(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=AH(n,e);return new yH(r,i,this)}collectionGroup(t,e){if(TH<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new _H(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new vH(e,this)}createId(){return this.firestore.collection("_").doc().id}};DH=bH([Ul(),EH(0,ft(iH)),EH(1,gt()),EH(1,ft(sH)),EH(2,gt()),EH(2,ft(CH)),EH(3,gt()),EH(3,ft(SH)),EH(4,ft(my)),EH(6,gt()),EH(6,ft(xH)),wH("design:paramtypes",[Object,Object,Object,Object,Object,Vy,Object])],DH);class NH{}class OH{}const PH="*";function RH(t,e){return{type:7,name:t,definitions:e,options:{}}}function MH(t,e=null){return{type:4,styles:e,timings:t}}function LH(t,e=null){return{type:3,steps:t,options:e}}function FH(t,e=null){return{type:2,steps:t,options:e}}function VH(t){return{type:6,styles:t,offset:null}}function BH(t,e,n){return{type:0,name:t,styles:e,options:n}}function jH(t){return{type:5,steps:t}}function UH(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function qH(t,e=null){return{type:8,animation:t,options:e}}function zH(t=null){return{type:9,options:t}}function $H(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function HH(t){Promise.resolve(null).then(t)}class WH{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){HH(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class KH{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?HH(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const GH="!";function QH(){return"undefined"!=typeof process}function YH(t){switch(t.length){case 0:return new WH;case 1:return t[0];default:return new KH(t)}}function XH(t,e,n,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==l,u=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case GH:a=i[n];break;case PH:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),c=u,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function ZH(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&JH(n,"start",t)));break;case"done":t.onDone(()=>r(n&&JH(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&JH(n,"destroy",t)))}}function JH(t,e,n){const r=n.totalTime,i=!!n.disabled,s=tW(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,i),o=t._data;return null!=o&&(s._data=o),s}function tW(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function eW(t,e,n){let r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function nW(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let rW=(t,e)=>!1;let iW=(t,e)=>!1;let sW=(t,e,n)=>[];const oW=QH();(oW||"undefined"!=typeof Element)&&(rW=(t,e)=>t.contains(e),iW=(()=>{if(oW||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):iW}})(),sW=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let aW=null,lW=!1;function cW(t){aW||(aW=function(){if("undefined"!=typeof document)return document.body;return null}()||{},lW=!!aW.style&&"WebkitAppearance"in aW.style);let e=!0;if(aW.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in aW.style)&&lW){e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in aW.style}return e}const uW=iW,hW=rW,dW=sW;function pW(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}class mW{validateStyleProperty(t){return cW(t)}matchesElement(t,e){return uW(t,e)}containsElement(t,e){return hW(t,e)}query(t,e,n){return dW(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new WH(n,r)}}mW.decorators=[{type:Ul}];class fW{}fW.NOOP=new mW;const gW=1e3,yW="{{",vW="ng-enter",_W="ng-leave",bW="ng-trigger",wW=".ng-trigger",EW="ng-animating",CW=".ng-animating";function xW(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:SW(parseFloat(e[1]),e[2])}function SW(t,e){switch(e){case"s":return t*gW;default:return t}}function TW(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){const r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;let i,s=0,o="";if("string"==typeof t){const n=t.match(r);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=SW(parseFloat(n[1]),n[2]);const a=n[3];null!=a&&(s=SW(parseFloat(a),n[4]));const l=n[5];l&&(o=l)}else i=t;if(!n){let n=!1,r=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(r,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:s,easing:o}}(t,e,n)}function IW(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function kW(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else IW(t,n);return n}function AW(t,e,n){return n?e+":"+n+";":""}function DW(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=AW(0,r,t.style.getPropertyValue(r))}for(const n in t.style){if(!t.style.hasOwnProperty(n)||n.startsWith("_"))continue;e+=AW(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n])}t.setAttribute("style",e)}function NW(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=BW(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),QH()&&DW(t))}function OW(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=BW(e);t.style[n]=""}),QH()&&DW(t))}function PW(t){return Array.isArray(t)?1==t.length?t[0]:FH(t):t}const RW=new RegExp(`${yW}\\s*(.+?)\\s*}}`,"g");function MW(t){let e=[];if("string"==typeof t){const n=t.toString();let r;for(;r=RW.exec(n);)e.push(r[1]);RW.lastIndex=0}return e}function LW(t,e,n){const r=t.toString(),i=r.replace(RW,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function FW(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const VW=/-+([a-z0-9])/g;function BW(t){return t.replace(VW,(...t)=>t[1].toUpperCase())}function jW(t,e){return 0===t||0===e}function UW(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=zW(t,e)})}}return e}function qW(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function zW(t,e){return window.getComputedStyle(t)[e]}const $W="*";function HW(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(GW(i,o));const a=i==$W&&o==$W;"<"!=s[0]||a||e.push(GW(o,i))})(t,n,e)):n.push(t),n}const WW=new Set(["true","1"]),KW=new Set(["false","0"]);function GW(t,e){const n=WW.has(t)||KW.has(t),r=WW.has(e)||KW.has(e);return(i,s)=>{let o=t==$W||t==i,a=e==$W||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?WW.has(t):KW.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?WW.has(e):KW.has(e)),o&&a}}const QW=":self",YW=new RegExp(`s*${QW}s*,?`,"g");function XW(t,e,n){return new JW(t).build(e,n)}const ZW="";class JW{constructor(t){this._driver=t}build(t,e){const n=new tK(e);return this._resetContextStyleTimingState(n),qW(this,PW(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=ZW,t.collectedStyles={},t.collectedStyles[ZW]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(eK(t)){const e=t;Object.keys(e).forEach(t=>{MW(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=FW(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=qW(this,PW(t.animation),e);return{type:1,matchers:HW(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:nK(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>qW(this,t,e)),options:nK(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=qW(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:nK(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t){return rK(TW(t,e).duration,0,"")}const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=rK(0,0,"");return t.dynamic=!0,t.strValue=r,t}return rK((n=n||TW(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:VH({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=VH(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==PH?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(eK(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e){if(e[t].toString().indexOf(yW)>=0){r=!0;break}}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=MW(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(eK(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(eK(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(r++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(c-1));const h=c-1,d=e.currentTime,p=e.currentAnimateTimings,m=p.duration;return l.forEach((t,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*m;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:qW(this,PW(t.animation),e),options:nK(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:nK(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:nK(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==QW);e&&(t=t.replace(YW,""));return[t=t.replace(/@\*/g,wW).replace(/@\w+/g,t=>wW+"-"+t.substr(1)).replace(/:animating/g,CW),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,eW(e.collectedStyles,e.currentQuerySelector,{});const o=qW(this,PW(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:nK(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:TW(t.timings,e.errors,!0);return{type:12,animation:qW(this,PW(t.animation),e),timings:n,options:null}}}class tK{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function eK(t){return!Array.isArray(t)&&"object"==typeof t}function nK(t){var e;return t?(t=IW(t)).params&&(t.params=(e=t.params)?IW(e):null):t={},t}function rK(t,e,n){return{duration:t,delay:e,easing:n}}function iK(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class sK{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const oK=1,aK=new RegExp(":enter","g"),lK=new RegExp(":leave","g");function cK(t,e,n,r,i,s={},o={},a,l,c=[]){return(new uK).buildKeyframes(t,e,n,r,i,s,o,a,l,c)}class uK{buildKeyframes(t,e,n,r,i,s,o,a,l,c=[]){l=l||new sK;const u=new dK(t,e,l,r,i,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),qW(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[iK(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?xW(n.duration):null,s=null!=n.delay?xW(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),qW(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&((r=e.createSubContext(i)).transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=hK);const t=xW(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>qW(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?xW(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),qW(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return TW(e.params?LW(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{const n=t.offset||0;s.forwardTime(n*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?xW(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=hK);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),qW(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe();const l=o.currentTimeline.currentTime;s=Math.max(s,l)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;qW(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const hK={};class dK{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hK,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new pK(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=xW(n.duration)),null!=n.delay&&(r.delay=xW(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=LW(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new dK(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=hK,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new mK(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(aK,"."+this._enterClassName)).replace(lK,"."+this._leaveClassName);const e=1!=n;let r=this._driver.query(this.element,t,e);0!==n&&(r=n<0?r.slice(r.length+n,r.length):r.slice(0,n)),o.push(...r)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class pK{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new pK(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=oK,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||PH,this._currentKeyframe[t]=PH}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e)).forEach(t=>{n[t]=PH}):kW(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=LW(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:PH),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{const n=t[e];this._currentKeyframe[e]=n}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=kW(i,!0);Object.keys(o).forEach(n=>{const r=o[n];r==GH?t.add(n):r==PH&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?FW(t.values()):[],s=e.size?FW(e.values()):[];if(n){const t=r[0],e=IW(t);t.offset=0,e.offset=1,r=[t,e]}return iK(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class mK extends pK{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=kW(t[0],!1);a.offset=0,i.push(a);const l=kW(t[0],!1);l.offset=fK(o),i.push(l);const c=t.length-1;for(let r=1;r<=c;r++){let o=kW(t[r],!1);const a=e+o.offset*n;o.offset=fK(a/s),i.push(o)}n=s,e=0,r="",t=i}return iK(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function fK(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class gK{}class yK extends gK{normalizePropertyName(t,e){return BW(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(vK[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const vK=(()=>(function(t){const e={};return t.forEach(t=>e[t]=!0),e})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function _K(t,e,n,r,i,s,o,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const bK={};class wK{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||bK,d=o&&o.params||bK,p=this.buildStyles(n,d,u),m=a&&a.params||bK,f=this.buildStyles(r,m,u),g=new Set,y=new Map,v=new Map,_="void"===r,b={params:Object.assign({},h,m)},w=c?[]:cK(t,e,this.ast.animation,i,s,p,f,b,l,u);let E=0;if(w.forEach(t=>{E=Math.max(t.duration+t.delay,E)}),u.length)return _K(e,this._triggerName,n,r,_,p,f,[],[],y,v,E,u);w.forEach(t=>{const n=t.element,r=eW(y,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=eW(v,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const C=FW(g.values());return _K(e,this._triggerName,n,r,_,p,f,w,C,y,v,E)}}class EK{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=IW(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=LW(s,r,e)),n[t]=s})}}),n}}class CK{constructor(t,e){var n,r;this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{const e=t.options&&t.options.params||{};this.states[t.name]=new EK(t.style,e)}),xK(this.states,"true","1"),xK(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new wK(t,e,this.states))}),this.fallbackTransition=(n=t,r=this.states,new wK(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},r))}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function xK(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const SK=new sK;class TK{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=XW(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=XH(this._driver,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=cK(this._driver,e,i,vW,_W,{},{},n,SK,r)).forEach(t=>{const e=eW(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,PH)})});const a=YH(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=tW(e,"","","");return ZH(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n){const n=r[0]||{};return void this.create(t,e,n)}const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const IK="ng-animate-queued",kK=".ng-animate-queued",AK="ng-animate-disabled",DK=".ng-animate-disabled",NK="ng-star-inserted",OK=".ng-star-inserted",PK=[],RK={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},MK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};const LK="__ng_removed";class FK{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value"),r=n?t.value:t;if(this.value=function(t){return null!=t?t:null}(r),n){const e=IW(t);delete e.value,this.options=e}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const VK="void",BK=new FK(VK);class jK{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,GK(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=eW(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=eW(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(GK(t,bW),GK(t,bW+"-"+e),a[e]=BK),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new qK(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(GK(t,bW),GK(t,bW+"-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new FK(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=BK),!(l.value===VK)&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{OW(t,n),NW(t,r)})}return}const c=eW(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(GK(t,IK),s.onStart(()=>{QK(t,IK)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,wW,!0).forEach(t=>{if(t[LK])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,VK,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&YH(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||BK,o=new FK(VK),a=new qK(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;){if(n.statesByElement.get(e)){r=!0;break}}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){GK(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=tW(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,ZH(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e}}class UK{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new jK(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--){const n=this._namespaceList[i];if(this.driver.containsElement(n.hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(zK(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!zK(e))return;const i=e[LK];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),GK(t,AK)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),QK(t,AK))}removeNode(t,e,n,r){if(zK(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e[LK]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return zK(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,wW,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,CW,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return YH(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[LK];if(e&&e.setForRemoval){if(t[LK]=RK,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,DK)&&this.markElementAsDisabled(t,!1),this.driver.query(t,DK,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){GK(this.collectedEnterElements[n],NK)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){const t=this.collectedLeaveElements[n];this.processLeaveNode(t)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?YH(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new sK,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,kK,!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=WK(h,this.collectedEnterElements),p=new Map;let m=0;d.forEach((t,e)=>{const n=vW+m++;p.set(e,n),t.forEach(t=>GK(t,n))});const f=[],g=new Set,y=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){const t=this.collectedLeaveElements[D],e=t[LK];e&&e.setForRemoval&&(f.push(t),g.add(t),e.hasAnimation?this.driver.query(t,OK,!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,_=WK(h,Array.from(g));_.forEach((t,e)=>{const n=_W+m++;v.set(e,n),t.forEach(t=>GK(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>QK(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>QK(t,n))}),f.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let D=this._namespaceList.length-1;D>=0;D--){this._namespaceList[D].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i[LK];if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,i),h=v.get(i),d=p.get(i),m=this._buildInstruction(t,n,d,h,c);if(m.errors&&m.errors.length)return void w.push(m);if(c)return e.onStart(()=>OW(i,m.fromStyles)),e.onDestroy(()=>NW(i,m.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>OW(i,m.fromStyles)),e.onDestroy(()=>NW(i,m.toStyles)),void r.push(e);m.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,m.timelines);const f={instruction:m,player:e,element:i};s.push(f),m.queriedElements.forEach(t=>eW(o,t,[]).push(e)),m.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),m.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))})})}if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{eW(E,e,[]).push(t),t.destroy()})});const x=f.filter(t=>XK(t,a,l)),S=new Map;HK(S,this.driver,y,l,PH).forEach(t=>{XK(t,a,l)&&x.push(t)});const T=new Map;d.forEach((t,e)=>{HK(T,this.driver,new Set(t),a,GH)}),x.forEach(t=>{const e=S.get(t),n=T.get(t);S.set(t,Object.assign({},e,n))});const I=[],k=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>NW(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,T,S);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=YH(e)),r.push(s)}}else OW(e,o.fromStyles),s.onDestroy(()=>NW(e,o.toStyles)),k.push(s),c.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=YH(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let D=0;D<f.length;D++){const t=f[D],e=t[LK];if(QK(t,_W),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,CW,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?YK(this,t,r):this.processLeaveNode(t)}return f.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e[LK];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==VK;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>(!n||n==t.namespaceId)&&(!r||r==t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.triggerName,i=e.element,s=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:r;for(const a of e.timelines){const t=a.element,r=t!==i,l=eW(n,t,[]);this._getPreviousPlayers(t,r,s,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}OW(i,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h[LK];if(d&&d.removedBeforeQueried)return new WH(e.duration,e.delay);const p=h!==a,m=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof KH?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||PK).map(t=>t.getRealPlayer())).filter(t=>{const e=t;return!!e.element&&e.element===h}),f=i.get(h),g=s.get(h),y=XH(this.driver,this._normalizer,0,e.keyframes,f,g),v=this._buildPlayer(e,y,m);if(e.subTimeline&&r&&u.add(h),p){const e=new qK(t,o,h);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{eW(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e)){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r})(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>GK(t,EW));const d=YH(h);return d.onDestroy(()=>{c.forEach(t=>QK(t,EW)),NW(a,e.toStyles)}),u.forEach(t=>{eW(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new WH(t.duration,t.delay)}}class qK{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new WH,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>ZH(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){eW(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function zK(t){return t&&1===t.nodeType}function $K(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function HK(t,e,n,r,i){const s=[];n.forEach(t=>s.push($K(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[LK]=MK,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>$K(t,s[a++])),o}function WK(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=1,i=new Set(e),s=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return r;let o=s.get(e);if(o)return o;const a=e.parentNode;return o=n.has(a)?a:i.has(a)?r:t(a),s.set(e,o),o}(t);e!==r&&n.get(e).push(t)}),n}const KK="$$classes";function GK(t,e){if(t.classList)t.classList.add(e);else{let n=t[KK];n||(n=t[KK]={}),n[e]=!0}}function QK(t,e){if(t.classList)t.classList.remove(e);else{let n=t[KK];n&&delete n[e]}}function YK(t,e,n){YH(n).onDone(()=>t.processLeaveNode(e))}function XK(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class ZK{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new UK(t,e,n),this._timelineEngine=new TK(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=XW(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new CK(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=nW(n),s=r;this._timelineEngine.command(t,e,i,s)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=nW(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function JK(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=eG(e[0]),e.length>1&&(r=eG(e[e.length-1]))):e&&(n=eG(e)),n||r?new tG(t,n,r):null}class tG{constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n,this._state=0;let r=tG.initialStylesByElement.get(t);r||tG.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&NW(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(NW(this._element,this._initialStyles),this._endStyles&&(NW(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(tG.initialStylesByElement.delete(this._element),this._startStyles&&(OW(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(OW(this._element,this._endStyles),this._endStyles=null),NW(this._element,this._initialStyles),this._state=3)}}tG.initialStylesByElement=new WeakMap;function eG(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];nG(i)&&((e=e||{})[i]=t[i])}return e}function nG(t){return"display"===t||"position"===t}const rG=3,iG="animation",sG="animationend",oG=1e3;class aG{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=pG(t,"").trim();let r=0;n.length&&(r=function(t,e){let n=0;for(let r=0;r<t.length;r++){t.charAt(r)===e&&n++}return n}(n,",")+1,e=`${n}, ${e}`);dG(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),hG(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){lG(this._element,this._name,"paused")}resume(){lG(this._element,this._name,"running")}setPosition(t){const e=cG(this._element,this._name);this._position=t*this._duration,dG(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(rG))*oG;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),hG(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=pG(t,"").split(","),r=uG(n,e);if(r>=0){n.splice(r,1);const e=n.join(",");dG(t,"",e)}}(this._element,this._name))}}function lG(t,e,n){dG(t,"PlayState",n,cG(t,e))}function cG(t,e){const n=pG(t,"");if(n.indexOf(",")>0){return uG(n.split(","),e)}return uG([n],e)}function uG(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function hG(t,e,n){n?t.removeEventListener(sG,e):t.addEventListener(sG,e)}function dG(t,e,n,r){const i=iG+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function pG(t,e){return t.style[iG+e]}const mG="forwards",fG="linear";class gG{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||fG,this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){if(this._state>=1)return;this._state=1;this.element;this._styler.apply(),this._delay&&this._styler.pause()}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new aG(this.element,this.animationName,this._duration,this._delay,this.easing,mG,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:zW(this.element,n))})}this.currentSnapshot=t}}class yG extends WH{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=pW(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const vG="gen_css_kf_",_G=" ";class bG{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return cW(t)}matchesElement(t,e){return uW(t,e)}containsElement(t,e){return hW(t,e)}query(t,e,n){return dW(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>pW(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=_G;const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=_G,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof gG),l={};jW(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};if(t){(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})})}return e}(e=UW(t,e,l));if(0==n)return new yG(t,c);const u=`${vG}${this._count++}`,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=JK(t,e),p=new gG(t,e,u,n,r,i,c,d);return p.onDestroy(()=>(function(t){t.parentNode.removeChild(t)})(h)),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class wG{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:zW(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class EG{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(CG().toString()),this._cssKeyframesDriver=new bG}validateStyleProperty(t){return cW(t)}matchesElement(t,e){return uW(t,e)}containsElement(t,e){return hW(t,e)}query(t,e,n){return dW(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(t=>t instanceof wG);jW(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=JK(t,e=UW(t,e=e.map(t=>kW(t,!1)),l));return new wG(t,e,a,u)}}function CG(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class xG extends NH{constructor(t,e){super(),this._nextAnimationId=0;const n={id:"0",encapsulation:ye.None,styles:[],data:{animation:[]}};this._renderer=t.createRenderer(e.body,n)}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?FH(t):t;return IG(this._renderer,null,e,"register",[n]),new SG(e,this._renderer)}}xG.decorators=[{type:Ul}],xG.ctorParameters=()=>[{type:Dd},{type:void 0,decorators:[{type:ft,args:[bV]}]}];class SG extends OH{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new TG(this._id,t,e||{},this._renderer)}}class TG{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return IG(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function IG(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const kG="@",AG="@.disabled";class DG{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new NG("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,t),e.data.animation.forEach(e=>this.engine.registerTrigger(r,i,t,e.name,e)),new OG(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}DG.decorators=[{type:Ul}],DG.ctorParameters=()=>[{type:Dd},{type:ZK},{type:Vy}];class NG{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==kG&&e==AG?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class OG extends NG{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==kG?"."==e.charAt(1)&&e==AG?(n=void 0===n||!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==kG){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=kG&&([i,s]=function(t){const e=t.indexOf("."),n=t.substring(0,e),r=t.substr(e+1);return[n,r]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{const e=t._data||-1;this.factory.scheduleListenerCallback(e,n,t)})}return this.delegate.listen(t,e,n)}}class PG extends ZK{constructor(t,e,n){super(t.body,e,n)}}PG.decorators=[{type:Ul}],PG.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[bV]}]},{type:fW},{type:gK}];const RG=new jt("AnimationModuleType"),MG=[{provide:NH,useClass:xG},{provide:gK,useFactory:function(){return new yK}},{provide:ZK,useClass:PG},{provide:Dd,useFactory:function(t,e,n){return new DG(t,e,n)},deps:[oB,ZK,Vy]}],LG=[{provide:fW,useFactory:function(){return"function"==typeof CG()?new EG:new bG}},{provide:RG,useValue:"BrowserAnimations"},...MG],FG=[{provide:fW,useClass:mW},{provide:RG,useValue:"NoopAnimations"},...MG];class VG{}VG.decorators=[{type:oy,args:[{exports:[HB],providers:LG}]}];(class{}).decorators=[{type:oy,args:[{exports:[HB],providers:FG}]}];var BG=RH("flyInOut",[UH("void => *",[VH({transform:"scale(0) translateX(15px)",opacity:1}),MH("1s cubic-bezier(0.3, 1, 0.32, 1)")]),UH("* => void",[MH("0.8s cubic-bezier(0.3, 1, 0.32, 1)",VH({transform:"scaleX(1) translateX(15px)",opacity:0}))])]),jG=function(){function t(t,e){this.elementRef=t,this.renderer=e}return t.prototype.ngOnInit=function(){this.success=this.type===UG.Success,this.error=this.type===UG.Error},t}();jG.decorators=[{type:Xg,args:[{selector:"notyf-toast",template:"{{message}}",animations:[BG],styles:[':host { background: #323232; display: block; color: white; padding: 1rem 1rem; margin: 1rem 1rem; border-radius: 10px; box-shadow: 0 6px 6px rgba(0, 0, 0, 0.34); transform-origin: right; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; } :host(.notyf--error) { background: #d43f3a; } :host(.notyf--success) { background: #4cae4c; }']}]}],jG.ctorParameters=function(){return[{type:Id},{type:Ad}]},jG.propDecorators={message:[{type:Jg}],type:[{type:Jg}],success:[{type:ey,args:["class.notyf--success"]}],error:[{type:ey,args:["class.notyf--error"]}],animation:[{type:ey,args:["@flyInOut"]}]};var UG={Success:0,Error:1};UG[UG.Success]="Success",UG[UG.Error]="Error";var qG=function(){function t(t,e){this.elementRef=t,this.renderer=e}return t.prototype.ngOnInit=function(){},t}();qG.decorators=[{type:Xg,args:[{selector:"notyf-toast-container",template:"<ng-content></ng-content>",styles:[":host {  display: block; position: absolute; bottom: 0; right: 0; width: 20rem; }"]}]}],qG.ctorParameters=function(){return[{type:Id},{type:Ad}]};var zG=function(){function t(t,e,n){this.componentFactoryResolver=t,this.appRef=e,this.injector=n}return t.prototype.createComponentRef=function(t){var e=this.componentFactoryResolver.resolveComponentFactory(t).create(this.injector);return this.appRef.attachView(e.hostView),e},t.prototype.getDomElementFromComponentRef=function(t){return t.hostView.rootNodes[0]},t.prototype.addChild=function(t,e){void 0===e&&(e=document.body),e.appendChild(t)},t.prototype.destroyRef=function(t,e){var n=this;setTimeout(function(){n.appRef.detachView(t.hostView),t.destroy()},e)},t.prototype.setDynamicStyles=function(t,e){Object.keys(t).forEach(function(n){var r=t[n];e.instance.renderer.setElementStyle(e.instance.elementRef.nativeElement,n,r)})},t}();zG.decorators=[{type:Ul}],zG.ctorParameters=function(){return[{type:Cd},{type:rv},{type:Ql}]};var $G=function(){function t(t){this.domService=t,this._toastDelay=4e3,this._toastStyle={},this._toastContainerStyle={},this.defaultSuccessMessages=["\u{1f47b}\u{1f47b}\u{1f47b} It just works! \u{1f47b}\u{1f47b}\u{1f47b}","\u{1f44c} I can't believe it, is that easy? \u{1f631}","\u{1f389} Woohoo! \u{1f389}","It's me again! \u{1f60f}","\u{1f63a} Meow... \u{1f63a}"],this.defaultErrorMessages=["Something went wrong \u{1f630}\u{1f630}\u{1f630}","Oops! \u{1f480} Our server is dead \u{1f480}","Your internet connection is \u{1f4a9}","\u{1f926} Please fill the form correctly \u{1f926} (Not saying it again)"],this.toastContainerRef=this.domService.createComponentRef(qG),this.toastContainerElement=this.domService.getDomElementFromComponentRef(this.toastContainerRef),this.domService.addChild(this.toastContainerElement)}return t.prototype.success=function(t){void 0===t&&(t=this.defaultSuccessMessages.shift()),this.defaultSuccessMessages.push(t),this.addToast(t,UG.Success)},t.prototype.error=function(t){void 0===t&&(t=this.defaultErrorMessages.shift()),this.defaultErrorMessages.push(t),this.addToast(t,UG.Error)},t.prototype.addToast=function(t,e){var n=this.domService.createComponentRef(jG);this.domService.setDynamicStyles(this.toastStyle,n),n.instance.message=t,n.instance.type=e;var r=this.domService.getDomElementFromComponentRef(n);this.domService.addChild(r,this.toastContainerElement),this.domService.destroyRef(n,this.toastDelay)},Object.defineProperty(t.prototype,"toastDelay",{get:function(){return this._toastDelay},set:function(t){this._toastDelay=t>0?t:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toastStyle",{get:function(){return this._toastStyle},set:function(t){this._toastStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toastContainerStyle",{get:function(){return this._toastContainerStyle},set:function(t){this._toastContainerStyle=t,this.domService.setDynamicStyles(this.toastContainerStyle,this.toastContainerRef)},enumerable:!0,configurable:!0}),t}();$G.decorators=[{type:Ul}],$G.ctorParameters=function(){return[{type:zG}]};var HG=function(){};HG.decorators=[{type:oy,args:[{imports:[vV,HB,VG],declarations:[jG,qG],exports:[],entryComponents:[jG,qG],providers:[$G,zG]}]}],HG.ctorParameters=function(){return[]};let WG=class{constructor(t,e,n,r,i){this.afs=t,this.afAuth=e,this.router=n,this.ngZone=r,this.notyf=i,this.afAuth.authState.subscribe(t=>{t?(this.userData=t,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")),localStorage.setItem("bookmarks",null),JSON.parse(localStorage.getItem("bookmarks")))})}update(){this.afAuth.auth.updateCurrentUser(this.userData)}SignIn(t,e){return this.afAuth.auth.signInWithEmailAndPassword(t,e).then(t=>{this.ngZone.run(()=>{this.router.navigate(["/profile"])}),this.SetUserData(t.user),this.notyf.success("Welcome!")}).catch(t=>{this.notyf.error(t.message)})}SignUp(t,e){return this.afAuth.auth.createUserWithEmailAndPassword(t,e).then(t=>{this.SendVerificationMail(),this.SetUserData(t.user)}).catch(t=>{this.notyf.error(t.message)}).catch(t=>{this.notyf.error(t.credentials)})}SendVerificationMail(){return this.afAuth.auth.currentUser.sendEmailVerification().then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(t){return this.afAuth.auth.sendPasswordResetEmail(t).then(()=>{this.notyf.success("The email has been sent check your inbox")}).catch(t=>{this.notyf.error(t.message)})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}SetUserData(t){const e=this.afs.doc(`users/${t.uid}`),n={uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified};return e.set(n,{merge:!0})}SignOut(){return this.afAuth.auth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["/login"])})}};function KG(){throw Error("Host already has a portal attached")}WG.ctorParameters=()=>[{type:DH},{type:hH},{type:g$},{type:Vy},{type:$G}],WG=r.__decorate([Ul({providedIn:"root"})],WG);class GG{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&KG(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class QG extends GG{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class YG extends GG{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class XG{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&KG(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof QG?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof YG?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ZG extends XG{constructor(t,e,n,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class JG extends YG{constructor(t,e){super(t,e)}}JG.decorators=[{type:Yg,args:[{selector:"[cdkPortal]",exportAs:"cdkPortal"}]}],JG.ctorParameters=()=>[{type:Zd},{type:tp}];class tQ extends JG{}tQ.decorators=[{type:Yg,args:[{selector:"[cdk-portal], [portal]",exportAs:"cdkPortal",providers:[{provide:JG,useExisting:tQ}]}]}];class eQ extends XG{constructor(t,e){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new xg}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}}eQ.decorators=[{type:Yg,args:[{selector:"[cdkPortalOutlet]",exportAs:"cdkPortalOutlet",inputs:["portal: cdkPortalOutlet"]}]}],eQ.ctorParameters=()=>[{type:Cd},{type:tp}],eQ.propDecorators={attached:[{type:ty}]};class nQ extends eQ{}nQ.decorators=[{type:Yg,args:[{selector:"[cdkPortalHost], [portalHost]",exportAs:"cdkPortalHost",inputs:["portal: cdkPortalHost"],providers:[{provide:eQ,useExisting:nQ}]}]}];class rQ{}rQ.decorators=[{type:oy,args:[{exports:[JG,eQ,tQ,nQ],declarations:[JG,eQ,tQ,nQ]}]}];class iQ{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}const sQ=8,oQ=9,aQ=13,lQ=27,cQ=32,uQ=35,hQ=36,dQ=37,pQ=38,mQ=39,fQ=40,gQ=46,yQ=48,vQ=57,_Q=65,bQ=90;function wQ(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}const EQ=new Y$(G$);function CQ(t,e=EQ){return n=>n.lift(new xQ(t,e))}class xQ{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new SQ(t,this.dueTime,this.scheduler))}}class SQ extends g{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(TQ,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function TQ(t){t.debouncedNext()}let IQ,kQ;try{IQ="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t7){IQ=!1}class AQ{constructor(t){this._platformId=t,this.isBrowser=this._platformId?this._platformId===wV:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!IQ)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}AQ.decorators=[{type:Ul,args:[{providedIn:"root"}]}],AQ.ctorParameters=()=>[{type:Object,decorators:[{type:gt},{type:ft,args:[my]}]}],AQ.ngInjectableDef=xt({factory:function(){return new AQ(Jt(my,8))},token:AQ,providedIn:"root"});class DQ{}DQ.decorators=[{type:oy,args:[{}]}];const NQ=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function OQ(){if(kQ)return kQ;if("object"!=typeof document||!document)return kQ=new Set(NQ);let t=document.createElement("input");return kQ=new Set(NQ.filter(e=>(t.setAttribute("type",e),t.type===e)))}let PQ;function RQ(t){return function(){if(null==PQ&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>PQ=!0}))}finally{PQ=PQ||!1}return PQ}()?t:!!t.capture}const MQ={NORMAL:0,NEGATED:1,INVERTED:2};let LQ;function FQ(){if("object"!=typeof document||!document)return MQ.NORMAL;if(!LQ){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),LQ=MQ.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,LQ=0===t.scrollLeft?MQ.NEGATED:MQ.INVERTED),t.parentNode.removeChild(t)}return LQ}function VQ(t){return null!=t&&"false"!==`${t}`}function BQ(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function jQ(t){return Array.isArray(t)?t:[t]}function UQ(t){return null==t?"":"string"==typeof t?t:`${t}px`}function qQ(t){return t instanceof Id?t.nativeElement:t}MQ[MQ.NORMAL]="NORMAL",MQ[MQ.NEGATED]="NEGATED",MQ[MQ.INVERTED]="INVERTED";class zQ{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}zQ.decorators=[{type:Ul,args:[{providedIn:"root"}]}],zQ.ngInjectableDef=xt({factory:function(){return new zQ},token:zQ,providedIn:"root"});class $Q{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=qQ(t);return new E(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new k,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}$Q.decorators=[{type:Ul,args:[{providedIn:"root"}]}],$Q.ctorParameters=()=>[{type:zQ}],$Q.ngInjectableDef=xt({factory:function(){return new $Q(Jt(zQ))},token:$Q,providedIn:"root"});class HQ{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new xg,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=VQ(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=BQ(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(CQ(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}HQ.decorators=[{type:Yg,args:[{selector:"[cdkObserveContent]",exportAs:"cdkObserveContent"}]}],HQ.ctorParameters=()=>[{type:$Q},{type:Id},{type:Vy}],HQ.propDecorators={event:[{type:ty,args:["cdkObserveContent"]}],disabled:[{type:Jg,args:["cdkObserveContentDisabled"]}],debounce:[{type:Jg}]};class WQ{}WQ.decorators=[{type:oy,args:[{exports:[HQ],declarations:[HQ],providers:[zQ]}]}];const KQ=" ";function GQ(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const QQ="cdk-describedby-message-container",YQ="cdk-describedby-message",XQ="cdk-describedby-host";let ZQ=0;const JQ=new Map;let tY=null;class eY{constructor(t){this._document=t}describe(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),JQ.set(e,{messageElement:e,referenceCount:0})):JQ.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){const t=JQ.get(e);t&&0===t.referenceCount&&this._deleteMessageElement(e)}tY&&0===tY.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const t=this._document.querySelectorAll(`[${XQ}]`);for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute(XQ);tY&&this._deleteMessagesContainer(),JQ.clear()}_createMessageElement(t){const e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),tY.appendChild(e),JQ.set(t,{messageElement:e,referenceCount:0})}_setMessageId(t){t.id||(t.id=`${YQ}-${ZQ++}`)}_deleteMessageElement(t){const e=JQ.get(t),n=e&&e.messageElement;tY&&n&&tY.removeChild(n),JQ.delete(t)}_createMessagesContainer(){if(!tY){const t=this._document.getElementById(QQ);t&&t.parentNode.removeChild(t),(tY=this._document.createElement("div")).id=QQ,tY.setAttribute("aria-hidden","true"),tY.style.display="none",this._document.body.appendChild(tY)}}_deleteMessagesContainer(){tY&&tY.parentNode&&(tY.parentNode.removeChild(tY),tY=null)}_removeCdkDescribedByReferenceIds(t){const e=GQ(t,"aria-describedby").filter(t=>0!=t.indexOf(YQ));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=JQ.get(e);!function(t,e,n){const r=GQ(t,e);r.some(t=>t.trim()==n.trim())||(r.push(n.trim()),t.setAttribute(e,r.join(KQ)))}(t,"aria-describedby",n.messageElement.id),t.setAttribute(XQ,""),n.referenceCount++}_removeMessageReference(t,e){const n=JQ.get(e);n.referenceCount--,function(t,e,n){const r=GQ(t,e).filter(t=>t!=n.trim());t.setAttribute(e,r.join(KQ))}(t,"aria-describedby",n.messageElement.id),t.removeAttribute(XQ)}_isElementDescribedByMessage(t,e){const n=GQ(t,"aria-describedby"),r=JQ.get(e),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),r=t.getAttribute("aria-label");return!!n&&(!r||r.trim()!==n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}eY.decorators=[{type:Ul,args:[{providedIn:"root"}]}],eY.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[bV]}]}],eY.ngInjectableDef=xt({factory:function(){return new eY(Jt(bV))},token:eY,providedIn:"root"});new gt,new vt;class nY{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new k,this._typeaheadSubscription=p.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new k,this.change=new k,t instanceof Tg&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(yU(t=>this._pressedLetters.push(t)),CQ(t),fj(()=>this._pressedLetters.length>0),q(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case oQ:return void this.tabOut.next();case fQ:if(this._vertical&&n){this.setNextItemActive();break}return;case pQ:if(this._vertical&&n){this.setPreviousItemActive();break}return;case mQ:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case dQ:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||wQ(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=_Q&&e<=bQ||e>=yQ&&e<=vQ)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}updateActiveItemIndex(t){this.updateActiveItem(t)}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length,i=e[r];if(!this._skipPredicateFn(i))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Tg?this._items.toArray():this._items}}class rY extends nY{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class iY extends nY{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}class sY{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(t7){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===aY(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=aY(t);if(t.hasAttribute("contenteditable"))return-1!==i;if("iframe"===r)return!1;if("audio"===r){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&(!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0)}isFocusable(t){return function(t){if(function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t))return!1;return function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||oY(t)}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}function oY(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function aY(t){if(!oY(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}sY.decorators=[{type:Ul,args:[{providedIn:"root"}]}],sY.ctorParameters=()=>[{type:AQ}],sY.ngInjectableDef=xt({factory:function(){return new sY(Jt(AQ))},token:sY,providedIn:"root"});class lY{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),vs()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(kU(1)).subscribe(t)}}class cY{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new lY(t,this._checker,this._ngZone,this._document,e)}}cY.decorators=[{type:Ul,args:[{providedIn:"root"}]}],cY.ctorParameters=()=>[{type:sY},{type:Vy},{type:void 0,decorators:[{type:ft,args:[bV]}]}],cY.ngInjectableDef=xt({factory:function(){return new cY(Jt(sY),Jt(Vy),Jt(bV))},token:cY,providedIn:"root"});class uY{constructor(t,e,n){this._elementRef=t,this._focusTrapFactory=e,this._previouslyFocusedElement=null,this._document=n,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=VQ(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=VQ(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&(this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady())}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}}uY.decorators=[{type:Yg,args:[{selector:"[cdkTrapFocus]",exportAs:"cdkTrapFocus"}]}],uY.ctorParameters=()=>[{type:Id},{type:cY},{type:void 0,decorators:[{type:ft,args:[bV]}]}],uY.propDecorators={enabled:[{type:Jg,args:["cdkTrapFocus"]}],autoCapture:[{type:Jg,args:["cdkTrapFocusAutoCapture"]}]};const hY=new jt("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}});const dY=new jt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");class pY{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}pY.decorators=[{type:Ul,args:[{providedIn:"root"}]}],pY.ctorParameters=()=>[{type:void 0,decorators:[{type:gt},{type:ft,args:[hY]}]},{type:Vy},{type:void 0,decorators:[{type:ft,args:[bV]}]},{type:void 0,decorators:[{type:gt},{type:ft,args:[dY]}]}],pY.ngInjectableDef=xt({factory:function(){return new pY(Jt(hY,8),Jt(Vy),Jt(bV),Jt(dY,8))},token:pY,providedIn:"root"});class mY{constructor(t,e,n,r){this._elementRef=t,this._liveAnnouncer=e,this._contentObserver=n,this._ngZone=r,this._politeness="off"}get politeness(){return this._politeness}set politeness(t){this._politeness="polite"===t||"assertive"===t?t:"off","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const t=this._elementRef.nativeElement.textContent;t!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(t,this._politeness),this._previousAnnouncedText=t)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}mY.decorators=[{type:Yg,args:[{selector:"[cdkAriaLive]",exportAs:"cdkAriaLive"}]}],mY.ctorParameters=()=>[{type:Id},{type:pY},{type:$Q},{type:Vy}],mY.propDecorators={politeness:[{type:Jg,args:["cdkAriaLive"]}]};new gt,new vt,new gt,new ft(hY);const fY=650,gY=RQ({passive:!0,capture:!0});class yY{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,fY)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)}}monitor(t,e=!1){if(!this._platform.isBrowser)return pj(null);const n=qQ(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let r={unlisten:()=>{},checkChildren:e,subject:new k};this._elementInfo.set(n,r),this._incrementMonitoredElementCount();let i=t=>this._onFocus(t,n),s=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",i,!0),n.addEventListener("blur",s,!0)}),r.unlisten=()=>{n.removeEventListener("focus",i,!0),n.removeEventListener("blur",s,!0)},r.subject.asObservable()}stopMonitoring(t){const e=qQ(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const r=qQ(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,gY),document.addEventListener("mousedown",this._documentMousedownListener,gY),document.addEventListener("touchstart",this._documentTouchstartListener,gY),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,gY),document.removeEventListener("mousedown",this._documentMousedownListener,gY),document.removeEventListener("touchstart",this._documentTouchstartListener,gY),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}yY.decorators=[{type:Ul,args:[{providedIn:"root"}]}],yY.ctorParameters=()=>[{type:Vy},{type:AQ}],yY.ngInjectableDef=xt({factory:function(){return new yY(Jt(Vy),Jt(AQ))},token:yY,providedIn:"root"});class vY{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new xg,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}vY.decorators=[{type:Yg,args:[{selector:"[cdkMonitorElementFocus], [cdkMonitorSubtreeFocus]"}]}],vY.ctorParameters=()=>[{type:Id},{type:yY}],vY.propDecorators={cdkFocusChange:[{type:ty}]};new gt,new vt;function _Y(t){return 0===t.buttons}class bY{}bY.decorators=[{type:oy,args:[{imports:[vV,DQ,WQ],declarations:[mY,uY,vY],exports:[mY,uY,vY]}]}];const wY=new jt("cdk-dir-doc",{providedIn:"root",factory:function(){return te(bV)}});class EY{constructor(t){if(this.value="ltr",this.change=new xg,t){const e=t.body?t.body.dir:null,n=t.documentElement?t.documentElement.dir:null,r=e||n;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}EY.decorators=[{type:Ul,args:[{providedIn:"root"}]}],EY.ctorParameters=()=>[{type:void 0,decorators:[{type:gt},{type:ft,args:[wY]}]}],EY.ngInjectableDef=xt({factory:function(){return new EY(Jt(wY,8))},token:EY,providedIn:"root"});class CY{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new xg}get dir(){return this._dir}set dir(t){const e=this._dir,n=t?t.toLowerCase():t;this._rawDir=t,this._dir="ltr"===n||"rtl"===n?n:"ltr",e!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}CY.decorators=[{type:Yg,args:[{selector:"[dir]",providers:[{provide:EY,useExisting:CY}],host:{"[attr.dir]":"_rawDir"},exportAs:"dir"}]}],CY.propDecorators={change:[{type:ty,args:["dirChange"]}],dir:[{type:Jg}]};class xY{}xY.decorators=[{type:oy,args:[{exports:[CY],declarations:[CY]}]}];Object.prototype.toString;function SY(t,e,n,r){return i(n)&&(r=n,n=void 0),r?SY(t,e,n).pipe(q(t=>c(t)?r(...t):r(t))):new E(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)},r,n)})}const TY=new class extends Y${flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends G${constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let IY=1;const kY={};const AY={setImmediate(t){const e=IY++;return kY[e]=t,Promise.resolve().then(()=>(function(t){const e=kY[t];e&&e()})(e)),e},clearImmediate(t){delete kY[t]}};const DY=new class extends Y${flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends G${constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=AY.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(AY.clearImmediate(e),t.scheduled=void 0)}});function NY(t,e){return n=>n.lift(new OY(t,e))}class OY{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new PY(t,this.compare,this.keySelector))}}class PY extends g{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class RY{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new MY(t,this.durationSelector))}}class MY extends U{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:r}=this;n=r(t)}catch(e){return this.destination.error(e)}const r=j(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function LY(t){return!c(t)&&t-parseFloat(t)+1>=0}function FY(t=0,e,n){let r=-1;return LY(e)?r=Number(e)<1?1:Number(e):D(e)&&(n=e),D(n)||(n=EQ),new E(e=>{const i=LY(t)?t:+t-n.now();return n.schedule(VY,i,{index:0,period:r,subscriber:e})})}function VY(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function BY(t,e=EQ){return n=()=>FY(t,e),function(t){return t.lift(new RY(n))};var n}function jY(t){return e=>e.lift(new UY(t))}class UY{constructor(t){this.notifier=t}call(t,e){const n=new qY(t),r=j(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class qY extends U{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}class zY{call(t,e){return e.subscribe(new $Y(t))}}class $Y extends g{constructor(t){super(t),this.hasPrev=!1}_next(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t}}function HY(t,e){return new E(e?n=>e.schedule(WY,0,{error:t,subscriber:n}):e=>e.error(t))}function WY({error:t,subscriber:e}){e.error(t)}var KY;!function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(KY||(KY={}));class GY{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return pj(this.value);case"E":return HY(this.error);case"C":return hj()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new GY("N",t):GY.undefinedValueNotification}static createError(t){return new GY("E",void 0,t)}static createComplete(){return GY.completeNotification}}GY.completeNotification=new GY("C"),GY.undefinedValueNotification=new GY("N",void 0);class QY extends g{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(QY.dispatch,this.delay,new YY(t,this.destination)))}_next(t){this.scheduleMessage(GY.createNext(t))}_error(t){this.scheduleMessage(GY.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(GY.createComplete()),this.unsubscribe()}}class YY{constructor(t,e){this.notification=t,this.destination=e}}class XY extends k{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new ZY(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new S;if(this.isStopped||this.hasError?s=p.EMPTY:(this.observers.push(t),s=new T(this,t)),r&&t.add(t=new QY(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||X$).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class ZY{constructor(t,e){this.time=t,this.value=e}}function JY(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,l=!1;return function(c){o++,i&&!a||(a=!1,i=new XY(t,e,r),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){l=!0,i.complete()}}));const u=i.subscribe(this);this.add(()=>{o--,u.unsubscribe(),s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}class tX{}class eX extends tX{constructor(t){super(),this._data=t}connect(){return this._data instanceof E?this._data:pj(this._data)}disconnect(){}}class nX{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new k,this.onChange=this.changed,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}class rX{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}rX.decorators=[{type:Ul,args:[{providedIn:"root"}]}],rX.ngInjectableDef=xt({factory:function(){return new rX},token:rX,providedIn:"root"});const iX=new jt("VIRTUAL_SCROLL_STRATEGY");class sX{constructor(t,e,n){this._scrolledIndexChange=new k,this.scrolledIndexChange=this._scrolledIndexChange.pipe(NY()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,n){if(n<e)throw Error("CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx");this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.measureScrollOffset(),e=t/this._itemSize,n=this._viewport.getRenderedRange(),r={start:n.start,end:n.end},i=this._viewport.getViewportSize(),s=this._viewport.getDataLength(),o=t-r.start*this._itemSize;if(o<this._minBufferPx&&0!=r.start){const t=Math.ceil((this._maxBufferPx-o)/this._itemSize);r.start=Math.max(0,r.start-t),r.end=Math.min(s,Math.ceil(e+(i+this._minBufferPx)/this._itemSize))}else{const n=r.end*this._itemSize-(t+i);if(n<this._minBufferPx&&r.end!=s){const t=Math.ceil((this._maxBufferPx-n)/this._itemSize);t>0&&(r.end=Math.min(s,r.end+t),r.start=Math.max(0,Math.floor(e-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(r),this._viewport.setRenderedContentOffset(this._itemSize*r.start),this._scrolledIndexChange.next(Math.floor(e))}}class oX{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new sX(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=BQ(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=BQ(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=BQ(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}oX.decorators=[{type:Yg,args:[{selector:"cdk-virtual-scroll-viewport[itemSize]",providers:[{provide:iX,useFactory:function(t){return t._scrollStrategy},deps:[Ot(()=>oX)]}]}]}],oX.propDecorators={itemSize:[{type:Jg}],minBufferPx:[{type:Jg}],maxBufferPx:[{type:Jg}]};const aX=20;class lX{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new k,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=aX){return this._platform.isBrowser?new E(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(BY(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):pj()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(fj(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>SY(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}lX.decorators=[{type:Ul,args:[{providedIn:"root"}]}],lX.ctorParameters=()=>[{type:Vy},{type:AQ}],lX.ngInjectableDef=xt({factory:function(){return new lX(Jt(Vy),Jt(AQ))},token:lX,providedIn:"root"});new gt,new vt;class cX{constructor(t,e,n,r){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=r,this._destroyed=new k,this._elementScrolled=new E(t=>this.ngZone.runOutsideAngular(()=>SY(this.elementRef.nativeElement,"scroll").pipe(jY(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;t.left=null==t.left?n?t.end:t.start:t.left,t.right=null==t.right?n?t.start:t.end:t.right,null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&FQ()!=MQ.NORMAL?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),FQ()==MQ.INVERTED?t.left=t.right:FQ()==MQ.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&FQ()==MQ.INVERTED?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&FQ()==MQ.NEGATED?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}cX.decorators=[{type:Yg,args:[{selector:"[cdk-scrollable], [cdkScrollable]"}]}],cX.ctorParameters=()=>[{type:Id},{type:lX},{type:Vy},{type:EY,decorators:[{type:gt}]}];const uX="undefined"!=typeof requestAnimationFrame?TY:DY;class hX extends cX{constructor(t,e,n,r,i,s){if(super(t,s,n,i),this.elementRef=t,this._changeDetectorRef=e,this._scrollStrategy=r,this._detachedSubject=new k,this._renderedRangeSubject=new k,this._orientation="vertical",this.scrolledIndexChange=new E(t=>this._scrollStrategy.scrolledIndexChange.subscribe(e=>Promise.resolve().then(()=>this.ngZone.run(()=>t.next(e))))),this.renderedRangeStream=this._renderedRangeSubject.asObservable(),this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],!r)throw Error('Error: cdk-virtual-scroll-viewport requires the "itemSize" property to be set.')}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(VU(null),BY(0,uX)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),super.ngOnDestroy()}attach(t){if(this._forOf)throw Error("CdkVirtualScrollViewport is already attached.");this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(jY(this._detachedSubject)).subscribe(t=>{const e=t.length;e!==this._dataLength&&(this._dataLength=e,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){var e,n;e=this._renderedRange,n=t,(e.start!=n.start||e.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,e="to-start"){const n=this.dir&&"rtl"==this.dir.value,r="horizontal"==this.orientation,i=r?"X":"Y";let s=`translate${i}(${Number((r&&n?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===e&&(s+=` translate${i}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=s&&(this._renderedContentTransform=s,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,e="auto"){const n={behavior:e};"horizontal"===this.orientation?n.start=t:n.top=t,this.scrollTo(n)}scrollToIndex(t,e="auto"){this._scrollStrategy.scrollToIndex(t,e)}measureScrollOffset(t){return super.measureScrollOffset(t||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this.ngZone.run(()=>this._changeDetectorRef.markForCheck()),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform;const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const e of t)e()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}function dX(t,e){const n=e;if(!n.getBoundingClientRect)return 0;const r=n.getBoundingClientRect();return"horizontal"==t?r.width:r.height}hX.decorators=[{type:Xg,args:[{selector:"cdk-virtual-scroll-viewport",template:'<div #contentWrapper class="cdk-virtual-scroll-content-wrapper"><ng-content></ng-content></div><div class="cdk-virtual-scroll-spacer" [style.width]="_totalContentWidth" [style.height]="_totalContentHeight"></div>',styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:0}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:0}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}"],host:{class:"cdk-virtual-scroll-viewport","[class.cdk-virtual-scroll-orientation-horizontal]":'orientation === "horizontal"',"[class.cdk-virtual-scroll-orientation-vertical]":'orientation !== "horizontal"'},encapsulation:ye.None,changeDetection:fe.OnPush,providers:[{provide:cX,useExisting:hX}]}]}],hX.ctorParameters=()=>[{type:Id},{type:Tl},{type:Vy},{type:void 0,decorators:[{type:gt},{type:ft,args:[iX]}]},{type:EY,decorators:[{type:gt}]},{type:lX}],hX.propDecorators={orientation:[{type:Jg}],scrolledIndexChange:[{type:ty}],_contentWrapper:[{type:Ac,args:["contentWrapper",{static:!0}]}]};class pX{constructor(t,e,n,r,i){this._viewContainerRef=t,this._template=e,this._differs=n,this._viewport=r,this.viewChange=new k,this._dataSourceChanges=new k,this.cdkVirtualForTemplateCacheSize=20,this.dataStream=this._dataSourceChanges.pipe(VU(null),t=>t.lift(new zY),RU(([t,e])=>this._changeDataSource(t,e)),JY(1)),this._differ=null,this._templateCache=[],this._needsUpdate=!1,this._destroyed=new k,this.dataStream.subscribe(t=>{this._data=t,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(jY(this._destroyed)).subscribe(t=>{this._renderedRange=t,i.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t;const e=function(t){return t&&"function"==typeof t.connect}(t)?t:new eX(t instanceof E?t:Array.prototype.slice.call(t||[]));this._dataSourceChanges.next(e)}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(e,n)=>t(e+(this._renderedRange?this._renderedRange.start:0),n):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}measureRangeSize(t,e){if(t.start>=t.end)return 0;if(t.start<this._renderedRange.start||t.end>this._renderedRange.end)throw Error("Error: attempted to measure an item that isn't rendered.");const n=t.start-this._renderedRange.start;let r=0,i=t.end-t.start;for(;i--;){const t=this._viewContainerRef.get(i+n);let s=t?t.rootNodes.length:0;for(;s--;)r+=dX(e,t.rootNodes[s])}return r}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete();for(let t of this._templateCache)t.destroy()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)}_changeDataSource(t,e){return t&&t.disconnect(this),this._needsUpdate=!0,e?e.connect(this):pj()}_updateContext(){const t=this._data.length;let e=this._viewContainerRef.length;for(;e--;){let n=this._viewContainerRef.get(e);n.context.index=this._renderedRange.start+e,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(t){t.forEachOperation((t,e,n)=>{if(null==t.previousIndex){this._insertViewForNewItem(n).context.$implicit=t.item}else if(null==n)this._cacheView(this._detachView(e));else{const r=this._viewContainerRef.get(e);this._viewContainerRef.move(r,n),r.context.$implicit=t.item}}),t.forEachIdentityChange(t=>{this._viewContainerRef.get(t.currentIndex).context.$implicit=t.item});const e=this._data.length;let n=this._viewContainerRef.length;for(;n--;){const t=this._viewContainerRef.get(n);t.context.index=this._renderedRange.start+n,t.context.count=e,this._updateComputedContextProperties(t.context)}}_cacheView(t){if(this._templateCache.length<this.cdkVirtualForTemplateCacheSize)this._templateCache.push(t);else{const e=this._viewContainerRef.indexOf(t);-1===e?t.destroy():this._viewContainerRef.remove(e)}}_insertViewForNewItem(t){return this._insertViewFromCache(t)||this._createEmbeddedViewAt(t)}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_createEmbeddedViewAt(t){return this._viewContainerRef.createEmbeddedView(this._template,{$implicit:null,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},t)}_insertViewFromCache(t){const e=this._templateCache.pop();return e&&this._viewContainerRef.insert(e,t),e||null}_detachView(t){return this._viewContainerRef.detach(t)}}pX.decorators=[{type:Yg,args:[{selector:"[cdkVirtualFor][cdkVirtualForOf]"}]}],pX.ctorParameters=()=>[{type:tp},{type:Zd},{type:Wd},{type:hX,decorators:[{type:vt}]},{type:Vy}],pX.propDecorators={cdkVirtualForOf:[{type:Jg}],cdkVirtualForTrackBy:[{type:Jg}],cdkVirtualForTemplate:[{type:Jg}],cdkVirtualForTemplateCacheSize:[{type:Jg}]};class mX{}mX.decorators=[{type:oy,args:[{imports:[xY,DQ],exports:[xY,oX,cX,pX,hX],declarations:[oX,cX,pX,hX]}]}];(class{}).decorators=[{type:oy,args:[{imports:[mX],exports:[mX]}]}];const fX=20;class gX{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?Z(SY(window,"resize"),SY(window,"orientationchange")):pj(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=fX){return t>0?this._change.pipe(BY(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}gX.decorators=[{type:Ul,args:[{providedIn:"root"}]}],gX.ctorParameters=()=>[{type:AQ},{type:Vy}],gX.ngInjectableDef=xt({factory:function(){return new gX(Jt(AQ),Jt(Vy))},token:gX,providedIn:"root"});new gt,new vt;class yX{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=UQ(-this._previousScrollPosition.left),t.style.top=UQ(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=this._document.body,n=t.style,r=e.style,i=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),n.scrollBehavior=r.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),n.scrollBehavior=i,r.scrollBehavior=s}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function vX(){return Error("Scroll strategy has already been attached.")}class _X{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw vX();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bX{enable(){}disable(){}attach(){}}function wX(t,e){return e.some(e=>{const n=t.bottom<e.top,r=t.top>e.bottom,i=t.right<e.left,s=t.left>e.right;return n||r||i||s})}function EX(t,e){return e.some(e=>{const n=t.top<e.top,r=t.bottom>e.bottom,i=t.left<e.left,s=t.right>e.right;return n||r||i||s})}class CX{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw vX();this._overlayRef=t}enable(){if(!this._scrollSubscription){const t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();wX(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class xX{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new bX,this.close=t=>new _X(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new yX(this._viewportRuler,this._document),this.reposition=t=>new CX(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}xX.decorators=[{type:Ul,args:[{providedIn:"root"}]}],xX.ctorParameters=()=>[{type:lX},{type:gX},{type:Vy},{type:void 0,decorators:[{type:ft,args:[bV]}]}],xX.ngInjectableDef=xt({factory:function(){return new xX(Jt(lX),Jt(gX),Jt(Vy),Jt(bV))},token:xX,providedIn:"root"});class SX{constructor(t){if(this.scrollStrategy=new bX,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class TX{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class IX{}class kX{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function AX(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function DX(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}kX.ctorParameters=()=>[{type:TX},{type:IX,decorators:[{type:gt}]}];class NX{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}NX.decorators=[{type:Ul,args:[{providedIn:"root"}]}],NX.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[bV]}]}],NX.ngInjectableDef=xt({factory:function(){return new NX(Jt(bV))},token:NX,providedIn:"root"});new gt,new vt;class OX{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.getElementsByClassName("cdk-overlay-container");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}OX.decorators=[{type:Ul,args:[{providedIn:"root"}]}],OX.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[bV]}]}],OX.ngInjectableDef=xt({factory:function(){return new OX(Jt(bV))},token:OX,providedIn:"root"});new gt,new vt;class PX{constructor(t,e,n,r,i,s,o,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._backdropElement=null,this._backdropClick=new k,this._attachments=new k,this._detachments=new k,this._locationChanges=p.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new E(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new k,this._keydownEventSubscriptions=0,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(kU(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}setDirection(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=UQ(this._config.width),t.height=UQ(this._config.height),t.minWidth=UQ(this._config.minWidth),t.minHeight=UQ(this._config.minHeight),t.maxWidth=UQ(this._config.maxWidth),t.maxHeight=UQ(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;jQ(e).forEach(t=>{n?r.add(t):r.remove(t)})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(jY(Z(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const RX="cdk-overlay-connected-position-bounding-box";class MX{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new k,this._resizeSubscription=p.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add(RX),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&LX(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(RX),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let l=0-i,c=i+e.width-n.width,u=0-s,h=s+e.height-n.height,d=this._subtractOverflows(e.width,l,c),p=this._subtractOverflows(e.height,u,h),m=d*p;return{visibleArea:m,isCompletelyWithinViewport:e.width*e.height===m,fitsInViewportVertically:p===e.height,fitsInViewportHorizontally:d==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=this._overlayRef.getConfig().minHeight,o=this._overlayRef.getConfig().minWidth,a=t.fitsInViewportVertically||null!=s&&s<=r,l=t.fitsInViewportHorizontally||null!=o&&o<=i;return a&&l}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),s=Math.max(t.y+e.height-r.bottom,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let l=0,c=0;return l=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,c=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:l,y:c},{x:t.x+l,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new kX(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}const a="start"===e.overlayX&&!r||"end"===e.overlayX&&r;let l,c,u;if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,l=t.x-this._viewportMargin;else if(a)c=t.x,l=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;l=2*e,c=t.x-e,l>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:s,left:c,bottom:o,right:u,width:l,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=UQ(n.height),r.top=UQ(n.top),r.bottom=UQ(n.bottom),r.width=UQ(n.width),r.left=UQ(n.left),r.right=UQ(n.right),"center"===e.overlayX?r.alignItems="center":r.alignItems="end"===e.overlayX?"flex-end":"flex-start","center"===e.overlayY?r.justifyContent="center":r.justifyContent="bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=UQ(t)),i&&(r.maxWidth=UQ(i))}this._lastBoundingBoxSize=n,LX(this._boundingBox.style,r)}_resetBoundingBoxStyles(){LX(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){LX(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={};if(this._hasExactPosition()){const r=this._viewportRuler.getViewportScrollPosition();LX(n,this._getExactOverlayY(e,t,r)),LX(n,this._getExactOverlayX(e,t,r))}else n.position="static";let r="",i=this._getOffset(e,"x"),s=this._getOffset(e,"y");i&&(r+=`translateX(${i}px) `),s&&(r+=`translateY(${s}px)`),n.transform=r.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),LX(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:null,bottom:null},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;if(i.y-=s,"bottom"===t.overlayY){const t=this._document.documentElement.clientHeight;r.bottom=`${t-(i.y+this._overlayRect.height)}px`}else r.top=UQ(i.y);return r}_getExactOverlayX(t,e,n){let r,i={left:null,right:null},s=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"right"===(r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")){const t=this._document.documentElement.clientWidth;i.right=`${t-(s.x+this._overlayRect.width)}px`}else i.left=UQ(s.x);return i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:EX(t,n),isOriginOutsideView:wX(t,n),isOverlayClipped:EX(e,n),isOverlayOutsideView:wX(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{DX("originX",t.originX),AX("originY",t.originY),DX("overlayX",t.overlayX),AX("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&jQ(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;return t instanceof Id?t.nativeElement.getBoundingClientRect():t instanceof HTMLElement?t.getBoundingClientRect():{top:t.y,bottom:t.y,left:t.x,right:t.x,height:0,width:0}}}function LX(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class FX{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new MX(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new TX(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const VX="cdk-global-overlay-wrapper";class BX{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(VX),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(VX),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}class jX{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new BX}connectedTo(t,e,n){return new FX(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new MX(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}jX.decorators=[{type:Ul,args:[{providedIn:"root"}]}],jX.ctorParameters=()=>[{type:gX},{type:void 0,decorators:[{type:ft,args:[bV]}]},{type:AQ},{type:OX}],jX.ngInjectableDef=xt({factory:function(){return new jX(Jt(gX),Jt(bV),Jt(AQ),Jt(OX))},token:jX,providedIn:"root"});let UX=0;class qX{constructor(t,e,n,r,i,s,o,a,l,c){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new SX(t);return i.direction=i.direction||this._directionality.value,new PX(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${UX++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(rv)),new ZG(t,this._componentFactoryResolver,this._appRef,this._injector)}}qX.decorators=[{type:Ul}],qX.ctorParameters=()=>[{type:xX},{type:OX},{type:Cd},{type:jX},{type:NX},{type:Ql},{type:Vy},{type:void 0,decorators:[{type:ft,args:[bV]}]},{type:EY},{type:zM,decorators:[{type:gt}]}];const zX=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],$X=new jt("cdk-connected-overlay-scroll-strategy");class HX{constructor(t){this.elementRef=t}}HX.decorators=[{type:Yg,args:[{selector:"[cdk-overlay-origin], [overlay-origin], [cdkOverlayOrigin]",exportAs:"cdkOverlayOrigin"}]}],HX.ctorParameters=()=>[{type:Id}];class WX{constructor(t,e,n,r,i){this._overlay=t,this._dir=i,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=p.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new xg,this.positionChange=new xg,this.attach=new xg,this.detach=new xg,this.overlayKeydown=new xg,this._templatePortal=new YG(e,n),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=VQ(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=VQ(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=VQ(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=VQ(t)}get push(){return this._push}set push(t){this._push=VQ(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=zX),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),t.keyCode!==lQ||wQ(t)||(t.preventDefault(),this._detachOverlay())})}_buildConfig(){const t=this._position=this._createPositionStrategy(),e=new SX({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(t=>this.positionChange.emit(t)),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}WX.decorators=[{type:Yg,args:[{selector:"[cdk-connected-overlay], [connected-overlay], [cdkConnectedOverlay]",exportAs:"cdkConnectedOverlay"}]}],WX.ctorParameters=()=>[{type:qX},{type:Zd},{type:tp},{type:void 0,decorators:[{type:ft,args:[$X]}]},{type:EY,decorators:[{type:gt}]}],WX.propDecorators={origin:[{type:Jg,args:["cdkConnectedOverlayOrigin"]}],positions:[{type:Jg,args:["cdkConnectedOverlayPositions"]}],offsetX:[{type:Jg,args:["cdkConnectedOverlayOffsetX"]}],offsetY:[{type:Jg,args:["cdkConnectedOverlayOffsetY"]}],width:[{type:Jg,args:["cdkConnectedOverlayWidth"]}],height:[{type:Jg,args:["cdkConnectedOverlayHeight"]}],minWidth:[{type:Jg,args:["cdkConnectedOverlayMinWidth"]}],minHeight:[{type:Jg,args:["cdkConnectedOverlayMinHeight"]}],backdropClass:[{type:Jg,args:["cdkConnectedOverlayBackdropClass"]}],panelClass:[{type:Jg,args:["cdkConnectedOverlayPanelClass"]}],viewportMargin:[{type:Jg,args:["cdkConnectedOverlayViewportMargin"]}],scrollStrategy:[{type:Jg,args:["cdkConnectedOverlayScrollStrategy"]}],open:[{type:Jg,args:["cdkConnectedOverlayOpen"]}],hasBackdrop:[{type:Jg,args:["cdkConnectedOverlayHasBackdrop"]}],lockPosition:[{type:Jg,args:["cdkConnectedOverlayLockPosition"]}],flexibleDimensions:[{type:Jg,args:["cdkConnectedOverlayFlexibleDimensions"]}],growAfterOpen:[{type:Jg,args:["cdkConnectedOverlayGrowAfterOpen"]}],push:[{type:Jg,args:["cdkConnectedOverlayPush"]}],backdropClick:[{type:ty}],positionChange:[{type:ty}],attach:[{type:ty}],detach:[{type:ty}],overlayKeydown:[{type:ty}]};const KX={provide:$X,deps:[qX],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class GX{}GX.decorators=[{type:oy,args:[{imports:[xY,rQ,mX],exports:[WX,HX,mX],declarations:[WX,HX],providers:[qX,KX]}]}];class QX extends OX{constructor(t){super(t)}ngOnDestroy(){super.ngOnDestroy(),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)}_createContainer(){super._createContainer(),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(()=>this._adjustParentForFullscreenChange())}_adjustParentForFullscreenChange(){if(!this._containerElement)return;(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}_addFullscreenChangeListener(t){const e=this._getEventName();e&&(this._fullScreenListener&&this._document.removeEventListener(e,this._fullScreenListener),this._document.addEventListener(e,t),this._fullScreenListener=t)}_getEventName(){if(!this._fullScreenEventName){const t=this._document;t.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":t.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":t.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":t.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")}return this._fullScreenEventName}getFullscreenElement(){const t=this._document;return t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||null}}QX.decorators=[{type:Ul,args:[{providedIn:"root"}]}],QX.ctorParameters=()=>[{type:void 0,decorators:[{type:ft,args:[bV]}]}],QX.ngInjectableDef=xt({factory:function(){return new QX(Jt(bV))},token:QX,providedIn:"root"});const YX=new Rd("8.1.4");new Rd("8.1.4");class XX{}XX.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",XX.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",XX.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",XX.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";class ZX{}ZX.COMPLEX="375ms",ZX.ENTERING="225ms",ZX.EXITING="195ms";const JX=new Rd("8.1.4"),tZ=new jt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class eZ{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&vs()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){JX.full!==YX.full&&console.warn("The Angular Material version ("+JX.full+") does not match the Angular CDK version ("+YX.full+").\nPlease ensure the versions of these two packages exactly match.")}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}function nZ(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=VQ(t)}}}function rZ(t,e){return class extends t{get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...t){super(...t),this.color=e}}}function iZ(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=VQ(t)}}}function sZ(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function oZ(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new k}updateErrorState(){const t=this.errorState,e=this._parentFormGroup||this._parentForm,n=this.errorStateMatcher||this._defaultErrorStateMatcher,r=this.ngControl?this.ngControl.control:null,i=n.isErrorState(r,e);i!==t&&(this.errorState=i,this.stateChanges.next())}}}eZ.decorators=[{type:oy,args:[{imports:[xY],exports:[xY]}]}],eZ.ctorParameters=()=>[{type:Boolean,decorators:[{type:gt},{type:ft,args:[tZ]}]},{type:void 0,decorators:[{type:gt},{type:ft,args:[kB]}]}];const aZ=new jt("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return te(vy)}});class lZ{constructor(){this._localeChanges=new k}get localeChanges(){return this._localeChanges}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const cZ=new jt("mat-date-formats");let uZ;try{uZ="undefined"!=typeof Intl}catch(t7){uZ=!1}const hZ={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},dZ=fZ(31,t=>String(t+1)),pZ={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},mZ=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function fZ(t,e){const n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}class gZ extends lZ{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(uZ){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return fZ(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return hZ[t]}getDateNames(){if(uZ){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return fZ(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return dZ}getDayOfWeekNames(t){if(uZ){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return fZ(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return pZ[t]}getYearName(t){if(uZ){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,n){if(e<0||e>11)throw Error(`Invalid month index "${e}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let r=this._createDateWithOverflow(t,e,n);if(r.getMonth()!=e)throw Error(`Invalid date "${n}" for month with index "${e}".`);return r}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(uZ){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign({},e,{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(mZ.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,n){const r=new Date(t,e,n);return t>=0&&t<100&&r.setFullYear(this.getYear(r)-1900),r}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.format(n)}}gZ.decorators=[{type:Ul}],gZ.ctorParameters=()=>[{type:String,decorators:[{type:gt},{type:ft,args:[aZ]}]},{type:AQ}];class yZ{}yZ.decorators=[{type:oy,args:[{imports:[DQ],providers:[{provide:lZ,useClass:gZ}]}]}];const vZ={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};(class{}).decorators=[{type:oy,args:[{imports:[yZ],providers:[{provide:cZ,useValue:vZ}]}]}];(class{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||e&&e.submitted))}}).decorators=[{type:Ul}];class _Z{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}_Z.decorators=[{type:Ul,args:[{providedIn:"root"}]}],_Z.ngInjectableDef=xt({factory:function(){return new _Z},token:_Z,providedIn:"root"});const bZ=new jt("MAT_HAMMER_OPTIONS"),wZ=["longpress","slide","slidestart","slideend","slideright","slideleft"],EZ={on:()=>{},off:()=>{}};class CZ extends AB{constructor(t,e){super(),this._hammerOptions=t,this.events=wZ,e&&e._checkHammerIsAvailable()}buildHammer(t){const e="undefined"!=typeof window?window.Hammer:null;if(!e)return EZ;const n=new e(t,this._hammerOptions||void 0),r=new e.Pan,i=new e.Swipe,s=new e.Press,o=this._createRecognizer(r,{event:"slide",threshold:0},i),a=this._createRecognizer(s,{event:"longpress",time:500});return r.recognizeWith(i),a.recognizeWith(o),n.add([i,s,r,o,a]),n}_createRecognizer(t,e,...n){let r=new t.constructor(e);return n.push(t),n.forEach(t=>r.recognizeWith(t)),r}}CZ.decorators=[{type:Ul}],CZ.ctorParameters=()=>[{type:void 0,decorators:[{type:gt},{type:ft,args:[bZ]}]},{type:eZ,decorators:[{type:gt}]}];class xZ{}function SZ(t,e){t.changes.pipe(VU(t)).subscribe(({length:t})=>{TZ(e,"mat-2-line",!1),TZ(e,"mat-3-line",!1),TZ(e,"mat-multi-line",!1),2===t||3===t?TZ(e,`mat-${t}-line`,!0):t>3&&TZ(e,"mat-multi-line",!0)})}function TZ(t,e,n){const r=t.nativeElement.classList;n?r.add(e):r.remove(e)}xZ.decorators=[{type:Yg,args:[{selector:"[mat-line], [matLine]",host:{class:"mat-line"}}]}];class IZ{}IZ.decorators=[{type:oy,args:[{imports:[eZ],exports:[xZ,eZ],declarations:[xZ]}]}];const kZ={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};kZ[kZ.FADING_IN]="FADING_IN",kZ[kZ.VISIBLE]="VISIBLE",kZ[kZ.FADING_OUT]="FADING_OUT",kZ[kZ.HIDDEN]="HIDDEN";class AZ{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=kZ.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const DZ={enterDuration:450,exitDuration:400},NZ=800,OZ=RQ({passive:!0});class PZ{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=t=>{const e=_Y(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+NZ;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))},this._onTouchStart=t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{const e=t.state===kZ.VISIBLE||t.config.terminateOnPointerUp&&t.state===kZ.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))},r.isBrowser&&(this._containerElement=n.nativeElement,this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign({},DZ,n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,l=i.enterDuration,c=document.createElement("div");var u;c.classList.add("mat-ripple-element"),c.style.left=`${o-s}px`,c.style.top=`${a-s}px`,c.style.height=`${2*s}px`,c.style.width=`${2*s}px`,c.style.backgroundColor=n.color||null,c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),u=c,window.getComputedStyle(u).getPropertyValue("opacity"),c.style.transform="scale(1)";const h=new AZ(this,c,n);return h.state=kZ.FADING_IN,this._activeRipples.add(h),n.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(()=>{const t=h===this._mostRecentTransientRipple;h.state=kZ.VISIBLE,n.persistent||t&&this._isPointerDown||h.fadeOut()},l),h}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign({},DZ,t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=kZ.FADING_OUT,this._runTimeoutOutsideZone(()=>{t.state=kZ.HIDDEN,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((e,n)=>{t.addEventListener(n,e,OZ)})}),this._triggerElement=t)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,OZ)})}}const RZ=new jt("mat-ripple-global-options");class MZ{constructor(t,e,n,r,i){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new PZ(this,e,t,n),"NoopAnimations"===i&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}}MZ.decorators=[{type:Yg,args:[{selector:"[mat-ripple], [matRipple]",exportAs:"matRipple",host:{class:"mat-ripple","[class.mat-ripple-unbounded]":"unbounded"}}]}],MZ.ctorParameters=()=>[{type:Id},{type:Vy},{type:AQ},{type:void 0,decorators:[{type:gt},{type:ft,args:[RZ]}]},{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]}],MZ.propDecorators={color:[{type:Jg,args:["matRippleColor"]}],unbounded:[{type:Jg,args:["matRippleUnbounded"]}],centered:[{type:Jg,args:["matRippleCentered"]}],radius:[{type:Jg,args:["matRippleRadius"]}],animation:[{type:Jg,args:["matRippleAnimation"]}],disabled:[{type:Jg,args:["matRippleDisabled"]}],trigger:[{type:Jg,args:["matRippleTrigger"]}]};class LZ{}LZ.decorators=[{type:oy,args:[{imports:[eZ,DQ],exports:[MZ,eZ],declarations:[MZ]}]}];class FZ{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}FZ.decorators=[{type:Xg,args:[{encapsulation:ye.None,changeDetection:fe.OnPush,selector:"mat-pseudo-checkbox",styles:[".mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}"],template:"",host:{class:"mat-pseudo-checkbox","[class.mat-pseudo-checkbox-indeterminate]":'state === "indeterminate"',"[class.mat-pseudo-checkbox-checked]":'state === "checked"',"[class.mat-pseudo-checkbox-disabled]":"disabled","[class._mat-animation-noopable]":'_animationMode === "NoopAnimations"'}}]}],FZ.ctorParameters=()=>[{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]}],FZ.propDecorators={state:[{type:Jg}],disabled:[{type:Jg}]};class VZ{}VZ.decorators=[{type:oy,args:[{exports:[FZ],declarations:[FZ]}]}];const BZ=nZ(class{});let jZ=0;class UZ extends BZ{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${jZ++}`}}UZ.decorators=[{type:Xg,args:[{selector:"mat-optgroup",exportAs:"matOptgroup",template:'<label class="mat-optgroup-label" [id]="_labelId">{{ label }}<ng-content></ng-content></label><ng-content select="mat-option, ng-container"></ng-content>',encapsulation:ye.None,changeDetection:fe.OnPush,inputs:["disabled"],styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}"],host:{class:"mat-optgroup",role:"group","[class.mat-optgroup-disabled]":"disabled","[attr.aria-disabled]":"disabled.toString()","[attr.aria-labelledby]":"_labelId"}}]}],UZ.propDecorators={label:[{type:Jg}]};let qZ=0;class zZ{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const $Z=new jt("MAT_OPTION_PARENT_COMPONENT");class HZ{constructor(t,e,n,r){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${qZ++}`,this.onSelectionChange=new xg,this._stateChanges=new k}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=VQ(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){t.keyCode!==aQ&&t.keyCode!==cQ||wQ(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new zZ(this,t))}}function WZ(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),s=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[s]&&s++;return s}return 0}HZ.decorators=[{type:Xg,args:[{selector:"mat-option",exportAs:"matOption",host:{role:"option","[attr.tabindex]":"_getTabIndex()","[class.mat-selected]":"selected","[class.mat-option-multiple]":"multiple","[class.mat-active]":"active","[id]":"id","[attr.aria-selected]":"_getAriaSelected()","[attr.aria-disabled]":"disabled.toString()","[class.mat-option-disabled]":"disabled","(click)":"_selectViaInteraction()","(keydown)":"_handleKeydown($event)",class:"mat-option"},styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}@media (-ms-high-contrast:active){.mat-option{margin:0 1px}.mat-option.mat-active{border:solid 1px currentColor;margin:0}}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}@media (-ms-high-contrast:active){.mat-option .mat-option-ripple{opacity:.5}}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],template:'<mat-pseudo-checkbox *ngIf="multiple" class="mat-option-pseudo-checkbox" [state]="selected ? \'checked\' : \'\'" [disabled]="disabled"></mat-pseudo-checkbox><span class="mat-option-text"><ng-content></ng-content></span><div class="mat-option-ripple" mat-ripple [matRippleTrigger]="_getHostElement()" [matRippleDisabled]="disabled || disableRipple"></div>',encapsulation:ye.None,changeDetection:fe.OnPush}]}],HZ.ctorParameters=()=>[{type:Id},{type:Tl},{type:void 0,decorators:[{type:gt},{type:ft,args:[$Z]}]},{type:UZ,decorators:[{type:gt}]}],HZ.propDecorators={value:[{type:Jg}],id:[{type:Jg}],disabled:[{type:Jg}],onSelectionChange:[{type:ty}]};class KZ{}KZ.decorators=[{type:oy,args:[{imports:[LZ,vV,VZ],exports:[HZ,UZ],declarations:[HZ,UZ]}]}];const GZ=new jt("mat-label-global-options");class QZ{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const YZ=[BH("void, exit",VH({opacity:0,transform:"scale(0.7)"})),BH("enter",VH({transform:"none"})),UH("* => enter",MH("150ms cubic-bezier(0, 0, 0.2, 1)",VH({transform:"none",opacity:1}))),UH("* => void, * => exit",MH("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",VH({opacity:0})))],XZ={dialogContainer:RH("dialogContainer",YZ),slideDialog:RH("slideDialog",YZ)};function ZZ(){throw Error("Attempting to attach dialog content after content is already attached")}class JZ extends XG{constructor(t,e,n,r,i){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._document=r,this._config=i,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new xg,this._ariaLabelledBy=i.ariaLabelledBy||null}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&ZZ(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&ZZ(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this._config.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;this._config.restoreFocus&&t&&"function"==typeof t.focus&&t.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}JZ.decorators=[{type:Xg,args:[{selector:"mat-dialog-container",template:"<ng-template cdkPortalOutlet></ng-template>",styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}@media (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}"],encapsulation:ye.None,changeDetection:fe.Default,animations:[XZ.dialogContainer],host:{class:"mat-dialog-container",tabindex:"-1","aria-modal":"true","[attr.id]":"_id","[attr.role]":"_config.role","[attr.aria-labelledby]":"_config.ariaLabel ? null : _ariaLabelledBy","[attr.aria-label]":"_config.ariaLabel","[attr.aria-describedby]":"_config.ariaDescribedBy || null","[@dialogContainer]":"_state","(@dialogContainer.start)":"_onAnimationStart($event)","(@dialogContainer.done)":"_onAnimationDone($event)"}}]}],JZ.ctorParameters=()=>[{type:Id},{type:cY},{type:Tl},{type:void 0,decorators:[{type:gt},{type:ft,args:[bV]}]},{type:QZ}],JZ.propDecorators={_portalOutlet:[{type:Ac,args:[eQ,{static:!0}]}]};let tJ=0;class eJ{constructor(t,e,n,r=`mat-dialog-${tJ++}`){this._overlayRef=t,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new k,this._afterClosed=new k,this._beforeClosed=new k,e._id=r,e._animationStateChanged.pipe(fj(t=>"done"===t.phaseName&&"enter"===t.toState),kU(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(fj(t=>"done"===t.phaseName&&"exit"===t.toState),kU(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._overlayRef.dispose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(fj(t=>t.keyCode===lQ&&!this.disableClose&&!wQ(t))).subscribe(t=>{t.preventDefault(),this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(fj(t=>"start"===t.phaseName),kU(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},e.totalTime+100)}),this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}afterOpen(){return this.afterOpened()}beforeClose(){return this.beforeClosed()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const nJ=new jt("MatDialogData"),rJ=new jt("mat-dialog-default-options"),iJ=new jt("mat-dialog-scroll-strategy");const sJ={provide:iJ,deps:[qX],useFactory:function(t){return()=>t.scrollStrategies.block()}};class oJ{constructor(t,e,n,r,i,s,o){this._overlay=t,this._injector=e,this._location=n,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new k,this._afterOpenedAtThisLevel=new k,this._ariaHiddenElements=new Map,this.afterAllClosed=uU(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(VU(void 0))),this._scrollStrategy=i}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get afterOpen(){return this.afterOpened}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign({},e,t)}(e,this._defaultOptions||new QZ)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new SX({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=e&&e.viewContainerRef&&e.viewContainerRef.injector,r=new iQ(n||this._injector,new WeakMap([[QZ,e]])),i=new QG(JZ,e.viewContainerRef,r);return t.attach(i).instance}_attachDialogContent(t,e,n,r){const i=new eJ(n,e,this._location,r.id);if(r.hasBackdrop&&n.backdropClick().subscribe(()=>{i.disableClose||i.close()}),t instanceof Zd)e.attachTemplatePortal(new YG(t,null,{$implicit:r.data,dialogRef:i}));else{const n=this._createInjector(r,i,e),s=e.attachComponentPortal(new QG(t,void 0,n));i.componentInstance=s.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i}_createInjector(t,e,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=new WeakMap([[JZ,n],[nJ,t.data],[eJ,e]]);return!t.direction||r&&r.get(EY,null)||i.set(EY,{value:t.direction,change:pj()}),new iQ(r||this._injector,i)}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}oJ.decorators=[{type:Ul}],oJ.ctorParameters=()=>[{type:qX},{type:Ql},{type:zM,decorators:[{type:gt}]},{type:QZ,decorators:[{type:gt},{type:ft,args:[rJ]}]},{type:void 0,decorators:[{type:ft,args:[iJ]}]},{type:oJ,decorators:[{type:gt},{type:vt}]},{type:OX}];let aJ=0;class lJ{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n}ngOnInit(){this.dialogRef||(this.dialogRef=dJ(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}}lJ.decorators=[{type:Yg,args:[{selector:"[mat-dialog-close], [matDialogClose]",exportAs:"matDialogClose",host:{"(click)":"dialogRef.close(dialogResult)","[attr.aria-label]":"ariaLabel || null",type:"button"}}]}],lJ.ctorParameters=()=>[{type:eJ,decorators:[{type:gt}]},{type:Id},{type:oJ}],lJ.propDecorators={ariaLabel:[{type:Jg,args:["aria-label"]}],dialogResult:[{type:Jg,args:["mat-dialog-close"]}],_matDialogClose:[{type:Jg,args:["matDialogClose"]}]};class cJ{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id=`mat-dialog-title-${aJ++}`}ngOnInit(){this._dialogRef||(this._dialogRef=dJ(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}cJ.decorators=[{type:Yg,args:[{selector:"[mat-dialog-title], [matDialogTitle]",exportAs:"matDialogTitle",host:{class:"mat-dialog-title","[id]":"id"}}]}],cJ.ctorParameters=()=>[{type:eJ,decorators:[{type:gt}]},{type:Id},{type:oJ}],cJ.propDecorators={id:[{type:Jg}]};class uJ{}uJ.decorators=[{type:Yg,args:[{selector:"[mat-dialog-content], mat-dialog-content, [matDialogContent]",host:{class:"mat-dialog-content"}}]}];class hJ{}function dJ(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}hJ.decorators=[{type:Yg,args:[{selector:"[mat-dialog-actions], mat-dialog-actions, [matDialogActions]",host:{class:"mat-dialog-actions"}}]}];class pJ{}function mJ(...t){let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&c(t[0])&&(t=t[0]),0===t.length?uj:e?mJ(t).pipe(q(t=>e(...t))):new E(e=>new fJ(e,t))}pJ.decorators=[{type:oy,args:[{imports:[vV,GX,rQ,eZ],exports:[JZ,lJ,cJ,uJ,hJ,eZ],declarations:[JZ,lJ,cJ,hJ,uJ],providers:[oJ,sJ],entryComponents:[JZ]}]}];class fJ extends U{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let r=0;r<n;r++){const t=j(this,e[r],null,r);t&&this.add(t)}}notifyNext(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:r}=this,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()}}const gJ=new jt("NgValueAccessor"),yJ={provide:gJ,useExisting:Ot(()=>vJ),multi:!0};class vJ{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}vJ.decorators=[{type:Yg,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[yJ]}]}],vJ.ctorParameters=()=>[{type:Od},{type:Id}];const _J={provide:gJ,useExisting:Ot(()=>wJ),multi:!0};const bJ=new jt("CompositionEventMode");class wJ{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=IV()?IV().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){const e=null==t?"":t;this._renderer.setProperty(this._elementRef.nativeElement,"value",e)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}wJ.decorators=[{type:Yg,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"$any(this)._handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"$any(this)._compositionStart()","(compositionend)":"$any(this)._compositionEnd($event.target.value)"},providers:[_J]}]}],wJ.ctorParameters=()=>[{type:Od},{type:Id},{type:Boolean,decorators:[{type:gt},{type:ft,args:[bJ]}]}];class EJ{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class CJ extends EJ{get formDirective(){return null}get path(){return null}}function xJ(){throw new Error("unimplemented")}class SJ extends EJ{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return xJ()}get asyncValidator(){return xJ()}}class TJ{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}const IJ={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"};class kJ extends TJ{constructor(t){super(t)}}kJ.decorators=[{type:Yg,args:[{selector:"[formControlName],[ngModel],[formControl]",host:IJ}]}],kJ.ctorParameters=()=>[{type:SJ,decorators:[{type:yt}]}];class AJ extends TJ{constructor(t){super(t)}}function DJ(t){return null==t||0===t.length}AJ.decorators=[{type:Yg,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:IJ}]}],AJ.ctorParameters=()=>[{type:CJ,decorators:[{type:yt}]}];const NJ=new jt("NgValidators"),OJ=new jt("NgAsyncValidators"),PJ=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class RJ{static min(t){return e=>{if(DJ(e.value)||DJ(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(DJ(e.value)||DJ(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return DJ(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return DJ(t.value)?null:PJ.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(DJ(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return RJ.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(DJ(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(MJ);return 0==e.length?null:function(t){return FJ(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(MJ);return 0==e.length?null:function(t){return mJ(function(t,e){return e.map(e=>e(t))}(t,e).map(LJ)).pipe(q(FJ))}}}function MJ(t){return null!=t}function LJ(t){const e=Yu(t)?W(t):t;if(!Xu(e))throw new Error("Expected validator to return Promise or Observable.");return e}function FJ(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function VJ(t){return t.validate?e=>t.validate(e):t}function BJ(t){return t.validate?e=>t.validate(e):t}const jJ={provide:gJ,useExisting:Ot(()=>UJ),multi:!0};class UJ{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){const e=null==t?"":t;this._renderer.setProperty(this._elementRef.nativeElement,"value",e)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}UJ.decorators=[{type:Yg,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[jJ]}]}],UJ.ctorParameters=()=>[{type:Od},{type:Id}];const qJ={provide:gJ,useExisting:Ot(()=>$J),multi:!0};class zJ{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&(t[0]._parent===e._control._parent&&t[1].name===e.name)}}zJ.decorators=[{type:Ul}];class $J{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(SJ),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}$J.decorators=[{type:Yg,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[qJ]}]}],$J.ctorParameters=()=>[{type:Od},{type:Id},{type:zJ},{type:Ql}],$J.propDecorators={name:[{type:Jg}],formControlName:[{type:Jg}],value:[{type:Jg}]};const HJ={provide:gJ,useExisting:Ot(()=>WJ),multi:!0};class WJ{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}WJ.decorators=[{type:Yg,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[HJ]}]}],WJ.ctorParameters=()=>[{type:Od},{type:Id}];const KJ={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class GJ{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${KJ.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${KJ.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${KJ.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${KJ.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${KJ.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${KJ.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const QJ={provide:gJ,useExisting:Ot(()=>XJ),multi:!0};function YJ(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class XJ{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Pc}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=YJ(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}XJ.decorators=[{type:Yg,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[QJ]}]}],XJ.ctorParameters=()=>[{type:Od},{type:Id}],XJ.propDecorators={compareWith:[{type:Jg}]};class ZJ{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(YJ(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}ZJ.decorators=[{type:Yg,args:[{selector:"option"}]}],ZJ.ctorParameters=()=>[{type:Id},{type:Od},{type:XJ,decorators:[{type:gt},{type:_t}]}],ZJ.propDecorators={ngValue:[{type:Jg,args:["ngValue"]}],value:[{type:Jg,args:["value"]}]};const JJ={provide:gJ,useExisting:Ot(()=>e0),multi:!0};function t0(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class e0{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Pc}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}e0.decorators=[{type:Yg,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[JJ]}]}],e0.ctorParameters=()=>[{type:Od},{type:Id}],e0.propDecorators={compareWith:[{type:Jg}]};class n0{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(t0(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(t0(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function r0(t,e){return[...e.path,t]}function i0(t,e){t||l0(e,"Cannot find control with"),e.valueAccessor||l0(e,"No value accessor for form control with"),t.validator=RJ.compose([t.validator,e.validator]),t.asyncValidator=RJ.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&s0(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&s0(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function s0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function o0(t,e){null==t&&l0(e,"Cannot find control with"),t.validator=RJ.compose([t.validator,e.validator]),t.asyncValidator=RJ.composeAsync([t.asyncValidator,e.asyncValidator])}function a0(t){return l0(t,"There is no FormControl instance attached to form control element with")}function l0(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function c0(t){return null!=t?RJ.compose(t.map(VJ)):null}function u0(t){return null!=t?RJ.composeAsync(t.map(BJ)):null}function h0(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Pc(e,n.currentValue)}n0.decorators=[{type:Yg,args:[{selector:"option"}]}],n0.ctorParameters=()=>[{type:Id},{type:Od},{type:e0,decorators:[{type:gt},{type:_t}]}],n0.propDecorators={ngValue:[{type:Jg,args:["ngValue"]}],value:[{type:Jg,args:["value"]}]};const d0=[vJ,WJ,UJ,XJ,e0,$J];function p0(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function m0(t,e){if(!e)return null;Array.isArray(e)||l0(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{e.constructor===wJ?n=e:!function(t){return d0.some(e=>t.constructor===e)}(e)?(i&&l0(t,"More than one custom value accessor matches form control with"),i=e):(r&&l0(t,"More than one built-in value accessor matches form control with"),r=e)}),i||(r||(n||(l0(t,"No valid value accessor for form control with"),null)))}function f0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function g0(t,e,n,r){vs()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(GJ.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}const y0="VALID",v0="INVALID",_0="PENDING",b0="DISABLED";function w0(t){const e=C0(t)?t.validators:t;return Array.isArray(e)?c0(e):e||null}function E0(t,e){const n=C0(e)?e.asyncValidators:t;return Array.isArray(n)?u0(n):n||null}function C0(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class x0{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===y0}get invalid(){return this.status===v0}get pending(){return this.status==_0}get disabled(){return this.status===b0}get enabled(){return this.status!==b0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=w0(t)}setAsyncValidators(t){this.asyncValidator=E0(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=_0,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=b0,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=y0,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==y0&&this.status!==_0||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?b0:y0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=_0;const e=LJ(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(n)),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof T0?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof I0&&t.at(e)||null,t))}(this,t,".")}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new xg,this.statusChanges=new xg}_calculateStatus(){return this._allControlsDisabled()?b0:this.errors?v0:this._anyControlsHaveStatus(_0)?_0:this._anyControlsHaveStatus(v0)?v0:y0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){C0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){const e=this._parent&&this._parent.dirty;return!t&&e&&!this._parent._anyControlsDirty()}}class S0 extends x0{constructor(t=null,e,n){super(w0(e),E0(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class T0 extends x0{constructor(t,e,n){super(w0(e),E0(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof S0?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class I0 extends x0{constructor(t,e,n){super(w0(e),E0(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof S0?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const k0={provide:CJ,useExisting:Ot(()=>D0)},A0=(()=>Promise.resolve(null))();class D0 extends CJ{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new xg,this.form=new T0({},c0(t),u0(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){A0.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),i0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){A0.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),f0(this._directives,t)})}addFormGroup(t){A0.then(()=>{const e=this._findContainer(t.path),n=new T0({});o0(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){A0.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){A0.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,p0(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}D0.decorators=[{type:Yg,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,ng-form,[ngForm]",providers:[k0],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],D0.ctorParameters=()=>[{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[NJ]}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[OJ]}]}],D0.propDecorators={options:[{type:Jg,args:["ngFormOptions"]}]};class N0{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${KJ.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${KJ.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${KJ.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${KJ.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${KJ.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${KJ.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const O0=new jt("NgFormSelectorWarning");class P0{constructor(t){(t&&"once"!==t||P0._ngFormWarning)&&"always"!==t||(N0.ngFormWarning(),P0._ngFormWarning=!0)}}P0._ngFormWarning=!1,P0.decorators=[{type:Yg,args:[{selector:"ngForm"}]}],P0.ctorParameters=()=>[{type:void 0,decorators:[{type:gt},{type:ft,args:[O0]}]}];class R0 extends CJ{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return r0(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return c0(this._validators)}get asyncValidator(){return u0(this._asyncValidators)}_checkParentType(){}}const M0={provide:CJ,useExisting:Ot(()=>L0)};class L0 extends R0{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof L0||this._parent instanceof D0||N0.modelGroupParentException()}}L0.decorators=[{type:Yg,args:[{selector:"[ngModelGroup]",providers:[M0],exportAs:"ngModelGroup"}]}],L0.ctorParameters=()=>[{type:CJ,decorators:[{type:_t},{type:vt}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[NJ]}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[OJ]}]}],L0.propDecorators={name:[{type:Jg,args:["ngModelGroup"]}]};const F0={provide:SJ,useExisting:Ot(()=>B0)},V0=(()=>Promise.resolve(null))();class B0 extends SJ{constructor(t,e,n,r){super(),this.control=new S0,this._registered=!1,this.update=new xg,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=m0(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),h0(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?r0(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return c0(this._rawValidators)}get asyncValidator(){return u0(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){i0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof L0)&&this._parent instanceof R0?N0.formGroupNameException():this._parent instanceof L0||this._parent instanceof D0||N0.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||N0.missingNameException()}_updateValue(t){V0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;V0.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}B0.decorators=[{type:Yg,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[F0],exportAs:"ngModel"}]}],B0.ctorParameters=()=>[{type:CJ,decorators:[{type:gt},{type:_t}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[NJ]}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[OJ]}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[gJ]}]}],B0.propDecorators={name:[{type:Jg}],isDisabled:[{type:Jg,args:["disabled"]}],model:[{type:Jg,args:["ngModel"]}],options:[{type:Jg,args:["ngModelOptions"]}],update:[{type:ty,args:["ngModelChange"]}]};class j0{}j0.decorators=[{type:Yg,args:[{selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}}]}];const U0=new jt("NgModelWithFormControlWarning"),q0={provide:SJ,useExisting:Ot(()=>z0)};class z0 extends SJ{constructor(t,e,n,r){super(),this._ngModelWarningConfig=r,this.update=new xg,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=m0(this,n)}set isDisabled(t){GJ.disabledAttrWarning()}ngOnChanges(t){this._isControlChanged(t)&&(i0(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),h0(t,this.viewModel)&&(g0("formControl",z0,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return c0(this._rawValidators)}get asyncValidator(){return u0(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}z0._ngModelWarningSentOnce=!1,z0.decorators=[{type:Yg,args:[{selector:"[formControl]",providers:[q0],exportAs:"ngForm"}]}],z0.ctorParameters=()=>[{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[NJ]}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[OJ]}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[gJ]}]},{type:void 0,decorators:[{type:gt},{type:ft,args:[U0]}]}],z0.propDecorators={form:[{type:Jg,args:["formControl"]}],isDisabled:[{type:Jg,args:["disabled"]}],model:[{type:Jg,args:["ngModel"]}],update:[{type:ty,args:["ngModelChange"]}]};const $0={provide:CJ,useExisting:Ot(()=>H0)};class H0 extends CJ{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new xg}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return i0(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){f0(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);o0(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);o0(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,p0(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(!function(t,e){e.valueAccessor.registerOnChange(()=>a0(e)),e.valueAccessor.registerOnTouched(()=>a0(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&i0(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=c0(this._validators);this.form.validator=RJ.compose([this.form.validator,t]);const e=u0(this._asyncValidators);this.form.asyncValidator=RJ.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||GJ.missingFormException()}}H0.decorators=[{type:Yg,args:[{selector:"[formGroup]",providers:[$0],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],H0.ctorParameters=()=>[{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[NJ]}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[OJ]}]}],H0.propDecorators={form:[{type:Jg,args:["formGroup"]}],ngSubmit:[{type:ty}]};const W0={provide:CJ,useExisting:Ot(()=>K0)};class K0 extends R0{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){Y0(this._parent)&&GJ.groupParentException()}}K0.decorators=[{type:Yg,args:[{selector:"[formGroupName]",providers:[W0]}]}],K0.ctorParameters=()=>[{type:CJ,decorators:[{type:gt},{type:_t},{type:vt}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[NJ]}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[OJ]}]}],K0.propDecorators={name:[{type:Jg,args:["formGroupName"]}]};const G0={provide:CJ,useExisting:Ot(()=>Q0)};class Q0 extends CJ{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return r0(this.name,this._parent)}get validator(){return c0(this._validators)}get asyncValidator(){return u0(this._asyncValidators)}_checkParentType(){Y0(this._parent)&&GJ.arrayParentException()}}function Y0(t){return!(t instanceof K0||t instanceof H0||t instanceof Q0)}Q0.decorators=[{type:Yg,args:[{selector:"[formArrayName]",providers:[G0]}]}],Q0.ctorParameters=()=>[{type:CJ,decorators:[{type:gt},{type:_t},{type:vt}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[NJ]}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[OJ]}]}],Q0.propDecorators={name:[{type:Jg,args:["formArrayName"]}]};const X0={provide:SJ,useExisting:Ot(()=>Z0)};class Z0 extends SJ{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new xg,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=m0(this,r)}set isDisabled(t){GJ.disabledAttrWarning()}ngOnChanges(t){this._added||this._setUpControl(),h0(t,this.viewModel)&&(g0("formControlName",Z0,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return r0(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return c0(this._rawValidators)}get asyncValidator(){return u0(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof K0)&&this._parent instanceof R0?GJ.ngModelGroupException():this._parent instanceof K0||this._parent instanceof H0||this._parent instanceof Q0||GJ.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}Z0._ngModelWarningSentOnce=!1,Z0.decorators=[{type:Yg,args:[{selector:"[formControlName]",providers:[X0]}]}],Z0.ctorParameters=()=>[{type:CJ,decorators:[{type:gt},{type:_t},{type:vt}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[NJ]}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[OJ]}]},{type:Array,decorators:[{type:gt},{type:yt},{type:ft,args:[gJ]}]},{type:void 0,decorators:[{type:gt},{type:ft,args:[U0]}]}],Z0.propDecorators={name:[{type:Jg,args:["formControlName"]}],isDisabled:[{type:Jg,args:["disabled"]}],model:[{type:Jg,args:["ngModel"]}],update:[{type:ty,args:["ngModelChange"]}]};const J0={provide:NJ,useExisting:Ot(()=>e1),multi:!0},t1={provide:NJ,useExisting:Ot(()=>n1),multi:!0};class e1{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?RJ.required(t):null}registerOnValidatorChange(t){this._onChange=t}}e1.decorators=[{type:Yg,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[J0],host:{"[attr.required]":'required ? "" : null'}}]}],e1.propDecorators={required:[{type:Jg}]};class n1 extends e1{validate(t){return this.required?RJ.requiredTrue(t):null}}n1.decorators=[{type:Yg,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[t1],host:{"[attr.required]":'required ? "" : null'}}]}];const r1={provide:NJ,useExisting:Ot(()=>i1),multi:!0};class i1{set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?RJ.email(t):null}registerOnValidatorChange(t){this._onChange=t}}i1.decorators=[{type:Yg,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[r1]}]}],i1.propDecorators={email:[{type:Jg}]};const s1={provide:NJ,useExisting:Ot(()=>o1),multi:!0};class o1{ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=RJ.minLength(parseInt(this.minlength,10))}}o1.decorators=[{type:Yg,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[s1],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],o1.propDecorators={minlength:[{type:Jg}]};const a1={provide:NJ,useExisting:Ot(()=>l1),multi:!0};class l1{ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=RJ.maxLength(parseInt(this.maxlength,10))}}l1.decorators=[{type:Yg,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[a1],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],l1.propDecorators={maxlength:[{type:Jg}]};const c1={provide:NJ,useExisting:Ot(()=>u1),multi:!0};class u1{ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=RJ.pattern(this.pattern)}}u1.decorators=[{type:Yg,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[c1],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],u1.propDecorators={pattern:[{type:Jg}]};const h1=[j0,ZJ,n0,wJ,UJ,WJ,vJ,XJ,e0,$J,kJ,AJ,e1,o1,l1,u1,n1,i1],d1=[B0,L0,D0,P0],p1=[z0,H0,Z0,K0,Q0];class m1{}m1.decorators=[{type:oy,args:[{declarations:h1,exports:h1}]}];class f1{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(!function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null):(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0)),new T0(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new S0(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new I0(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){if(t instanceof S0||t instanceof T0||t instanceof I0)return t;if(Array.isArray(t)){const e=t[0],n=t.length>1?t[1]:null,r=t.length>2?t[2]:null;return this.control(e,n,r)}return this.control(t)}}f1.decorators=[{type:Ul}];new Rd("8.2.5");class g1{static withConfig(t){return{ngModule:g1,providers:[{provide:O0,useValue:t.warnOnDeprecatedNgFormSelector}]}}}g1.decorators=[{type:oy,args:[{declarations:d1,providers:[zJ],exports:[m1,d1]}]}];class y1{static withConfig(t){return{ngModule:y1,providers:[{provide:U0,useValue:t.warnOnNgModelWithFormControl}]}}}y1.decorators=[{type:oy,args:[{declarations:[p1],providers:[f1,zJ],exports:[m1,p1]}]}];let v1=class{constructor(t,e){this.dialog=t,this.authService=e,this.emailFormControl=new S0("",[RJ.required,RJ.email])}openDialog(){this.dialog.open(_1,{width:"350px"}).afterClosed().subscribe(t=>{})}};v1.ctorParameters=()=>[{type:oJ},{type:WG}],v1=r.__decorate([Xg({selector:"app-login",template:r.__importDefault(n("ywSW")).default,styles:[r.__importDefault(n("KEbp")).default]})],v1);let _1=class{constructor(t,e,n){this.dialogRef=t,this.data=e,this.authService=n}onNoClick(){this.dialogRef.close()}};_1.ctorParameters=()=>[{type:eJ},{type:void 0,decorators:[{type:ft,args:[nJ]}]},{type:WG}],_1=r.__decorate([Xg({selector:"app-forgot-password",template:r.__importDefault(n("dZao")).default}),r.__param(1,ft(nJ))],_1);let b1=class{constructor(t,e,n,r){this.afs=t,this.afAuth=e,this.notyf=n,this.authService=r,this.getUid(),this.setLocal()}getUid(){return localStorage.getItem("user.uid"),console.log(this.currUser),this.currUser}setLocal(){!0===this.authService.isLoggedIn&&this.afs.collection(`users/${this.currUser}/bookmarks`).valueChanges().subscribe(t=>{this.bmData=t,t&&(localStorage.setItem("bookmarks",JSON.stringify(this.bmData)),JSON.parse(localStorage.getItem("bookmarks")))})}AddBookmarkData(t){const e=this.afs.doc(`users/${this.afAuth.auth.currentUser.uid}/bookmarks/${t.mal_id}`),n={mal_id:t.mal_id,title:t.title,image_url:t.image_url};return e.set(n,{merge:!0})}GetBookmarkData(t,e,n){!0===this.authService.isLoggedIn&&this.AddBookmarkData({mal_id:t,title:e,image_url:n}).then(t=>{this.notyf.success("Bookmark added")}).catch(t=>{this.notyf.error(t.message)})}};b1.ctorParameters=()=>[{type:DH},{type:hH},{type:$G},{type:WG}],b1=r.__decorate([Ul({providedIn:"root"})],b1);let w1=class{constructor(t,e,n,r,i,s){this.authService=t,this.router=e,this.afAuth=n,this.dialog=r,this.bmService=i,this.afs=s,this.userInfo=JSON.parse(localStorage.getItem("user"))}ngOnInit(){this.bmService.setLocal()}deleteBm(t){this.afs.collection(`users/${this.userInfo.uid}/bookmarks`).doc(`${t}`).delete()}openDialog(){this.dialog.open(E1,{width:"350px",hasBackdrop:!0})}};w1.ctorParameters=()=>[{type:WG},{type:g$},{type:hH},{type:oJ},{type:b1},{type:DH}],w1=r.__decorate([Xg({selector:"app-profile",template:r.__importDefault(n("RPTm")).default,styles:[r.__importDefault(n("VMY1")).default]})],w1);let E1=class{constructor(t,e,n,r,i,s,o){this.dialogRef=t,this.data=e,this.authService=n,this.afAuth=r,this.notyf=i,this.router=s,this.afs=o,this.user=this.afAuth.auth.currentUser}updateUser(t,e){!0===this.authService.isLoggedIn&&(""!==t&&""!==e?this.user.updateProfile({displayName:t,photoURL:e}).then(t=>{this.dialogRef.close(),this.notyf.success("Profile has been updated");const e=this.afs.doc(`users/${this.user.uid}`),n={displayName:this.user.displayName,photoURL:this.user.photoURL};return e.update(n)}).catch(t=>{this.notyf.error(t.message)}):this.notyf.error("Please fill out all the fields"))}deleteUser(){!0===this.authService.isLoggedIn&&this.user.uid===this.afAuth.auth.currentUser.uid&&(this.afAuth.auth.currentUser.delete(),this.afs.doc(`users/${this.user.uid}`).delete(),this.afs.collection(`users/${this.user.uid}/bookmarks`,t=>t.where("email","==",this.afAuth.auth.currentUser.email)).ref.get().then(t=>{const e=this.afs.firestore.batch();return t.forEach(t=>e.delete(t.ref)),e.commit()}).then(t=>{this.dialogRef.close(),this.notyf.success("Your Profile has been deleted"),this.router.navigate(["/"])}).catch(t=>this.notyf.error(t.message)))}onNoClick(){this.dialogRef.close()}};E1.ctorParameters=()=>[{type:eJ},{type:void 0,decorators:[{type:ft,args:[nJ]}]},{type:WG},{type:hH},{type:$G},{type:g$},{type:DH}],E1=r.__decorate([Xg({selector:"app-update-profile",template:r.__importDefault(n("RPrD")).default}),r.__param(1,ft(nJ))],E1);let C1=class{constructor(t,e,n,r,i){this.route=t,this.http=e,this.sanitizer=n,this.bmService=r,this.authService=i,this.apiUrl="https://api.jikan.moe/v3"}getApiDetails(){return this.http.get(`${this.apiUrl}/anime/${this.animeId}`)}getAnimeDetails(){this.getApiDetails().subscribe(t=>{this.data=t},t=>console.error(t),()=>console.log("done loading details"))}getPictures(){return this.http.get(`${this.apiUrl}/anime/${this.animeId}/pictures`)}getAnimePictures(){this.getPictures().subscribe(t=>{this.img=t},t=>console.error(t),()=>console.log("done loading pictures"))}getCharacters(){return this.http.get(`${this.apiUrl}/anime/${this.animeId}/characters_staff`)}getAnimeCharacters(){this.getCharacters().subscribe(t=>{this.info=t},t=>console.log(t),()=>console.log("done loading characters"))}ngOnInit(){let t=parseInt(this.route.snapshot.paramMap.get("id"));this.animeId=t,this.getAnimeDetails(),this.getAnimePictures(),this.getAnimeCharacters()}};C1.ctorParameters=()=>[{type:tz},{type:Rj},{type:RB},{type:b1},{type:WG}],C1=r.__decorate([Xg({selector:"app-anime-details",template:r.__importDefault(n("46iP")).default,styles:[r.__importDefault(n("d9iv")).default]})],C1);let x1=class{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return!0!==this.authService.isLoggedIn&&this.router.navigate(["/login"]),!0}};x1.ctorParameters=()=>[{type:WG},{type:g$}],x1=r.__decorate([Ul({providedIn:"root"})],x1);let S1=class{constructor(t,e,n){this.authService=t,this.router=e,this.notyf=n}canActivate(t,e){return this.authService.isLoggedIn&&(this.notyf.error("Not cool man \u2620\ufe0f Log in first"),this.router.navigate(["/login"])),!0}};S1.ctorParameters=()=>[{type:WG},{type:g$},{type:$G}],S1=r.__decorate([Ul({providedIn:"root"})],S1);let T1=class{constructor(t){this.authService=t}ngOnInit(){}};T1.ctorParameters=()=>[{type:WG}],T1=r.__decorate([Xg({selector:"app-email-verification",template:r.__importDefault(n("SjYq")).default,styles:[r.__importDefault(n("x/Il")).default]})],T1);let I1=class{constructor(t,e,n){this.route=t,this.router=e,this.http=n,this.apiSearchUrl="https://api.jikan.moe/v3",this.value=""}getSearchResult(t){return this.value=t,this.http.get(`${this.apiSearchUrl}/search/anime?q=${this.value}`).subscribe(t=>{this.searchRes=t},t=>console.error(t),()=>console.log("done loading search request"))}toDetailPage(t){this.router.navigate(["/details",t.mal_id])}ngOnInit(){let t=this.route.snapshot.paramMap.get("search");this.value=t,this.getSearchResult(this.value)}};I1.ctorParameters=()=>[{type:tz},{type:g$},{type:Rj}];const k1=[{path:"top-anime",component:$$},{path:"seasonal-anime",component:H$},{path:"schedule",component:W$},{path:"profile",component:w1,canActivate:[x1]},{path:"login",component:v1},{path:"details/:id",component:C1},{path:"",component:z$},{path:"verify-email-address",component:T1,canActivate:[S1]},{path:"search/:search",component:I1=r.__decorate([Xg({selector:"app-search",template:r.__importDefault(n("QEQa")).default,styles:[r.__importDefault(n("C25i")).default]})],I1)}];let A1=class{};A1=r.__decorate([oy({imports:[R$.forRoot(k1)],exports:[R$]})],A1);const D1=rZ(class{constructor(t){this._elementRef=t}});class N1{}N1.decorators=[{type:Yg,args:[{selector:"mat-toolbar-row",exportAs:"matToolbarRow",host:{class:"mat-toolbar-row"}}]}];class O1 extends D1{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){vs()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){if(!this._toolbarRows.length)return;Array.from(this._elementRef.nativeElement.childNodes).filter(t=>!(t.classList&&t.classList.contains("mat-toolbar-row"))).filter(t=>t.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(t=>!(!t.textContent||!t.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}O1.decorators=[{type:Xg,args:[{selector:"mat-toolbar",exportAs:"matToolbar",template:'<ng-content></ng-content><ng-content select="mat-toolbar-row"></ng-content>',styles:["@media (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}"],inputs:["color"],host:{class:"mat-toolbar","[class.mat-toolbar-multiple-rows]":"_toolbarRows.length > 0","[class.mat-toolbar-single-row]":"_toolbarRows.length === 0"},changeDetection:fe.OnPush,encapsulation:ye.None}]}],O1.ctorParameters=()=>[{type:Id},{type:AQ},{type:void 0,decorators:[{type:ft,args:[bV]}]}],O1.propDecorators={_toolbarRows:[{type:Ic,args:[N1]}]};class P1{}P1.decorators=[{type:oy,args:[{imports:[eZ],exports:[O1,N1,eZ],declarations:[O1,N1]}]}];class R1{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=VQ(t)}get inset(){return this._inset}set inset(t){this._inset=VQ(t)}}R1.decorators=[{type:Xg,args:[{selector:"mat-divider",host:{role:"separator","[attr.aria-orientation]":'vertical ? "vertical" : "horizontal"',"[class.mat-divider-vertical]":"vertical","[class.mat-divider-horizontal]":"!vertical","[class.mat-divider-inset]":"inset",class:"mat-divider"},template:"",styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:ye.None,changeDetection:fe.OnPush}]}],R1.propDecorators={vertical:[{type:Jg}],inset:[{type:Jg}]};class M1{}M1.decorators=[{type:oy,args:[{imports:[eZ,vV],exports:[R1,eZ],declarations:[R1]}]}];const L1=iZ(class{});const F1=iZ(class{});class V1 extends L1{constructor(){super(...arguments),this._stateChanges=new k}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}V1.decorators=[{type:Xg,args:[{selector:"mat-nav-list",exportAs:"matNavList",host:{role:"navigation",class:"mat-nav-list mat-list-base"},template:"<ng-content></ng-content>",styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:0}mat-action-list button{background:0 0;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:0}@media (-ms-high-contrast:active){.mat-selection-list:focus{outline-style:dotted}.mat-list-option:focus,.mat-list-option:hover,.mat-nav-list .mat-list-item:focus,.mat-nav-list .mat-list-item:hover,mat-action-list .mat-list-item:focus,mat-action-list .mat-list-item:hover{outline:dotted 1px}}@media (hover:none){.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover{background:0 0}}"],inputs:["disableRipple"],encapsulation:ye.None,changeDetection:fe.OnPush}]}];class B1 extends L1{constructor(t){super(),this._elementRef=t,this._stateChanges=new k,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}B1.decorators=[{type:Xg,args:[{selector:"mat-list, mat-action-list",exportAs:"matList",template:"<ng-content></ng-content>",host:{class:"mat-list mat-list-base"},styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:0}mat-action-list button{background:0 0;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:0}@media (-ms-high-contrast:active){.mat-selection-list:focus{outline-style:dotted}.mat-list-option:focus,.mat-list-option:hover,.mat-nav-list .mat-list-item:focus,.mat-nav-list .mat-list-item:hover,mat-action-list .mat-list-item:focus,mat-action-list .mat-list-item:hover{outline:dotted 1px}}@media (hover:none){.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover{background:0 0}}"],inputs:["disableRipple"],encapsulation:ye.None,changeDetection:fe.OnPush}]}],B1.ctorParameters=()=>[{type:Id}];class j1{}j1.decorators=[{type:Yg,args:[{selector:"[mat-list-avatar], [matListAvatar]",host:{class:"mat-list-avatar"}}]}];class U1{}U1.decorators=[{type:Yg,args:[{selector:"[mat-list-icon], [matListIcon]",host:{class:"mat-list-icon"}}]}];class q1{}q1.decorators=[{type:Yg,args:[{selector:"[mat-subheader], [matSubheader]",host:{class:"mat-subheader"}}]}];class z1 extends F1{constructor(t,e,n,r){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new k,this._isInteractiveList=!!(n||r&&"action-list"===r._getListType()),this._list=n||r;const i=this._getHostElement();"button"!==i.nodeName.toLowerCase()||i.hasAttribute("type")||i.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(jY(this._destroyed)).subscribe(()=>{e.markForCheck()})}ngAfterContentInit(){SZ(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}z1.decorators=[{type:Xg,args:[{selector:"mat-list-item, a[mat-list-item], button[mat-list-item]",exportAs:"matListItem",host:{class:"mat-list-item","[class.mat-list-item-avatar]":"_avatar || _icon","[class.mat-list-item-with-avatar]":"_avatar || _icon"},inputs:["disableRipple"],template:'<div class="mat-list-item-content"><div class="mat-list-item-ripple" mat-ripple [matRippleTrigger]="_getHostElement()" [matRippleDisabled]="_isRippleDisabled()"></div><ng-content select="[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"></ng-content><div class="mat-list-text"><ng-content select="[mat-line], [matLine]"></ng-content></div><ng-content></ng-content></div>',encapsulation:ye.None,changeDetection:fe.OnPush}]}],z1.ctorParameters=()=>[{type:Id},{type:Tl},{type:V1,decorators:[{type:gt}]},{type:B1,decorators:[{type:gt}]}],z1.propDecorators={_lines:[{type:Ic,args:[xZ,{descendants:!0}]}],_avatar:[{type:kc,args:[j1,{static:!1}]}],_icon:[{type:kc,args:[U1,{static:!1}]}]};const $1=iZ(class{});const H1=iZ(class{}),W1={provide:gJ,useExisting:Ot(()=>Q1),multi:!0};class K1{constructor(t,e){this.source=t,this.option=e}}class G1 extends H1{constructor(t,e,n){super(),this._element=t,this._changeDetector=e,this.selectionList=n,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.checkboxPosition="after"}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&t!==this.value&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const e=VQ(t);e!==this._disabled&&(this._disabled=e,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const e=VQ(t);e!==this._selected&&(this._setSelected(e),this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(e=>t.compareWith(e,this._value))&&this._setSelected(!0);const e=this._selected;Promise.resolve().then(()=>{(this._selected||e)&&(this.selected=!0,this._changeDetector.markForCheck())})}ngAfterContentInit(){SZ(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,e=this.selectionList._removeOptionFromList(this);t&&e&&e.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){this.disabled||(this.toggle(),this.selectionList._emitChangeEvent(this))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}G1.decorators=[{type:Xg,args:[{selector:"mat-list-option",exportAs:"matListOption",inputs:["disableRipple"],host:{role:"option",class:"mat-list-item mat-list-option","(focus)":"_handleFocus()","(blur)":"_handleBlur()","(click)":"_handleClick()",tabindex:"-1","[class.mat-list-item-disabled]":"disabled","[class.mat-list-item-with-avatar]":"_avatar || _icon","[class.mat-primary]":'color === "primary"',"[class.mat-warn]":'color === "warn"',"[attr.aria-selected]":"selected","[attr.aria-disabled]":"disabled"},template:'<div class="mat-list-item-content" [class.mat-list-item-content-reverse]="checkboxPosition == \'after\'"><div mat-ripple class="mat-list-item-ripple" [matRippleTrigger]="_getHostElement()" [matRippleDisabled]="_isRippleDisabled()"></div><mat-pseudo-checkbox [state]="selected ? \'checked\' : \'unchecked\'" [disabled]="disabled"></mat-pseudo-checkbox><div class="mat-list-text" #text><ng-content></ng-content></div><ng-content select="[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"></ng-content></div>',encapsulation:ye.None,changeDetection:fe.OnPush}]}],G1.ctorParameters=()=>[{type:Id},{type:Tl},{type:Q1,decorators:[{type:ft,args:[Ot(()=>Q1)]}]}],G1.propDecorators={_avatar:[{type:kc,args:[j1,{static:!1}]}],_icon:[{type:kc,args:[U1,{static:!1}]}],_lines:[{type:Ic,args:[xZ]}],_text:[{type:Ac,args:["text",{static:!1}]}],checkboxPosition:[{type:Jg}],color:[{type:Jg}],value:[{type:Jg}],disabled:[{type:Jg}],selected:[{type:Jg}]};class Q1 extends $1{constructor(t,e){super(),this._element=t,this.selectionChange=new xg,this.tabIndex=0,this.color="accent",this.compareWith=(t,e)=>t===e,this._disabled=!1,this.selectedOptions=new nX(!0),this._onChange=t=>{},this._destroyed=new k,this._onTouched=()=>{},this.tabIndex=parseInt(e)||0}get disabled(){return this._disabled}set disabled(t){this._disabled=VQ(t),this._markOptionsForCheck()}ngAfterContentInit(){this._keyManager=new iY(this.options).withWrap().withTypeAhead().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this.selectedOptions.onChange.pipe(jY(this._destroyed)).subscribe(t=>{if(t.added)for(let e of t.added)e.selected=!0;if(t.removed)for(let e of t.removed)e.selected=!1})}ngOnChanges(t){const e=t.disableRipple,n=t.color;(e&&!e.firstChange||n&&!n.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){this._setAllOptionsSelected(!0)}deselectAll(){this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const e=this._getOptionIndex(t);return e>-1&&this._keyManager.activeItemIndex===e&&(e>0?this._keyManager.updateActiveItem(e-1):0===e&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(e+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const e=t.keyCode,n=this._keyManager,r=n.activeItemIndex,i=wQ(t);switch(e){case cQ:case aQ:i||(this._toggleFocusedOption(),t.preventDefault());break;case hQ:case uQ:i||(e===hQ?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;case _Q:wQ(t,"ctrlKey")&&(this.options.find(t=>!t.selected)?this.selectAll():this.deselectAll(),t.preventDefault());break;default:n.onKeydown(t)}e!==pQ&&e!==fQ||!t.shiftKey||n.activeItemIndex===r||this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new K1(this,t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(t=>t._setSelected(!1)),t.forEach(t=>{const e=this.options.find(e=>!e.selected&&this.compareWith(e.value,t));e&&e._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let e=this.options.toArray()[t];e&&!e.disabled&&(e.toggle(),this._emitChangeEvent(e))}}_setAllOptionsSelected(t){let e=!1;this.options.forEach(n=>{n._setSelected(t)&&(e=!0)}),e&&this._reportValueChange()}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}}Q1.decorators=[{type:Xg,args:[{selector:"mat-selection-list",exportAs:"matSelectionList",inputs:["disableRipple"],host:{role:"listbox","[tabIndex]":"tabIndex",class:"mat-selection-list mat-list-base","(blur)":"_onTouched()","(keydown)":"_keydown($event)","aria-multiselectable":"true","[attr.aria-disabled]":"disabled.toString()"},template:"<ng-content></ng-content>",styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:0}mat-action-list button{background:0 0;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:0}@media (-ms-high-contrast:active){.mat-selection-list:focus{outline-style:dotted}.mat-list-option:focus,.mat-list-option:hover,.mat-nav-list .mat-list-item:focus,.mat-nav-list .mat-list-item:hover,mat-action-list .mat-list-item:focus,mat-action-list .mat-list-item:hover{outline:dotted 1px}}@media (hover:none){.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover{background:0 0}}"],encapsulation:ye.None,providers:[W1],changeDetection:fe.OnPush}]}],Q1.ctorParameters=()=>[{type:Id},{type:String,decorators:[{type:bt,args:["tabindex"]}]}],Q1.propDecorators={options:[{type:Ic,args:[G1,{descendants:!0}]}],selectionChange:[{type:ty}],tabIndex:[{type:Jg}],color:[{type:Jg}],compareWith:[{type:Jg}],disabled:[{type:Jg}]};class Y1{}Y1.decorators=[{type:oy,args:[{imports:[IZ,LZ,eZ,VZ,vV],exports:[B1,V1,z1,j1,IZ,eZ,U1,q1,VZ,Q1,G1,M1],declarations:[B1,V1,z1,j1,U1,q1,Q1,G1]}]}];let X1=0;class Z1{constructor(){this._stateChanges=new k,this._openCloseAllActions=new k,this.id=`cdk-accordion-${X1++}`,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=VQ(t)}openAll(){this._openCloseAll(!0)}closeAll(){this._openCloseAll(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete()}_openCloseAll(t){this.multi&&this._openCloseAllActions.next(t)}}Z1.decorators=[{type:Yg,args:[{selector:"cdk-accordion, [cdkAccordion]",exportAs:"cdkAccordion"}]}],Z1.propDecorators={multi:[{type:Jg}]};let J1=0;class t2{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=p.EMPTY,this.closed=new xg,this.opened=new xg,this.destroyed=new xg,this.expandedChange=new xg,this.id=`cdk-accordion-child-${J1++}`,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){if(t=VQ(t),this._expanded!==t){if(this._expanded=t,this.expandedChange.emit(t),t){this.opened.emit();const t=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,t)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}get disabled(){return this._disabled}set disabled(t){this._disabled=VQ(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}t2.decorators=[{type:Yg,args:[{selector:"cdk-accordion-item, [cdkAccordionItem]",exportAs:"cdkAccordionItem",providers:[{provide:Z1,useValue:void 0}]}]}],t2.ctorParameters=()=>[{type:Z1,decorators:[{type:gt},{type:vt}]},{type:Tl},{type:rX}],t2.propDecorators={closed:[{type:ty}],opened:[{type:ty}],destroyed:[{type:ty}],expandedChange:[{type:ty}],expanded:[{type:Jg}],disabled:[{type:Jg}]};class e2{}e2.decorators=[{type:oy,args:[{exports:[Z1,t2],declarations:[Z1,t2]}]}];const n2=new jt("MAT_ACCORDION"),r2={indicatorRotate:RH("indicatorRotate",[BH("collapsed, void",VH({transform:"rotate(0deg)"})),BH("expanded",VH({transform:"rotate(180deg)"})),UH("expanded <=> collapsed, void => collapsed",MH("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),expansionHeaderHeight:RH("expansionHeight",[BH("collapsed, void",VH({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),BH("expanded",VH({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),UH("expanded <=> collapsed, void => collapsed",LH([$H("@indicatorRotate",zH(),{optional:!0}),MH("225ms cubic-bezier(0.4,0.0,0.2,1)")]))]),bodyExpansion:RH("bodyExpansion",[BH("collapsed, void",VH({height:"0px",visibility:"hidden"})),BH("expanded",VH({height:"*",visibility:"visible"})),UH("expanded <=> collapsed, void => collapsed",MH("225ms cubic-bezier(0.4,0.0,0.2,1)"))])};class i2{constructor(t){this._template=t}}i2.decorators=[{type:Yg,args:[{selector:"ng-template[matExpansionPanelContent]"}]}],i2.ctorParameters=()=>[{type:Zd}];let s2=0;const o2=new jt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");class a2 extends t2{constructor(t,e,n,r,i,s,o){super(t,e,n),this._viewContainerRef=r,this._animationMode=s,this._hideToggle=!1,this.afterExpand=new xg,this.afterCollapse=new xg,this._inputChanges=new k,this._headerId=`mat-expansion-panel-header-${s2++}`,this._bodyAnimationDone=new k,this.accordion=t,this._document=i,this._bodyAnimationDone.pipe(NY((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),o&&(this.hideToggle=o.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=VQ(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&"default"===(this.expanded?this.accordion.displayMode:this._getExpandedState())}_getExpandedState(){return this.expanded?"expanded":"collapsed"}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(VU(null),fj(()=>this.expanded&&!this._portal),kU(1)).subscribe(()=>{this._portal=new YG(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}a2.decorators=[{type:Xg,args:[{styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(.4,0,.2,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}@media (-ms-high-contrast:active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel._mat-animation-noopable,.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base{margin-left:0;margin-right:8px}"],selector:"mat-expansion-panel",exportAs:"matExpansionPanel",template:'<ng-content select="mat-expansion-panel-header"></ng-content><div class="mat-expansion-panel-content" role="region" [@bodyExpansion]="_getExpandedState()" (@bodyExpansion.done)="_bodyAnimationDone.next($event)" [attr.aria-labelledby]="_headerId" [id]="id" #body><div class="mat-expansion-panel-body"><ng-content></ng-content><ng-template [cdkPortalOutlet]="_portal"></ng-template></div><ng-content select="mat-action-row"></ng-content></div>',encapsulation:ye.None,changeDetection:fe.OnPush,inputs:["disabled","expanded"],outputs:["opened","closed","expandedChange"],animations:[r2.bodyExpansion],providers:[{provide:n2,useValue:void 0}],host:{class:"mat-expansion-panel","[class.mat-expanded]":"expanded","[class._mat-animation-noopable]":'_animationMode === "NoopAnimations"',"[class.mat-expansion-panel-spacing]":"_hasSpacing()"}}]}],a2.ctorParameters=()=>[{type:void 0,decorators:[{type:gt},{type:vt},{type:ft,args:[n2]}]},{type:Tl},{type:rX},{type:tp},{type:void 0,decorators:[{type:ft,args:[bV]}]},{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]},{type:void 0,decorators:[{type:ft,args:[o2]},{type:gt}]}],a2.propDecorators={hideToggle:[{type:Jg}],togglePosition:[{type:Jg}],afterExpand:[{type:ty}],afterCollapse:[{type:ty}],_lazyContent:[{type:kc,args:[i2,{static:!1}]}],_body:[{type:Ac,args:["body",{static:!1}]}]};class l2{}l2.decorators=[{type:Yg,args:[{selector:"mat-action-row",host:{class:"mat-action-row"}}]}];class c2{constructor(t,e,n,r,i){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=r,this._parentChangeSubscription=p.EMPTY,this._animationsDisabled=!0;const s=t.accordion?t.accordion._stateChanges.pipe(fj(t=>!(!t.hideToggle&&!t.togglePosition))):uj;this._parentChangeSubscription=Z(t.opened,t.closed,s,t._inputChanges.pipe(fj(t=>!!(t.hideToggle||t.disabled||t.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(fj(()=>t._containsFocus())).subscribe(()=>n.focusVia(e,"program")),n.monitor(e).subscribe(e=>{e&&t.accordion&&t.accordion._handleHeaderFocus(this)}),i&&(this.expandedHeight=i.expandedHeight,this.collapsedHeight=i.collapsedHeight)}_animationStarted(){this._animationsDisabled=!1}get disabled(){return this.panel.disabled}_toggle(){this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_keydown(t){switch(t.keyCode){case cQ:case aQ:wQ(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t="program",e){this._focusMonitor.focusVia(this._element,t,e)}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}c2.decorators=[{type:Xg,args:[{selector:"mat-expansion-panel-header",styles:[".mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:0}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-description,.mat-expansion-panel-header-title{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-description,[dir=rtl] .mat-expansion-panel-header-title{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:'';display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}"],template:'<span class="mat-content"><ng-content select="mat-panel-title"></ng-content><ng-content select="mat-panel-description"></ng-content><ng-content></ng-content></span><span [@indicatorRotate]="_getExpandedState()" *ngIf="_showToggle()" class="mat-expansion-indicator"></span>',encapsulation:ye.None,changeDetection:fe.OnPush,animations:[r2.indicatorRotate,r2.expansionHeaderHeight],host:{class:"mat-expansion-panel-header",role:"button","[attr.id]":"panel._headerId","[attr.tabindex]":"disabled ? -1 : 0","[attr.aria-controls]":"_getPanelId()","[attr.aria-expanded]":"_isExpanded()","[attr.aria-disabled]":"panel.disabled","[class.mat-expanded]":"_isExpanded()","[class.mat-expansion-toggle-indicator-after]":"_getTogglePosition() === 'after'","[class.mat-expansion-toggle-indicator-before]":"_getTogglePosition() === 'before'","(click)":"_toggle()","(keydown)":"_keydown($event)","[@.disabled]":"_animationsDisabled","(@expansionHeight.start)":"_animationStarted()","[@expansionHeight]":"{\n        value: _getExpandedState(),\n        params: {\n          collapsedHeight: collapsedHeight,\n          expandedHeight: expandedHeight\n        }\n    }"}}]}],c2.ctorParameters=()=>[{type:a2,decorators:[{type:_t}]},{type:Id},{type:yY},{type:Tl},{type:void 0,decorators:[{type:ft,args:[o2]},{type:gt}]}],c2.propDecorators={expandedHeight:[{type:Jg}],collapsedHeight:[{type:Jg}]};class u2{}u2.decorators=[{type:Yg,args:[{selector:"mat-panel-description",host:{class:"mat-expansion-panel-header-description"}}]}];class h2{}h2.decorators=[{type:Yg,args:[{selector:"mat-panel-title",host:{class:"mat-expansion-panel-header-title"}}]}];class d2 extends Z1{constructor(){super(...arguments),this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=VQ(t)}ngAfterContentInit(){this._keyManager=new iY(this._headers).withWrap()}_handleHeaderKeydown(t){const{keyCode:e}=t,n=this._keyManager;e===hQ?wQ(t)||(n.setFirstItemActive(),t.preventDefault()):e===uQ?wQ(t)||(n.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}}d2.decorators=[{type:Yg,args:[{selector:"mat-accordion",exportAs:"matAccordion",inputs:["multi"],providers:[{provide:n2,useExisting:d2}],host:{class:"mat-accordion"}}]}],d2.propDecorators={_headers:[{type:Ic,args:[c2,{descendants:!0}]}],hideToggle:[{type:Jg}],displayMode:[{type:Jg}],togglePosition:[{type:Jg}]};class p2{}p2.decorators=[{type:oy,args:[{imports:[vV,e2,rQ],exports:[d2,a2,l2,c2,h2,u2,i2],declarations:[d2,a2,l2,c2,h2,u2,i2]}]}];class m2{}m2.decorators=[{type:Yg,args:[{selector:"mat-card-content",host:{class:"mat-card-content"}}]}];class f2{}f2.decorators=[{type:Yg,args:[{selector:"mat-card-title, [mat-card-title], [matCardTitle]",host:{class:"mat-card-title"}}]}];class g2{}g2.decorators=[{type:Yg,args:[{selector:"mat-card-subtitle, [mat-card-subtitle], [matCardSubtitle]",host:{class:"mat-card-subtitle"}}]}];class y2{constructor(){this.align="start"}}y2.decorators=[{type:Yg,args:[{selector:"mat-card-actions",exportAs:"matCardActions",host:{class:"mat-card-actions","[class.mat-card-actions-align-end]":'align === "end"'}}]}],y2.propDecorators={align:[{type:Jg}]};class v2{}v2.decorators=[{type:Yg,args:[{selector:"mat-card-footer",host:{class:"mat-card-footer"}}]}];class _2{}_2.decorators=[{type:Yg,args:[{selector:"[mat-card-image], [matCardImage]",host:{class:"mat-card-image"}}]}];class b2{}b2.decorators=[{type:Yg,args:[{selector:"[mat-card-sm-image], [matCardImageSmall]",host:{class:"mat-card-sm-image"}}]}];class w2{}w2.decorators=[{type:Yg,args:[{selector:"[mat-card-md-image], [matCardImageMedium]",host:{class:"mat-card-md-image"}}]}];class E2{}E2.decorators=[{type:Yg,args:[{selector:"[mat-card-lg-image], [matCardImageLarge]",host:{class:"mat-card-lg-image"}}]}];class C2{}C2.decorators=[{type:Yg,args:[{selector:"[mat-card-xl-image], [matCardImageXLarge]",host:{class:"mat-card-xl-image"}}]}];class x2{}x2.decorators=[{type:Yg,args:[{selector:"[mat-card-avatar], [matCardAvatar]",host:{class:"mat-card-avatar"}}]}];class S2{constructor(t){this._animationMode=t}}S2.decorators=[{type:Xg,args:[{selector:"mat-card",exportAs:"matCard",template:'<ng-content></ng-content><ng-content select="mat-card-footer"></ng-content>',styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:ye.None,changeDetection:fe.OnPush,host:{class:"mat-card","[class._mat-animation-noopable]":'_animationMode === "NoopAnimations"'}}]}],S2.ctorParameters=()=>[{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]}];class T2{}T2.decorators=[{type:Xg,args:[{selector:"mat-card-header",template:'<ng-content select="[mat-card-avatar], [matCardAvatar]"></ng-content><div class="mat-card-header-text"><ng-content select="mat-card-title, mat-card-subtitle, [mat-card-title], [mat-card-subtitle], [matCardTitle], [matCardSubtitle]"></ng-content></div><ng-content></ng-content>',encapsulation:ye.None,changeDetection:fe.OnPush,host:{class:"mat-card-header"}}]}];class I2{}I2.decorators=[{type:Xg,args:[{selector:"mat-card-title-group",template:'<div><ng-content select="mat-card-title, mat-card-subtitle, [mat-card-title], [mat-card-subtitle], [matCardTitle], [matCardSubtitle]"></ng-content></div><ng-content select="img"></ng-content><ng-content></ng-content>',encapsulation:ye.None,changeDetection:fe.OnPush,host:{class:"mat-card-title-group"}}]}];class k2{}k2.decorators=[{type:oy,args:[{imports:[eZ],exports:[S2,T2,I2,m2,f2,g2,y2,v2,b2,w2,E2,_2,C2,x2,eZ],declarations:[S2,T2,I2,m2,f2,g2,y2,v2,b2,w2,E2,_2,C2,x2]}]}];const A2=new jt("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});class D2{constructor(t,e,n,r){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=r}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}D2.decorators=[{type:Yg,args:[{selector:"mat-ink-bar",host:{class:"mat-ink-bar","[class._mat-animation-noopable]":"_animationMode === 'NoopAnimations'"}}]}],D2.ctorParameters=()=>[{type:Id},{type:Vy},{type:void 0,decorators:[{type:ft,args:[A2]}]},{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]}];class N2{constructor(t){this.template=t}}N2.decorators=[{type:Yg,args:[{selector:"[matTabContent]"}]}],N2.ctorParameters=()=>[{type:Zd}];class O2 extends JG{}O2.decorators=[{type:Yg,args:[{selector:"[mat-tab-label], [matTabLabel]"}]}];const P2=nZ(class{});class R2 extends P2{constructor(t){super(),this._viewContainerRef=t,this.textLabel="",this._contentPortal=null,this._stateChanges=new k,this.position=null,this.origin=null,this.isActive=!1}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new YG(this._explicitContent||this._implicitContent,this._viewContainerRef)}}R2.decorators=[{type:Xg,args:[{selector:"mat-tab",template:"<ng-template><ng-content></ng-content></ng-template>",inputs:["disabled"],changeDetection:fe.OnPush,encapsulation:ye.None,exportAs:"matTab"}]}],R2.ctorParameters=()=>[{type:tp}],R2.propDecorators={templateLabel:[{type:kc,args:[O2,{static:!1}]}],_explicitContent:[{type:kc,args:[N2,{read:Zd,static:!0}]}],_implicitContent:[{type:Ac,args:[Zd,{static:!0}]}],textLabel:[{type:Jg,args:["label"]}],ariaLabel:[{type:Jg,args:["aria-label"]}],ariaLabelledby:[{type:Jg,args:["aria-labelledby"]}]};const M2={translateTab:RH("translateTab",[BH("center, void, left-origin-center, right-origin-center",VH({transform:"none"})),BH("left",VH({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),BH("right",VH({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),UH("* => left, * => right, left => center, right => center",MH("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),UH("void => left-origin-center",[VH({transform:"translate3d(-100%, 0, 0)"}),MH("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),UH("void => right-origin-center",[VH({transform:"translate3d(100%, 0, 0)"}),MH("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};class L2 extends eQ{constructor(t,e,n){super(t,e),this._host=n,this._centeringSub=p.EMPTY,this._leavingSub=p.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(VU(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}L2.decorators=[{type:Yg,args:[{selector:"[matTabBodyHost]"}]}],L2.ctorParameters=()=>[{type:Cd},{type:tp},{type:F2,decorators:[{type:ft,args:[Ot(()=>F2)]}]}];class F2{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=p.EMPTY,this._translateTabComplete=new k,this._onCentering=new xg,this._beforeCentering=new xg,this._afterLeavingCenter=new xg,this._onCentered=new xg(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(NY((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin())}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._positionIndex<0?this._position="ltr"==t?"left":"right":this._positionIndex>0?this._position="ltr"==t?"right":"left":this._position="center"}_computePositionFromOrigin(){const t=this._getLayoutDirection();return"ltr"==t&&this.origin<=0||"rtl"==t&&this.origin>0?"left-origin-center":"right-origin-center"}}F2.decorators=[{type:Xg,args:[{selector:"mat-tab-body",template:'<div class="mat-tab-body-content" #content [@translateTab]="{ value: _position, params: {animationDuration: animationDuration} }" (@translateTab.start)="_onTranslateTabStarted($event)" (@translateTab.done)="_translateTabComplete.next($event)"><ng-template matTabBodyHost></ng-template></div>',styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}"],encapsulation:ye.None,changeDetection:fe.OnPush,animations:[M2.translateTab],host:{class:"mat-tab-body"}}]}],F2.ctorParameters=()=>[{type:Id},{type:EY,decorators:[{type:gt}]},{type:Tl}],F2.propDecorators={_onCentering:[{type:ty}],_beforeCentering:[{type:ty}],_afterLeavingCenter:[{type:ty}],_onCentered:[{type:ty}],_portalHost:[{type:Ac,args:[nQ,{static:!1}]}],_content:[{type:Jg,args:["content"]}],origin:[{type:Jg}],animationDuration:[{type:Jg}],position:[{type:Jg}]};const V2=nZ(class{});class B2 extends V2{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}B2.decorators=[{type:Yg,args:[{selector:"[matTabLabelWrapper]",inputs:["disabled"],host:{"[class.mat-tab-disabled]":"disabled","[attr.aria-disabled]":"!!disabled"}}]}],B2.ctorParameters=()=>[{type:Id}];const j2=RQ({passive:!0}),U2=60,q2=650,z2=100;class $2{constructor(t,e,n,r,i,s,o){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=r,this._ngZone=i,this._platform=s,this._animationMode=o,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new k,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new k,this._selectedIndex=0,this.selectFocusedIndex=new xg,this.indexFocused=new xg,i.runOutsideAngular(()=>{SY(t.nativeElement,"mouseleave").pipe(jY(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=BQ(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItemIndex(t))}ngAfterViewInit(){SY(this._previousPaginator.nativeElement,"touchstart",j2).pipe(jY(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),SY(this._nextPaginator.nativeElement,"touchstart",j2).pipe(jY(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:pj(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new iY(this._items).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),Z(t,e,this._items.changes).pipe(jY(this._destroyed)).subscribe(()=>{n(),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(jY(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!wQ(t))switch(t.keyCode){case hQ:this._keyManager.setFirstItemActive(),t.preventDefault();break;case uQ:this._keyManager.setLastItemActive(),t.preventDefault();break;case aQ:case cQ:this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t);break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){const t=this.scrollDistance,e=this._platform,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,e&&(e.TRIDENT||e.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){const e=("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3;return this._scrollTo(this._scrollDistance+e)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:i}=e.elementRef.nativeElement;let s,o;"ltr"==this._getLayoutDirection()?o=(s=r)+i:s=(o=this._tabList.nativeElement.offsetWidth-r)-i;const a=this.scrollDistance,l=this.scrollDistance+n;s<a?this.scrollDistance-=a-s+U2:o>l&&(this.scrollDistance+=o-l+U2)}_checkPaginationEnabled(){const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}_checkScrollingControls(){this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck()}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t){this._stopInterval(),FY(q2,z2).pipe(jY(Z(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()})}_scrollTo(t){const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}$2.ctorParameters=()=>[{type:Id},{type:Tl},{type:gX},{type:EY,decorators:[{type:gt}]},{type:Vy},{type:AQ},{type:String}];class H2 extends $2{constructor(t,e,n,r,i,s,o){super(t,e,n,r,i,s,o),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=VQ(t)}_itemSelected(t){t.preventDefault()}}H2.decorators=[{type:Xg,args:[{selector:"mat-tab-header",template:'<div class="mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4" #previousPaginator aria-hidden="true" mat-ripple [matRippleDisabled]="_disableScrollBefore || disableRipple" [class.mat-tab-header-pagination-disabled]="_disableScrollBefore" (click)="_handlePaginatorClick(\'before\')" (mousedown)="_handlePaginatorPress(\'before\')" (touchend)="_stopInterval()"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container" #tabListContainer (keydown)="_handleKeydown($event)"><div #tabList class="mat-tab-list" [class._mat-animation-noopable]="_animationMode === \'NoopAnimations\'" role="tablist" (cdkObserveContent)="_onContentChanges()"><div class="mat-tab-labels"><ng-content></ng-content></div><mat-ink-bar></mat-ink-bar></div></div><div class="mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4" #nextPaginator aria-hidden="true" mat-ripple [matRippleDisabled]="_disableScrollAfter || disableRipple" [class.mat-tab-header-pagination-disabled]="_disableScrollAfter" (mousedown)="_handlePaginatorPress(\'after\')" (click)="_handlePaginatorClick(\'after\')" (touchend)="_stopInterval()"><div class="mat-tab-header-pagination-chevron"></div></div>',styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:'';height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}@media (-ms-high-contrast:active){.mat-ink-bar{outline:solid 2px;height:0}}.mat-tab-labels{display:flex}[mat-align-tabs=center] .mat-tab-labels{justify-content:center}[mat-align-tabs=end] .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{min-width:72px}}"],inputs:["selectedIndex"],outputs:["selectFocusedIndex","indexFocused"],encapsulation:ye.None,changeDetection:fe.OnPush,host:{class:"mat-tab-header","[class.mat-tab-header-pagination-controls-enabled]":"_showPaginationControls","[class.mat-tab-header-rtl]":"_getLayoutDirection() == 'rtl'"}}]}],H2.ctorParameters=()=>[{type:Id},{type:Tl},{type:gX},{type:EY,decorators:[{type:gt}]},{type:Vy},{type:AQ},{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]}],H2.propDecorators={_items:[{type:Ic,args:[B2]}],_inkBar:[{type:Ac,args:[D2,{static:!0}]}],_tabListContainer:[{type:Ac,args:["tabListContainer",{static:!0}]}],_tabList:[{type:Ac,args:["tabList",{static:!0}]}],_nextPaginator:[{type:Ac,args:["nextPaginator",{static:!1}]}],_previousPaginator:[{type:Ac,args:["previousPaginator",{static:!1}]}],disableRipple:[{type:Jg}]};let W2=0;class K2{}const G2=new jt("MAT_TABS_CONFIG");const Q2=rZ(iZ(class{constructor(t){this._elementRef=t}}),"primary");class Y2 extends Q2{constructor(t,e,n,r){super(t),this._changeDetectorRef=e,this._animationMode=r,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=p.EMPTY,this._tabLabelSubscription=p.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new xg,this.focusChange=new xg,this.animationDone=new xg,this.selectedTabChange=new xg(!0),this._groupId=W2++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms"}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=VQ(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=BQ(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._subscribeToTabLabels(),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new K2;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Z(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}}Y2.decorators=[{type:Xg,args:[{selector:"mat-tab-group",exportAs:"matTabGroup",template:'<mat-tab-header #tabHeader [selectedIndex]="selectedIndex" [disableRipple]="disableRipple" (indexFocused)="_focusChanged($event)" (selectFocusedIndex)="selectedIndex = $event"><div class="mat-tab-label" role="tab" matTabLabelWrapper mat-ripple cdkMonitorElementFocus *ngFor="let tab of _tabs; let i = index" [id]="_getTabLabelId(i)" [attr.tabIndex]="_getTabIndex(tab, i)" [attr.aria-posinset]="i + 1" [attr.aria-setsize]="_tabs.length" [attr.aria-controls]="_getTabContentId(i)" [attr.aria-selected]="selectedIndex == i" [attr.aria-label]="tab.ariaLabel || null" [attr.aria-labelledby]="(!tab.ariaLabel && tab.ariaLabelledby) ? tab.ariaLabelledby : null" [class.mat-tab-label-active]="selectedIndex == i" [disabled]="tab.disabled" [matRippleDisabled]="tab.disabled || disableRipple" (click)="_handleClick(tab, tabHeader, i)"><div class="mat-tab-label-content"><ng-template [ngIf]="tab.templateLabel"><ng-template [cdkPortalOutlet]="tab.templateLabel"></ng-template></ng-template><ng-template [ngIf]="!tab.templateLabel">{{tab.textLabel}}</ng-template></div></div></mat-tab-header><div class="mat-tab-body-wrapper" [class._mat-animation-noopable]="_animationMode === \'NoopAnimations\'" #tabBodyWrapper><mat-tab-body role="tabpanel" *ngFor="let tab of _tabs; let i = index" [id]="_getTabContentId(i)" [attr.aria-labelledby]="_getTabLabelId(i)" [class.mat-tab-body-active]="selectedIndex == i" [content]="tab.content" [position]="tab.position" [origin]="tab.origin" [animationDuration]="animationDuration" (_onCentered)="_removeTabBodyWrapperHeight()" (_onCentering)="_setTabBodyWrapperHeight($event)"></mat-tab-body></div>',styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{padding:0 12px}}@media (max-width:959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:ye.None,changeDetection:fe.OnPush,inputs:["color","disableRipple"],host:{class:"mat-tab-group","[class.mat-tab-group-dynamic-height]":"dynamicHeight","[class.mat-tab-group-inverted-header]":'headerPosition === "below"'}}]}],Y2.ctorParameters=()=>[{type:Id},{type:Tl},{type:void 0,decorators:[{type:ft,args:[G2]},{type:gt}]},{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]}],Y2.propDecorators={_tabs:[{type:Ic,args:[R2]}],_tabBodyWrapper:[{type:Ac,args:["tabBodyWrapper",{static:!1}]}],_tabHeader:[{type:Ac,args:["tabHeader",{static:!1}]}],dynamicHeight:[{type:Jg}],selectedIndex:[{type:Jg}],headerPosition:[{type:Jg}],animationDuration:[{type:Jg}],backgroundColor:[{type:Jg}],selectedIndexChange:[{type:ty}],focusChange:[{type:ty}],animationDone:[{type:ty}],selectedTabChange:[{type:ty}]};class X2 extends $2{constructor(t,e,n,r,i,s,o){super(t,r,i,e,n,s,o),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement.classList;e.remove(`mat-background-${this.backgroundColor}`),t&&e.add(`mat-background-${t}`),this._backgroundColor=t}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=VQ(t)}_itemSelected(){}ngAfterContentInit(){this.updateActiveLink(),super.ngAfterContentInit()}updateActiveLink(t){if(!this._items)return;const e=this._items.toArray();for(let n=0;n<e.length;n++)if(e[n].active)return this.selectedIndex=n,void this._changeDetectorRef.markForCheck();this.selectedIndex=-1,this._inkBar.hide()}}X2.decorators=[{type:Xg,args:[{selector:"[mat-tab-nav-bar]",exportAs:"matTabNavBar, matTabNav",inputs:["color"],template:'<div class="mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4" #previousPaginator aria-hidden="true" mat-ripple [matRippleDisabled]="_disableScrollBefore || disableRipple" [class.mat-tab-header-pagination-disabled]="_disableScrollBefore" (click)="_handlePaginatorClick(\'before\')" (mousedown)="_handlePaginatorPress(\'before\')" (touchend)="_stopInterval()"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-link-container" #tabListContainer (keydown)="_handleKeydown($event)"><div class="mat-tab-list" #tabList (cdkObserveContent)="_onContentChanges()"><div class="mat-tab-links"><ng-content></ng-content></div><mat-ink-bar></mat-ink-bar></div></div><div class="mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4" #nextPaginator aria-hidden="true" mat-ripple [matRippleDisabled]="_disableScrollAfter || disableRipple" [class.mat-tab-header-pagination-disabled]="_disableScrollAfter" (mousedown)="_handlePaginatorPress(\'after\')" (click)="_handlePaginatorClick(\'after\')" (touchend)="_stopInterval()"><div class="mat-tab-header-pagination-chevron"></div></div>',styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:'';height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-tab-links{display:flex}[mat-align-tabs=center] .mat-tab-links{justify-content:center}[mat-align-tabs=end] .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}@media (-ms-high-contrast:active){.mat-ink-bar{outline:solid 2px;height:0}}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:0}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-link:focus{outline:dotted 2px}}.mat-tab-link.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-link.mat-tab-disabled{opacity:.5}}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-link{opacity:1}}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}@media (max-width:599px){.mat-tab-link{min-width:72px}}"],host:{class:"mat-tab-nav-bar mat-tab-header","[class.mat-tab-header-pagination-controls-enabled]":"_showPaginationControls","[class.mat-tab-header-rtl]":"_getLayoutDirection() == 'rtl'","[class.mat-primary]":'color !== "warn" && color !== "accent"',"[class.mat-accent]":'color === "accent"',"[class.mat-warn]":'color === "warn"'},encapsulation:ye.None,changeDetection:fe.OnPush}]}],X2.ctorParameters=()=>[{type:Id},{type:EY,decorators:[{type:gt}]},{type:Vy},{type:Tl},{type:gX},{type:AQ,decorators:[{type:gt}]},{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]}],X2.propDecorators={_items:[{type:Ic,args:[Ot(()=>J2),{descendants:!0}]}],_inkBar:[{type:Ac,args:[D2,{static:!0}]}],_tabListContainer:[{type:Ac,args:["tabListContainer",{static:!0}]}],_tabList:[{type:Ac,args:["tabList",{static:!0}]}],_nextPaginator:[{type:Ac,args:["nextPaginator",{static:!1}]}],_previousPaginator:[{type:Ac,args:["previousPaginator",{static:!1}]}],backgroundColor:[{type:Jg}],disableRipple:[{type:Jg}],color:[{type:Jg}]};const Z2=sZ(iZ(nZ(class{})));class J2 extends Z2{constructor(t,e,n,r,i,s,o,a){super(),this._tabNavBar=t,this.elementRef=e,this._focusMonitor=o,this._isActive=!1,this._tabLinkRipple=new PZ(this,n,e,r),this._tabLinkRipple.setupTriggerEvents(e.nativeElement),this.rippleConfig=i||{},this.tabIndex=parseInt(s)||0,"NoopAnimations"===a&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0}),o.monitor(e)}get active(){return this._isActive}set active(t){t!==this._isActive&&(this._isActive=t,this._tabNavBar.updateActiveLink(this.elementRef))}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngOnDestroy(){this._tabLinkRipple._removeTriggerEvents(),this._focusMonitor.stopMonitoring(this.elementRef)}}J2.decorators=[{type:Yg,args:[{selector:"[mat-tab-link], [matTabLink]",exportAs:"matTabLink",inputs:["disabled","disableRipple","tabIndex"],host:{class:"mat-tab-link","[attr.aria-current]":'active ? "page" : null',"[attr.aria-disabled]":"disabled","[attr.tabIndex]":"tabIndex","[class.mat-tab-disabled]":"disabled","[class.mat-tab-label-active]":"active"}}]}],J2.ctorParameters=()=>[{type:X2},{type:Id},{type:Vy},{type:AQ},{type:void 0,decorators:[{type:gt},{type:ft,args:[RZ]}]},{type:String,decorators:[{type:bt,args:["tabindex"]}]},{type:yY},{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]}],J2.propDecorators={active:[{type:Jg}]};class t3{}function e3(t){return Error(`Unable to find icon with the name "${t}"`)}function n3(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function r3(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}t3.decorators=[{type:oy,args:[{imports:[vV,eZ,rQ,LZ,WQ,bY],exports:[eZ,Y2,O2,R2,X2,J2,N2],declarations:[Y2,O2,R2,D2,B2,X2,J2,F2,L2,H2,N2]}]}];class i3{constructor(t){t.nodeName?this.svgElement=t:this.url=t}}class s3{constructor(t,e,n){this._httpClient=t,this._sanitizer=e,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e){return this.addSvgIconInNamespace("",t,e)}addSvgIconLiteral(t,e){return this.addSvgIconLiteralInNamespace("",t,e)}addSvgIconInNamespace(t,e,n){return this._addSvgIconConfig(t,e,new i3(n))}addSvgIconLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(Ws.HTML,n);if(!r)throw r3(n);const i=this._createSvgElementForSingleIcon(r);return this._addSvgIconConfig(t,e,new i3(i))}addSvgIconSet(t){return this.addSvgIconSetInNamespace("",t)}addSvgIconSetLiteral(t){return this.addSvgIconSetLiteralInNamespace("",t)}addSvgIconSetInNamespace(t,e){return this._addSvgIconSetConfig(t,new i3(e))}addSvgIconSetLiteralInNamespace(t,e){const n=this._sanitizer.sanitize(Ws.HTML,e);if(!n)throw r3(e);const r=this._svgElementFromString(n);return this._addSvgIconSetConfig(t,new i3(r))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Ws.RESOURCE_URL,t);if(!e)throw n3(t);const n=this._cachedIconsByUrl.get(e);return n?pj(o3(n)):this._loadSvgIconFromConfig(new i3(t)).pipe(yU(t=>this._cachedIconsByUrl.set(e,t)),q(t=>o3(t)))}getNamedSvgIcon(t,e=""){const n=a3(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):HY(e3(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?pj(o3(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(yU(e=>t.svgElement=e),q(t=>o3(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?pj(n):mJ(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(SU(e=>{const n=this._sanitizer.sanitize(Ws.RESOURCE_URL,t.url);return console.error(`Loading icon set URL: ${n} failed: ${e.message}`),pj(null)})))).pipe(q(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw e3(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgElement){const e=this._extractSvgIconFromSet(r.svgElement,t);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(q(t=>this._createSvgElementForSingleIcon(t)))}_loadSvgIconSetFromConfig(t){return t.svgElement?pj(t.svgElement):this._fetchUrl(t.url).pipe(q(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t){const e=this._svgElementFromString(t);return this._setSvgAttributes(e),e}_extractSvgIconFromSet(t,e){const n=t.querySelector(`[id="${e}"]`);if(!n)return null;const r=n.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r));const i=this._svgElementFromString("<svg></svg>");return i.appendChild(r),this._setSvgAttributes(i)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){let e=this._svgElementFromString("<svg></svg>");for(let n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[n].cloneNode(!0));return e}_setSvgAttributes(t){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(Ws.RESOURCE_URL,t);if(!e)throw n3(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const r=this._httpClient.get(e,{responseType:"text"}).pipe(qU(()=>this._inProgressUrlFetches.delete(e)),at());return this._inProgressUrlFetches.set(e,r),r}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(a3(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}s3.decorators=[{type:Ul,args:[{providedIn:"root"}]}],s3.ctorParameters=()=>[{type:Rj,decorators:[{type:gt}]},{type:RB},{type:void 0,decorators:[{type:gt},{type:ft,args:[bV]}]}],s3.ngInjectableDef=xt({factory:function(){return new s3(Jt(Rj,8),Jt(RB),Jt(bV,8))},token:s3,providedIn:"root"});new gt,new vt,new gt,new gt;function o3(t){return t.cloneNode(!0)}function a3(t,e){return t+":"+e}const l3=rZ(class{constructor(t){this._elementRef=t}}),c3=new jt("mat-icon-location",{providedIn:"root",factory:function(){const t=te(bV),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}});const u3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],h3=u3.map(t=>`[${t}]`).join(", "),d3=/^url\(['"]?#(.*?)['"]?\)$/;class p3 extends l3{constructor(t,e,n,r){super(t),this._iconRegistry=e,this._location=r,this._inline=!1,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=VQ(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(e,t).pipe(kU(1)).subscribe(t=>this._setSvgElement(t),t=>console.log(`Error retrieving icon: ${t.message}`))}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(h3),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)u3.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(d3):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}}p3.decorators=[{type:Xg,args:[{template:"<ng-content></ng-content>",selector:"mat-icon",exportAs:"matIcon",styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],inputs:["color"],host:{role:"img",class:"mat-icon notranslate","[class.mat-icon-inline]":"inline","[class.mat-icon-no-color]":'color !== "primary" && color !== "accent" && color !== "warn"'},encapsulation:ye.None,changeDetection:fe.OnPush}]}],p3.ctorParameters=()=>[{type:Id},{type:s3},{type:String,decorators:[{type:bt,args:["aria-hidden"]}]},{type:void 0,decorators:[{type:gt},{type:ft,args:[c3]}]}],p3.propDecorators={inline:[{type:Jg}],svgIcon:[{type:Jg}],fontSet:[{type:Jg}],fontIcon:[{type:Jg}]};class m3{}m3.decorators=[{type:oy,args:[{imports:[eZ],exports:[p3,eZ],declarations:[p3]}]}];const f3="accent",g3=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];const y3=rZ(nZ(iZ(class{constructor(t){this._elementRef=t}})));class v3 extends y3{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of g3)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color=f3)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}v3.decorators=[{type:Xg,args:[{selector:"button[mat-button], button[mat-raised-button], button[mat-icon-button],\n             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],\n             button[mat-flat-button]",exportAs:"matButton",host:{"[attr.disabled]":"disabled || null","[class._mat-animation-noopable]":'_animationMode === "NoopAnimations"'},template:'<span class="mat-button-wrapper"><ng-content></ng-content></span><div matRipple class="mat-button-ripple" [class.mat-button-ripple-round]="isRoundButton || isIconButton" [matRippleDisabled]="_isRippleDisabled()" [matRippleCentered]="isIconButton" [matRippleTrigger]="_getHostElement()"></div><div class="mat-button-focus-overlay"></div>',styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],inputs:["disabled","disableRipple","color"],encapsulation:ye.None,changeDetection:fe.OnPush}]}],v3.ctorParameters=()=>[{type:Id},{type:yY},{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]}],v3.propDecorators={ripple:[{type:Ac,args:[MZ,{static:!1}]}]};class _3 extends v3{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}_3.decorators=[{type:Xg,args:[{selector:"a[mat-button], a[mat-raised-button], a[mat-icon-button], a[mat-fab],\n             a[mat-mini-fab], a[mat-stroked-button], a[mat-flat-button]",exportAs:"matButton, matAnchor",host:{"[attr.tabindex]":"disabled ? -1 : (tabIndex || 0)","[attr.disabled]":"disabled || null","[attr.aria-disabled]":"disabled.toString()","(click)":"_haltDisabledEvents($event)","[class._mat-animation-noopable]":'_animationMode === "NoopAnimations"'},inputs:["disabled","disableRipple","color"],template:'<span class="mat-button-wrapper"><ng-content></ng-content></span><div matRipple class="mat-button-ripple" [class.mat-button-ripple-round]="isRoundButton || isIconButton" [matRippleDisabled]="_isRippleDisabled()" [matRippleCentered]="isIconButton" [matRippleTrigger]="_getHostElement()"></div><div class="mat-button-focus-overlay"></div>',styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],encapsulation:ye.None,changeDetection:fe.OnPush}]}],_3.ctorParameters=()=>[{type:yY},{type:Id},{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]}],_3.propDecorators={tabIndex:[{type:Jg}]};class b3{}b3.decorators=[{type:oy,args:[{imports:[vV,LZ,eZ],exports:[v3,_3,eZ],declarations:[v3,_3]}]}];let w3=0;class E3{constructor(){this.id=`mat-error-${w3++}`}}E3.decorators=[{type:Yg,args:[{selector:"mat-error",host:{class:"mat-error",role:"alert","[attr.id]":"id"}}]}],E3.propDecorators={id:[{type:Jg}]};const C3={transitionMessages:RH("transitionMessages",[BH("enter",VH({opacity:1,transform:"translateY(0%)"})),UH("void => enter",[VH({opacity:0,transform:"translateY(-100%)"}),MH("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};class x3{}function S3(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let T3=0;class I3{constructor(){this.align="start",this.id=`mat-hint-${T3++}`}}I3.decorators=[{type:Yg,args:[{selector:"mat-hint",host:{class:"mat-hint","[class.mat-right]":'align == "end"',"[attr.id]":"id","[attr.align]":"null"}}]}],I3.propDecorators={align:[{type:Jg}],id:[{type:Jg}]};class k3{}k3.decorators=[{type:Yg,args:[{selector:"mat-label"}]}];class A3{}A3.decorators=[{type:Yg,args:[{selector:"mat-placeholder"}]}];class D3{}D3.decorators=[{type:Yg,args:[{selector:"[matPrefix]"}]}];class N3{}N3.decorators=[{type:Yg,args:[{selector:"[matSuffix]"}]}];let O3=0;const P3=.75,R3=5;const M3=rZ(class{constructor(t){this._elementRef=t}},"primary"),L3=new jt("MAT_FORM_FIELD_DEFAULT_OPTIONS");class F3 extends M3{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new k,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${O3++}`,this._labelId=`mat-form-field-label-${O3++}`,this._labelOptions=n||{},this.floatLabel=this._labelOptions.float||"auto",this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy"}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=VQ(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(VU(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(jY(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(jY(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Z(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(VU(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(VU(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(jY(this._destroyed)).subscribe(()=>this.updateOutlineGap())}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,SY(this._label.nativeElement,"transitionend").pipe(kU(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw S3("start");t=n}else if("end"===n.align){if(e)throw S3("end");e=n}})}}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!document.documentElement.contains(this._elementRef.nativeElement))return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=o-s-R3,n=a>0?a*P3+2*R3:0}for(let o=0;o<i.length;o++)i.item(o).style.width=`${e}px`;for(let o=0;o<s.length;o++)s.item(o).style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}}F3.decorators=[{type:Xg,args:[{selector:"mat-form-field",exportAs:"matFormField",template:'<div class="mat-form-field-wrapper"><div class="mat-form-field-flex" #connectionContainer (click)="_control.onContainerClick && _control.onContainerClick($event)"><ng-container *ngIf="appearance == \'outline\'"><div class="mat-form-field-outline"><div class="mat-form-field-outline-start"></div><div class="mat-form-field-outline-gap"></div><div class="mat-form-field-outline-end"></div></div><div class="mat-form-field-outline mat-form-field-outline-thick"><div class="mat-form-field-outline-start"></div><div class="mat-form-field-outline-gap"></div><div class="mat-form-field-outline-end"></div></div></ng-container><div class="mat-form-field-prefix" *ngIf="_prefixChildren.length"><ng-content select="[matPrefix]"></ng-content></div><div class="mat-form-field-infix" #inputContainer><ng-content></ng-content><span class="mat-form-field-label-wrapper"><label class="mat-form-field-label" (cdkObserveContent)="updateOutlineGap()" [cdkObserveContentDisabled]="appearance != \'outline\'" [id]="_labelId" [attr.for]="_control.id" [attr.aria-owns]="_control.id" [class.mat-empty]="_control.empty && !_shouldAlwaysFloat" [class.mat-form-field-empty]="_control.empty && !_shouldAlwaysFloat" [class.mat-accent]="color == \'accent\'" [class.mat-warn]="color == \'warn\'" #label *ngIf="_hasFloatingLabel()" [ngSwitch]="_hasLabel()"><ng-container *ngSwitchCase="false"><ng-content select="mat-placeholder"></ng-content><span>{{_control.placeholder}}</span></ng-container><ng-content select="mat-label" *ngSwitchCase="true"></ng-content><span class="mat-placeholder-required mat-form-field-required-marker" aria-hidden="true" *ngIf="!hideRequiredMarker && _control.required && !_control.disabled">&#32;*</span></label></span></div><div class="mat-form-field-suffix" *ngIf="_suffixChildren.length"><ng-content select="[matSuffix]"></ng-content></div></div><div class="mat-form-field-underline" #underline *ngIf="appearance != \'outline\'"><span class="mat-form-field-ripple" [class.mat-accent]="color == \'accent\'" [class.mat-warn]="color == \'warn\'"></span></div><div class="mat-form-field-subscript-wrapper" [ngSwitch]="_getDisplayedMessages()"><div *ngSwitchCase="\'error\'" [@transitionMessages]="_subscriptAnimationState"><ng-content select="mat-error"></ng-content></div><div class="mat-form-field-hint-wrapper" *ngSwitchCase="\'hint\'" [@transitionMessages]="_subscriptAnimationState"><div *ngIf="hintLabel" [id]="_hintLabelId" class="mat-hint">{{hintLabel}}</div><ng-content select="mat-hint:not([align=\'end\'])"></ng-content><div class="mat-form-field-hint-spacer"></div><ng-content select="mat-hint[align=\'end\']"></ng-content></div></div></div>',styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none} .mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em} .mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px} .mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px} .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none} .mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],animations:[C3.transitionMessages],host:{class:"mat-form-field","[class.mat-form-field-appearance-standard]":'appearance == "standard"',"[class.mat-form-field-appearance-fill]":'appearance == "fill"',"[class.mat-form-field-appearance-outline]":'appearance == "outline"',"[class.mat-form-field-appearance-legacy]":'appearance == "legacy"',"[class.mat-form-field-invalid]":"_control.errorState","[class.mat-form-field-can-float]":"_canLabelFloat","[class.mat-form-field-should-float]":"_shouldLabelFloat()","[class.mat-form-field-has-label]":"_hasFloatingLabel()","[class.mat-form-field-hide-placeholder]":"_hideControlPlaceholder()","[class.mat-form-field-disabled]":"_control.disabled","[class.mat-form-field-autofilled]":"_control.autofilled","[class.mat-focused]":"_control.focused","[class.mat-accent]":'color == "accent"',"[class.mat-warn]":'color == "warn"',"[class.ng-untouched]":'_shouldForward("untouched")',"[class.ng-touched]":'_shouldForward("touched")',"[class.ng-pristine]":'_shouldForward("pristine")',"[class.ng-dirty]":'_shouldForward("dirty")',"[class.ng-valid]":'_shouldForward("valid")',"[class.ng-invalid]":'_shouldForward("invalid")',"[class.ng-pending]":'_shouldForward("pending")',"[class._mat-animation-noopable]":"!_animationsEnabled"},inputs:["color"],encapsulation:ye.None,changeDetection:fe.OnPush}]}],F3.ctorParameters=()=>[{type:Id},{type:Tl},{type:void 0,decorators:[{type:gt},{type:ft,args:[GZ]}]},{type:EY,decorators:[{type:gt}]},{type:void 0,decorators:[{type:gt},{type:ft,args:[L3]}]},{type:AQ},{type:Vy},{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]}],F3.propDecorators={appearance:[{type:Jg}],hideRequiredMarker:[{type:Jg}],hintLabel:[{type:Jg}],floatLabel:[{type:Jg}],underlineRef:[{type:Ac,args:["underline",{static:!1}]}],_connectionContainerRef:[{type:Ac,args:["connectionContainer",{static:!0}]}],_inputContainerRef:[{type:Ac,args:["inputContainer",{static:!1}]}],_label:[{type:Ac,args:["label",{static:!1}]}],_controlNonStatic:[{type:kc,args:[x3,{static:!1}]}],_controlStatic:[{type:kc,args:[x3,{static:!0}]}],_labelChildNonStatic:[{type:kc,args:[k3,{static:!1}]}],_labelChildStatic:[{type:kc,args:[k3,{static:!0}]}],_placeholderChild:[{type:kc,args:[A3,{static:!1}]}],_errorChildren:[{type:Ic,args:[E3]}],_hintChildren:[{type:Ic,args:[I3]}],_prefixChildren:[{type:Ic,args:[D3]}],_suffixChildren:[{type:Ic,args:[N3]}]};class V3{}V3.decorators=[{type:oy,args:[{declarations:[E3,F3,I3,k3,A3,D3,N3],imports:[vV,WQ],exports:[E3,F3,I3,k3,A3,D3,N3]}]}];const B3={transformPanelWrap:RH("transformPanelWrap",[UH("* => void",$H("@transformPanel",[zH()],{optional:!0}))]),transformPanel:RH("transformPanel",[BH("void",VH({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),BH("showing",VH({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),BH("showing-multiple",VH({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),UH("void => *",MH("120ms cubic-bezier(0, 0, 0.2, 1)")),UH("* => void",MH("100ms 25ms linear",VH({opacity:0})))]),fadeInContent:RH("fadeInContent",[BH("showing",VH({opacity:1})),UH("void => showing",[VH({opacity:0}),MH("150ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};B3.transformPanel,B3.fadeInContent;let j3=0;const U3=256,q3=16,z3=2*q3,$3=3,H3=1.5*q3+16,W3=8,K3=new jt("mat-select-scroll-strategy");const G3={provide:K3,deps:[qX],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class Q3{constructor(t,e){this.source=t,this.value=e}}const Y3=iZ(sZ(nZ(oZ(class{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}))));class X3{}X3.decorators=[{type:Yg,args:[{selector:"mat-select-trigger"}]}];class Z3 extends Y3{constructor(t,e,n,r,i,s,o,a,l,c,u,h,d){super(i,r,o,a,c),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=l,this.ngControl=c,this._liveAnnouncer=d,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid=`mat-select-${j3++}`,this._destroy=new k,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new k,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=uU(()=>{const t=this.options;return t?t.changes.pipe(VU(t),RU(()=>Z(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(kU(1),RU(()=>this.optionSelectionChanges))}),this.openedChange=new xg,this._openedStream=this.openedChange.pipe(fj(t=>t),q(()=>{})),this._closedStream=this.openedChange.pipe(fj(t=>!t),q(()=>{})),this.selectionChange=new xg,this.valueChange=new xg,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=h,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(u)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}set focused(t){this._focused=t}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=VQ(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=VQ(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=VQ(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new nX(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(NY(),jY(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(jY(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.onChange.pipe(jY(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(VU(null),jY(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next()}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(kU(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=e===fQ||e===pQ||e===dQ||e===mQ,r=e===aQ||e===cQ,i=this._keyManager;if(r&&!wQ(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const n=this.selected;e===hQ||e===uQ?(e===hQ?i.setFirstItemActive():i.setLastItemActive(),t.preventDefault()):i.onKeydown(t);const r=this.selected;this._liveAnnouncer&&r&&n!==r&&this._liveAnnouncer.announce(r.viewValue,1e4)}}_handleOpenKeydown(t){const e=t.keyCode,n=e===fQ||e===pQ,r=this._keyManager;if(e===hQ||e===uQ)t.preventDefault(),e===hQ?r.setFirstItemActive():r.setLastItemActive();else if(n&&t.altKey)t.preventDefault(),this.close();else if(e!==aQ&&e!==cQ||!r.activeItem||wQ(t))if(this._multiple&&e===_Q&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const e=r.activeItemIndex;r.onKeydown(t),this._multiple&&n&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==e&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(kU(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e&&this._keyManager.setActiveItem(e)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return vs()&&console.warn(n),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new rY(this.options).withTypeAhead().withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(jY(this._destroy)).subscribe(()=>{this.focus(),this.close()}),this._keyManager.change.pipe(jY(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Z(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(jY(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Z(...this.options.map(t=>t._stateChanges)).pipe(jY(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new Q3(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=WZ(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=function(t,e,n,r){const i=t*e;return i<n?i:i+e>n+r?Math.max(0,i-r+e):n}(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop,U3)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,r)=>void 0===e?t===n?r:void 0:e,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,U3),r=e*t-n;let i=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);i+=WZ(i,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(i,s,r),this._offsetY=this._calculateOverlayOffsetY(i,s,r),this._checkOverlayWithinViewport(r)}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight(),i=r*t-e+r/2;return Math.min(Math.max(0,i),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?H3+q3:2*q3;let i;if(this.multiple)i=H3;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?z3:q3}n||(i*=-1);const s=0-(t.left+i-(n?r:0)),o=t.right+i-e.width+(n?0:r);s>0?i+=s+W3:o>0&&(i-=o+W3),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,s=Math.floor(U3/r);let o;if(this._disableOptionCentering)return 0;if(0===this._scrollTop)o=t*r;else if(this._scrollTop===n){o=(t-(this._getItemCount()-s))*r+(r-(this._getItemCount()*r-U3)%r)}else o=e-r/2;return Math.round(-1*o-i)}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-W3,i=n.height-this._triggerRect.bottom-W3,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,U3)-s-this._triggerRect.height;o>i?this._adjustPanelUp(o,i):s>r?this._adjustPanelDown(s,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return this._triggerFontSize*$3}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}Z3.decorators=[{type:Xg,args:[{selector:"mat-select",exportAs:"matSelect",template:'<div cdk-overlay-origin class="mat-select-trigger" aria-hidden="true" (click)="toggle()" #origin="cdkOverlayOrigin" #trigger><div class="mat-select-value" [ngSwitch]="empty"><span class="mat-select-placeholder" *ngSwitchCase="true">{{placeholder || \'\xa0\'}}</span> <span class="mat-select-value-text" *ngSwitchCase="false" [ngSwitch]="!!customTrigger"><span *ngSwitchDefault>{{triggerValue || \'\xa0\'}}</span><ng-content select="mat-select-trigger" *ngSwitchCase="true"></ng-content></span></div><div class="mat-select-arrow-wrapper"><div class="mat-select-arrow"></div></div></div><ng-template cdk-connected-overlay cdkConnectedOverlayLockPosition cdkConnectedOverlayHasBackdrop cdkConnectedOverlayBackdropClass="cdk-overlay-transparent-backdrop" [cdkConnectedOverlayScrollStrategy]="_scrollStrategy" [cdkConnectedOverlayOrigin]="origin" [cdkConnectedOverlayOpen]="panelOpen" [cdkConnectedOverlayPositions]="_positions" [cdkConnectedOverlayMinWidth]="_triggerRect?.width" [cdkConnectedOverlayOffsetY]="_offsetY" (backdropClick)="close()" (attach)="_onAttached()" (detach)="close()"><div class="mat-select-panel-wrap" [@transformPanelWrap]><div #panel class="mat-select-panel {{ _getPanelTheme() }}" [ngClass]="panelClass" [@transformPanel]="multiple ? \'showing-multiple\' : \'showing\'" (@transformPanel.done)="_panelDoneAnimatingStream.next($event.toState)" [style.transformOrigin]="_transformOrigin" [style.font-size.px]="_triggerFontSize" (keydown)="_handleKeydown($event)"><ng-content></ng-content></div></div></ng-template>',styles:[".mat-select{display:inline-block;width:100%;outline:0}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform .4s cubic-bezier(.25,.8,.25,1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}@media (-ms-high-contrast:active){.mat-select-panel{outline:solid 1px}}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}"],inputs:["disabled","disableRipple","tabIndex"],encapsulation:ye.None,changeDetection:fe.OnPush,host:{role:"listbox","[attr.id]":"id","[attr.tabindex]":"tabIndex","[attr.aria-label]":"_getAriaLabel()","[attr.aria-labelledby]":"_getAriaLabelledby()","[attr.aria-required]":"required.toString()","[attr.aria-disabled]":"disabled.toString()","[attr.aria-invalid]":"errorState","[attr.aria-owns]":"panelOpen ? _optionIds : null","[attr.aria-multiselectable]":"multiple","[attr.aria-describedby]":"_ariaDescribedby || null","[attr.aria-activedescendant]":"_getAriaActiveDescendant()","[class.mat-select-disabled]":"disabled","[class.mat-select-invalid]":"errorState","[class.mat-select-required]":"required","[class.mat-select-empty]":"empty",class:"mat-select","(keydown)":"_handleKeydown($event)","(focus)":"_onFocus()","(blur)":"_onBlur()"},animations:[B3.transformPanelWrap,B3.transformPanel],providers:[{provide:x3,useExisting:Z3},{provide:$Z,useExisting:Z3}]}]}],Z3.ctorParameters=()=>[{type:gX},{type:Tl},{type:Vy},{type:_Z},{type:Id},{type:EY,decorators:[{type:gt}]},{type:D0,decorators:[{type:gt}]},{type:H0,decorators:[{type:gt}]},{type:F3,decorators:[{type:gt}]},{type:SJ,decorators:[{type:yt},{type:gt}]},{type:String,decorators:[{type:bt,args:["tabindex"]}]},{type:void 0,decorators:[{type:ft,args:[K3]}]},{type:pY}],Z3.propDecorators={trigger:[{type:Ac,args:["trigger",{static:!1}]}],panel:[{type:Ac,args:["panel",{static:!1}]}],overlayDir:[{type:Ac,args:[WX,{static:!1}]}],options:[{type:Ic,args:[HZ,{descendants:!0}]}],optionGroups:[{type:Ic,args:[UZ]}],panelClass:[{type:Jg}],customTrigger:[{type:kc,args:[X3,{static:!1}]}],placeholder:[{type:Jg}],required:[{type:Jg}],multiple:[{type:Jg}],disableOptionCentering:[{type:Jg}],compareWith:[{type:Jg}],value:[{type:Jg}],ariaLabel:[{type:Jg,args:["aria-label"]}],ariaLabelledby:[{type:Jg,args:["aria-labelledby"]}],errorStateMatcher:[{type:Jg}],sortComparator:[{type:Jg}],id:[{type:Jg}],openedChange:[{type:ty}],_openedStream:[{type:ty,args:["opened"]}],_closedStream:[{type:ty,args:["closed"]}],selectionChange:[{type:ty}],valueChange:[{type:ty}]};class J3{}J3.decorators=[{type:oy,args:[{imports:[vV,GX,KZ,eZ],exports:[V3,Z3,X3,KZ,eZ],declarations:[Z3,X3],providers:[G3]}]}];const t4=rZ(iZ(nZ(class{constructor(t){this._elementRef=t}})),"primary");class e4{}e4.decorators=[{type:Yg,args:[{selector:"mat-chip-avatar, [matChipAvatar]",host:{class:"mat-chip-avatar"}}]}];class n4{}n4.decorators=[{type:Yg,args:[{selector:"mat-chip-trailing-icon, [matChipTrailingIcon]",host:{class:"mat-chip-trailing-icon"}}]}];class r4 extends t4{constructor(t,e,n,r,i){super(t),this._elementRef=t,this._ngZone=e,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._selected=!1,this._selectable=!0,this._removable=!0,this._onFocus=new k,this._onBlur=new k,this.selectionChange=new xg,this.destroyed=new xg,this.removed=new xg,this._addHostClassName(),this._chipRipple=new PZ(this,e,t,n),this._chipRipple.setupTriggerEvents(t.nativeElement),this.rippleConfig=r||{},this._animationsDisabled="NoopAnimations"===i}get rippleDisabled(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const e=VQ(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}get value(){return null!=this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=VQ(t)}get removable(){return this._removable}set removable(t){this._removable=VQ(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t=this._elementRef.nativeElement;t.hasAttribute("mat-basic-chip")||"mat-basic-chip"===t.tagName.toLowerCase()?t.classList.add("mat-basic-chip"):t.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0))}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled?t.preventDefault():t.stopPropagation()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case gQ:case sQ:this.remove(),t.preventDefault();break;case cQ:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.asObservable().pipe(kU(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}}r4.decorators=[{type:Yg,args:[{selector:"mat-basic-chip, [mat-basic-chip], mat-chip, [mat-chip]",inputs:["color","disabled","disableRipple"],exportAs:"matChip",host:{class:"mat-chip","[attr.tabindex]":"disabled ? null : -1",role:"option","[class.mat-chip-selected]":"selected","[class.mat-chip-with-avatar]":"avatar","[class.mat-chip-with-trailing-icon]":"trailingIcon || removeIcon","[class.mat-chip-disabled]":"disabled","[class._mat-animation-noopable]":"_animationsDisabled","[attr.disabled]":"disabled || null","[attr.aria-disabled]":"disabled.toString()","[attr.aria-selected]":"ariaSelected","(click)":"_handleClick($event)","(keydown)":"_handleKeydown($event)","(focus)":"focus()","(blur)":"_blur()"}}]}],r4.ctorParameters=()=>[{type:Id},{type:Vy},{type:AQ},{type:void 0,decorators:[{type:gt},{type:ft,args:[RZ]}]},{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]}],r4.propDecorators={avatar:[{type:kc,args:[e4,{static:!1}]}],trailingIcon:[{type:kc,args:[n4,{static:!1}]}],removeIcon:[{type:kc,args:[Ot(()=>i4),{static:!1}]}],selected:[{type:Jg}],value:[{type:Jg}],selectable:[{type:Jg}],removable:[{type:Jg}],selectionChange:[{type:ty}],destroyed:[{type:ty}],removed:[{type:ty}]};class i4{constructor(t){this._parentChip=t}_handleClick(t){const e=this._parentChip;e.removable&&!e.disabled&&e.remove(),t.stopPropagation()}}i4.decorators=[{type:Yg,args:[{selector:"[matChipRemove]",host:{class:"mat-chip-remove mat-chip-trailing-icon","(click)":"_handleClick($event)"}}]}],i4.ctorParameters=()=>[{type:r4}];const s4=new jt("mat-chips-default-options");const o4=oZ(class{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}});let a4=0;class l4{constructor(t,e){this.source=t,this.value=e}}class c4 extends o4{constructor(t,e,n,r,i,s,o){super(s,r,i,o),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this.ngControl=o,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new k,this._uid=`mat-chip-list-${a4++}`,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(t,e)=>t===e,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new xg,this.valueChange=new xg,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=VQ(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=VQ(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=VQ(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=VQ(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return Z(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return Z(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return Z(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return Z(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new iY(this.chips).withWrap().withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(jY(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe(jY(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(VU(null),jY(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new nX(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const e=t.target;t.keyCode===sQ&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(t.keyCode===hQ?(this._keyManager.setFirstItemActive(),t.preventDefault()):t.keyCode===uQ?(this._keyManager.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_isInputEmpty(t){if(t&&"input"===t.nodeName.toLowerCase()){return!t.value}return!1}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const n=this._selectValue(t,e);n&&e&&this._keyManager.setActiveItem(n)}}_selectValue(t,e=!0){const n=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return n&&(e?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new l4(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItemIndex(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const e=t.chip,n=this.chips.toArray().indexOf(t.chip);this._isValidIndex(n)&&e._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(t){let e=t.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}_hasFocusedChip(){return this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t.disabled=this._disabled,t._chipListMultiple=this.multiple})}}c4.decorators=[{type:Xg,args:[{selector:"mat-chip-list",template:'<div class="mat-chip-list-wrapper"><ng-content></ng-content></div>',exportAs:"matChipList",host:{"[attr.tabindex]":"disabled ? null : _tabIndex","[attr.aria-describedby]":"_ariaDescribedby || null","[attr.aria-required]":"required.toString()","[attr.aria-disabled]":"disabled.toString()","[attr.aria-invalid]":"errorState","[attr.aria-multiselectable]":"multiple","[attr.role]":"role","[class.mat-chip-list-disabled]":"disabled","[class.mat-chip-list-invalid]":"errorState","[class.mat-chip-list-required]":"required","[attr.aria-orientation]":"ariaOrientation",class:"mat-chip-list","(focus)":"focus()","(blur)":"_blur()","(keydown)":"_keydown($event)","[id]":"_uid"},providers:[{provide:x3,useExisting:c4}],styles:[".mat-chip{position:relative;overflow:hidden;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:'';pointer-events:none;transition:opacity .2s cubic-bezier(.35,0,.25,1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:0}.mat-standard-chip:focus::after{opacity:.16}@media (-ms-high-contrast:active){.mat-standard-chip{outline:solid 1px}.mat-standard-chip:focus{outline:dotted 2px}}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper .mat-standard-chip,.mat-chip-list-wrapper input.mat-input-element{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}"],encapsulation:ye.None,changeDetection:fe.OnPush}]}],c4.ctorParameters=()=>[{type:Id},{type:Tl},{type:EY,decorators:[{type:gt}]},{type:D0,decorators:[{type:gt}]},{type:H0,decorators:[{type:gt}]},{type:_Z},{type:SJ,decorators:[{type:gt},{type:yt}]}],c4.propDecorators={errorStateMatcher:[{type:Jg}],multiple:[{type:Jg}],compareWith:[{type:Jg}],value:[{type:Jg}],required:[{type:Jg}],placeholder:[{type:Jg}],disabled:[{type:Jg}],ariaOrientation:[{type:Jg,args:["aria-orientation"]}],selectable:[{type:Jg}],tabIndex:[{type:Jg}],change:[{type:ty}],valueChange:[{type:ty}],chips:[{type:Ic,args:[r4,{descendants:!0}]}]};let u4=0;class h4{constructor(t,e){this._elementRef=t,this._defaultOptions=e,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new xg,this.placeholder="",this.id=`mat-chip-list-input-${u4++}`,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}set chipList(t){t&&(this._chipList=t,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(t){this._addOnBlur=VQ(t)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(t){this._disabled=VQ(t)}get empty(){return!this._inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}_keydown(t){t&&t.keyCode===oQ&&!wQ(t,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(t)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._chipList.stateChanges.next()}_emitChipEnd(t){!this._inputElement.value&&t&&this._chipList._keydown(t),t&&!this._isSeparatorKey(t)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),t&&t.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(t){this._inputElement.focus(t)}_isSeparatorKey(t){if(wQ(t))return!1;const e=this.separatorKeyCodes,n=t.keyCode;return Array.isArray(e)?e.indexOf(n)>-1:e.has(n)}}h4.decorators=[{type:Yg,args:[{selector:"input[matChipInputFor]",exportAs:"matChipInput, matChipInputFor",host:{class:"mat-chip-input mat-input-element","(keydown)":"_keydown($event)","(blur)":"_blur()","(focus)":"_focus()","(input)":"_onInput()","[id]":"id","[attr.disabled]":"disabled || null","[attr.placeholder]":"placeholder || null","[attr.aria-invalid]":"_chipList && _chipList.ngControl ? _chipList.ngControl.invalid : null"}}]}],h4.ctorParameters=()=>[{type:Id},{type:void 0,decorators:[{type:ft,args:[s4]}]}],h4.propDecorators={chipList:[{type:Jg,args:["matChipInputFor"]}],addOnBlur:[{type:Jg,args:["matChipInputAddOnBlur"]}],separatorKeyCodes:[{type:Jg,args:["matChipInputSeparatorKeyCodes"]}],chipEnd:[{type:ty,args:["matChipInputTokenEnd"]}],placeholder:[{type:Jg}],id:[{type:Jg}],disabled:[{type:Jg}]};const d4=[c4,r4,h4,i4,e4,n4],p4={separatorKeyCodes:[aQ]};class m4{}m4.decorators=[{type:oy,args:[{exports:d4,declarations:d4,providers:[_Z,{provide:s4,useValue:p4}]}]}];const f4=RQ({passive:!0});class g4{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return uj;const e=qQ(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const r=new k,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,f4),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,f4)}}),r.asObservable()}stopMonitoring(t){const e=qQ(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}g4.decorators=[{type:Ul,args:[{providedIn:"root"}]}],g4.ctorParameters=()=>[{type:AQ},{type:Vy}],g4.ngInjectableDef=xt({factory:function(){return new g4(Jt(AQ),Jt(Vy))},token:g4,providedIn:"root"});class y4{constructor(t,e){this._elementRef=t,this._autofillMonitor=e,this.cdkAutofill=new xg}ngOnInit(){this._autofillMonitor.monitor(this._elementRef).subscribe(t=>this.cdkAutofill.emit(t))}ngOnDestroy(){this._autofillMonitor.stopMonitoring(this._elementRef)}}y4.decorators=[{type:Yg,args:[{selector:"[cdkAutofill]"}]}],y4.ctorParameters=()=>[{type:Id},{type:g4}],y4.propDecorators={cdkAutofill:[{type:ty}]};class v4{constructor(t,e,n){this._elementRef=t,this._platform=e,this._ngZone=n,this._destroyed=new k,this._enabled=!0,this._previousMinRows=-1,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(t){this._minRows=t,this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(t){this._maxRows=t,this._setMaxHeight()}get enabled(){return this._enabled}set enabled(t){t=VQ(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}_setMinHeight(){const t=this.minRows&&this._cachedLineHeight?`${this.minRows*this._cachedLineHeight}px`:null;t&&(this._textareaElement.style.minHeight=t)}_setMaxHeight(){const t=this.maxRows&&this._cachedLineHeight?`${this.maxRows*this._cachedLineHeight}px`:null;t&&(this._textareaElement.style.maxHeight=t)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{SY(window,"resize").pipe(BY(16),jY(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0))}))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,this._textareaElement.parentNode.removeChild(t),this._setMinHeight(),this._setMaxHeight()}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(t=!1){if(!this._enabled)return;if(this._cacheTextareaLineHeight(),!this._cachedLineHeight)return;const e=this._elementRef.nativeElement,n=e.value;if(!t&&this._minRows===this._previousMinRows&&n===this._previousValue)return;const r=e.placeholder;e.classList.add("cdk-textarea-autosize-measuring"),e.placeholder="";const i=e.scrollHeight-4;e.style.height=`${i}px`,e.classList.remove("cdk-textarea-autosize-measuring"),e.placeholder=r,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(e)):setTimeout(()=>this._scrollToCaretPosition(e))}),this._previousValue=n,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_scrollToCaretPosition(t){const{selectionStart:e,selectionEnd:n}=t;this._destroyed.isStopped||document.activeElement!==t||t.setSelectionRange(e,n)}}v4.decorators=[{type:Yg,args:[{selector:"textarea[cdkTextareaAutosize]",exportAs:"cdkTextareaAutosize",host:{class:"cdk-textarea-autosize",rows:"1","(input)":"_noopInputHandler()"}}]}],v4.ctorParameters=()=>[{type:Id},{type:AQ},{type:Vy}],v4.propDecorators={minRows:[{type:Jg,args:["cdkAutosizeMinRows"]}],maxRows:[{type:Jg,args:["cdkAutosizeMaxRows"]}],enabled:[{type:Jg,args:["cdkTextareaAutosize"]}]};class _4{}_4.decorators=[{type:oy,args:[{declarations:[y4,v4],imports:[DQ],exports:[y4,v4]}]}];class b4 extends v4{get matAutosizeMinRows(){return this.minRows}set matAutosizeMinRows(t){this.minRows=t}get matAutosizeMaxRows(){return this.maxRows}set matAutosizeMaxRows(t){this.maxRows=t}get matAutosize(){return this.enabled}set matAutosize(t){this.enabled=t}get matTextareaAutosize(){return this.enabled}set matTextareaAutosize(t){this.enabled=t}}b4.decorators=[{type:Yg,args:[{selector:"textarea[mat-autosize], textarea[matTextareaAutosize]",exportAs:"matTextareaAutosize",inputs:["cdkAutosizeMinRows","cdkAutosizeMaxRows"],host:{class:"cdk-textarea-autosize mat-autosize",rows:"1","(input)":"_noopInputHandler()"}}]}],b4.propDecorators={matAutosizeMinRows:[{type:Jg}],matAutosizeMaxRows:[{type:Jg}],matAutosize:[{type:Jg,args:["mat-autosize"]}],matTextareaAutosize:[{type:Jg}]};const w4=new jt("MAT_INPUT_VALUE_ACCESSOR"),E4=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let C4=0;const x4=oZ(class{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}});class S4 extends x4{constructor(t,e,n,r,i,s,o,a,l){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${C4++}`,this._isServer=!1,this._isNativeSelect=!1,this.focused=!1,this.stateChanges=new k,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>OQ().has(t));const c=this._elementRef.nativeElement;this._inputValueAccessor=o||c,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===c.nodeName.toLowerCase(),this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=VQ(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=VQ(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&OQ().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=VQ(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(E4.indexOf(this._type)>-1)throw t=this._type,Error(`Input type "${t}" isn't supported by matInput.`);var t}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}S4.decorators=[{type:Yg,args:[{selector:"input[matInput], textarea[matInput], select[matNativeControl],\n      input[matNativeControl], textarea[matNativeControl]",exportAs:"matInput",host:{class:"mat-input-element mat-form-field-autofill-control","[class.mat-input-server]":"_isServer","[attr.id]":"id","[attr.placeholder]":"placeholder","[disabled]":"disabled","[required]":"required","[attr.readonly]":"readonly && !_isNativeSelect || null","[attr.aria-describedby]":"_ariaDescribedby || null","[attr.aria-invalid]":"errorState","[attr.aria-required]":"required.toString()","(blur)":"_focusChanged(false)","(focus)":"_focusChanged(true)","(input)":"_onInput()"},providers:[{provide:x3,useExisting:S4}]}]}],S4.ctorParameters=()=>[{type:Id},{type:AQ},{type:SJ,decorators:[{type:gt},{type:yt}]},{type:D0,decorators:[{type:gt}]},{type:H0,decorators:[{type:gt}]},{type:_Z},{type:void 0,decorators:[{type:gt},{type:yt},{type:ft,args:[w4]}]},{type:g4},{type:Vy}],S4.propDecorators={disabled:[{type:Jg}],id:[{type:Jg}],placeholder:[{type:Jg}],required:[{type:Jg}],type:[{type:Jg}],errorStateMatcher:[{type:Jg}],value:[{type:Jg}],readonly:[{type:Jg}]};class T4{}T4.decorators=[{type:oy,args:[{declarations:[S4,b4],imports:[vV,_4,V3],exports:[_4,V3,S4,b4],providers:[_Z]}]}];const I4=rZ(class{constructor(t){this._elementRef=t}},"primary"),k4=new jt("mat-progress-bar-location",{providedIn:"root",factory:function(){const t=te(bV),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}});let A4=0;class D4 extends I4{constructor(t,e,n,r){super(t),this._elementRef=t,this._ngZone=e,this._animationMode=n,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new xg,this._animationEndSubscription=p.EMPTY,this.mode="determinate",this.progressbarId=`mat-progress-bar-${A4++}`;const i=r?r.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${i}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===n}get value(){return this._value}set value(t){this._value=N4(t||0),this._isNoopAnimation&&this._emitAnimationEnd()}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=N4(t||0)}_primaryTransform(){return{transform:`scaleX(${this.value/100})`}}_bufferTransform(){if("buffer"===this.mode){return{transform:`scaleX(${this.bufferValue/100})`}}}ngAfterViewInit(){this._isNoopAnimation||this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=SY(t,"transitionend").pipe(fj(e=>e.target===t)).subscribe(()=>this._ngZone.run(()=>this._emitAnimationEnd()))})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}_emitAnimationEnd(){"determinate"!==this.mode&&"buffer"!==this.mode||this.animationEnd.next({value:this.value})}}function N4(t,e=0,n=100){return Math.max(e,Math.min(n,t))}D4.decorators=[{type:Xg,args:[{selector:"mat-progress-bar",exportAs:"matProgressBar",host:{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","[attr.aria-valuenow]":'(mode === "indeterminate" || mode === "query") ? null : value',"[attr.mode]":"mode",class:"mat-progress-bar","[class._mat-animation-noopable]":"_isNoopAnimation"},inputs:["color"],template:'<svg width="100%" height="4" focusable="false" class="mat-progress-bar-background mat-progress-bar-element"><defs><pattern [id]="progressbarId" x="4" y="0" width="8" height="4" patternUnits="userSpaceOnUse"><circle cx="2" cy="2" r="2"/></pattern></defs><rect [attr.fill]="_rectangleFillValue" width="100%" height="100%"/></svg><div class="mat-progress-bar-buffer mat-progress-bar-element" [ngStyle]="_bufferTransform()"></div><div class="mat-progress-bar-primary mat-progress-bar-fill mat-progress-bar-element" [ngStyle]="_primaryTransform()" #primaryValueBar></div><div class="mat-progress-bar-secondary mat-progress-bar-fill mat-progress-bar-element"></div>',styles:[".mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-background{display:none}}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}@media (-ms-high-contrast:active){.mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:'';display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2s infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2s infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after{animation:none;transition:none}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(.5,0,.70173,.49582);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(.30244,.38135,.55,.95635);transform:translateX(83.67142%)}100%{transform:translateX(200.61106%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(.08)}36.65%{animation-timing-function:cubic-bezier(.33473,.12482,.78584,1);transform:scaleX(.08)}69.15%{animation-timing-function:cubic-bezier(.06,.11,.6,1);transform:scaleX(.66148)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(.15,0,.51506,.40969);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(.31033,.28406,.8,.73371);transform:translateX(37.65191%)}48.35%{animation-timing-function:cubic-bezier(.4,.62704,.6,.90203);transform:translateX(84.38617%)}100%{transform:translateX(160.27778%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(.15,0,.51506,.40969);transform:scaleX(.08)}19.15%{animation-timing-function:cubic-bezier(.31033,.28406,.8,.73371);transform:scaleX(.4571)}44.15%{animation-timing-function:cubic-bezier(.4,.62704,.6,.90203);transform:scaleX(.72796)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}"],changeDetection:fe.OnPush,encapsulation:ye.None}]}],D4.ctorParameters=()=>[{type:Id},{type:Vy},{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]},{type:void 0,decorators:[{type:gt},{type:ft,args:[k4]}]}],D4.propDecorators={value:[{type:Jg}],bufferValue:[{type:Jg}],_primaryValueBar:[{type:Ac,args:["primaryValueBar",{static:!1}]}],animationEnd:[{type:ty}],mode:[{type:Jg}]};class O4{}O4.decorators=[{type:oy,args:[{imports:[vV,eZ],exports:[D4,eZ],declarations:[D4]}]}];const P4={at_least_eight_chars:"minChar",at_least_one_lower_case_char:"lowerCase",at_least_one_upper_case_char:"upperCase",at_least_one_digit_char:"digit",at_least_one_special_char:" specialChar",at_custom_chars:"customChars"},R4={primary:"primary",accent:"accent",warn:"warn"};class M4{isUndefinedOrEmpty(t){t&&t.value&&t.value.length}validate(t,e){return n=>{if(this.isUndefinedOrEmpty(n),!e.test(n.value)){const r={};return r[t]={actualValue:n.value,requiredPattern:e},r}}}confirm(t){return e=>{if(this.isUndefinedOrEmpty(e),e.value!==t)return{notConfirmed:{password:t,passwordConfirmation:e.value}}}}}const L4={lowerCase:RegExp(/^(?=.*?[a-z])/),upperCase:RegExp(/^(?=.*?[A-Z])/),digit:RegExp(/^(?=.*?[0-9])/),specialChar:RegExp(/^(?=.*?[" !"#$%&'()*+,-.\/:;<=>?@[\]^_`{|}~"])/)};class F4{constructor(){this.enableLengthRule=!0,this.enableLowerCaseLetterRule=!0,this.enableUpperCaseLetterRule=!0,this.enableDigitRule=!0,this.enableSpecialCharRule=!0,this.min=8,this.max=30,this.onStrengthChanged=new xg,this.criteriaMap=new Map,this.passwordFormControl=new S0,this.passwordConfirmationFormControl=new S0,this.validatorsArray=[],this._strength=0,this.matPasswordStrengthValidator=new M4}ngOnInit(){this.setRulesAndValidators(),this.password&&this.calculatePasswordStrength()}ngOnChanges(t){t.externalError&&t.externalError.firstChange||t.password.isFirstChange()||(t.externalError&&t.externalError.currentValue?this._color=R4.warn:t.password.previousValue!==t.password.currentValue||t.password.firstChange?this.password&&this.password.length>0?this.calculatePasswordStrength():this.reset():this.calculatePasswordStrength())}get strength(){return this._strength?this._strength:0}get color(){return this._strength<=20?R4.warn:this._strength<=80?R4.accent:R4.primary}_containAtLeastMinChars(){return this.containAtLeastMinChars=this.password.length>=this.min,this.containAtLeastMinChars}_containAtLeastOneLowerCaseLetter(){return this.containAtLeastOneLowerCaseLetter=this.criteriaMap.get(P4.at_least_one_lower_case_char).test(this.password),this.containAtLeastOneLowerCaseLetter}_containAtLeastOneUpperCaseLetter(){return this.containAtLeastOneUpperCaseLetter=this.criteriaMap.get(P4.at_least_one_upper_case_char).test(this.password),this.containAtLeastOneUpperCaseLetter}_containAtLeastOneDigit(){return this.containAtLeastOneDigit=this.criteriaMap.get(P4.at_least_one_digit_char).test(this.password),this.containAtLeastOneDigit}_containAtLeastOneSpecialChar(){return this.containAtLeastOneSpecialChar=this.criteriaMap.get(P4.at_least_one_special_char).test(this.password),this.containAtLeastOneSpecialChar}_containCustomChars(){return this.containAtCustomChars=this.criteriaMap.get(P4.at_custom_chars).test(this.password),this.containAtCustomChars}parseCustomValidatorsRegex(t=this.customValidator){return this.customValidator instanceof RegExp?this.customValidator:"string"==typeof this.customValidator?RegExp(this.customValidator):void 0}setRulesAndValidators(){this.validatorsArray=[],this.criteriaMap=new Map,this.passwordConfirmationFormControl.setValidators(RJ.compose([RJ.required,this.matPasswordStrengthValidator.confirm(this.password)])),this.validatorsArray.push(RJ.required),this.enableLengthRule&&(this.criteriaMap.set(P4.at_least_eight_chars,RegExp(`^.{${this.min},${this.max}}$`)),this.validatorsArray.push(RJ.minLength(this.min)),this.validatorsArray.push(RJ.maxLength(this.max))),this.enableLowerCaseLetterRule&&(this.criteriaMap.set(P4.at_least_one_lower_case_char,L4.lowerCase),this.validatorsArray.push(RJ.pattern(L4.lowerCase))),this.enableUpperCaseLetterRule&&(this.criteriaMap.set(P4.at_least_one_upper_case_char,L4.upperCase),this.validatorsArray.push(RJ.pattern(L4.upperCase))),this.enableDigitRule&&(this.criteriaMap.set(P4.at_least_one_digit_char,L4.digit),this.validatorsArray.push(RJ.pattern(L4.digit))),this.enableSpecialCharRule&&(this.criteriaMap.set(P4.at_least_one_special_char,L4.specialChar),this.validatorsArray.push(RJ.pattern(L4.specialChar))),this.customValidator&&(this.criteriaMap.set(P4.at_custom_chars,this.parseCustomValidatorsRegex()),this.validatorsArray.push(RJ.pattern(this.parseCustomValidatorsRegex()))),this.criteriaMap.forEach((t,e)=>{this.validatorsArray.push(this.matPasswordStrengthValidator.validate(e,t))}),this.passwordFormControl.setValidators(RJ.compose([...this.validatorsArray])),this.Validators=RJ.compose([...this.validatorsArray])}calculatePasswordStrength(){const t=[],e=100/this.criteriaMap.size;t.push(!!this.enableLengthRule&&this._containAtLeastMinChars(),!!this.enableLowerCaseLetterRule&&this._containAtLeastOneLowerCaseLetter(),!!this.enableUpperCaseLetterRule&&this._containAtLeastOneUpperCaseLetter(),!!this.enableDigitRule&&this._containAtLeastOneDigit(),!!this.enableSpecialCharRule&&this._containAtLeastOneSpecialChar(),!!this.customValidator&&this._containCustomChars()),this._strength=t.filter(t=>t).length*e,this.onStrengthChanged.emit(this.strength),this.setRulesAndValidators()}reset(){this._strength=0,this.containAtLeastMinChars=this.containAtLeastOneLowerCaseLetter=this.containAtLeastOneUpperCaseLetter=this.containAtLeastOneDigit=this.containAtCustomChars=this.containAtLeastOneSpecialChar=!1}}function V4(t,e,n){const r={timing:t,delay:0,rotateX:e,rotateY:n};return qH([VH({"backface-visibility":"visible"}),MH("{{ timing }}s {{ delay }}s ease-in",jH([VH({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),VH({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),VH({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),VH({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),VH({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:r})}F4.decorators=[{type:Xg,args:[{selector:"mat-password-strength",exportAs:"matPasswordStrength",template:'\n    <mat-progress-bar mode="determinate"\n                      [color]="color"\n                      [value]="strength">\n    </mat-progress-bar>\n  ',styles:["\n    .green :host::ng-deep .mat-progress-bar.mat-primary .mat-progress-bar-fill:after{background-color:#43a047}\n  "],changeDetection:fe.OnPush}]}],F4.propDecorators={password:[{type:Jg}],externalError:[{type:Jg}],enableLengthRule:[{type:Jg}],enableLowerCaseLetterRule:[{type:Jg}],enableUpperCaseLetterRule:[{type:Jg}],enableDigitRule:[{type:Jg}],enableSpecialCharRule:[{type:Jg}],min:[{type:Jg}],max:[{type:Jg}],customValidator:[{type:Jg}],onStrengthChanged:[{type:ty}]};V4(1,1,0),V4(1,0,1);const B4=qH(MH("{{ timing }}s {{ delay }}s",jH([VH({transform:"translate3d(0, 0, 0)",offset:0}),VH({transform:"translate3d(-10px, 0, 0)",offset:.1}),VH({transform:"translate3d(10px, 0, 0)",offset:.2}),VH({transform:"translate3d(-10px, 0, 0)",offset:.3}),VH({transform:"translate3d(10px, 0, 0)",offset:.4}),VH({transform:"translate3d(-10px, 0, 0)",offset:.5}),VH({transform:"translate3d(10px, 0, 0)",offset:.6}),VH({transform:"translate3d(-10px, 0, 0)",offset:.7}),VH({transform:"translate3d(10px, 0, 0)",offset:.8}),VH({transform:"translate3d(-10px, 0, 0)",offset:.9}),VH({transform:"translate3d(0, 0, 0)",offset:1})])),{params:{timing:1,delay:0}});class j4{constructor(){this.enableScoreInfo=!1,this.lowerCaseCriteriaMsg="contains at least one lower character",this.upperCaseCriteriaMsg="contains at least one upper character",this.digitsCriteriaMsg="contains at least one digit character",this.specialCharsCriteriaMsg="contains at least one special character",this.customCharsCriteriaMsg="contains at least one custom character"}ngOnInit(){this.minCharsCriteriaMsg||(this.minCharsCriteriaMsg=`contains at least ${this.passwordComponent.min} characters`)}}var U4,q4;j4.decorators=[{type:Xg,args:[{selector:"mat-password-strength-info",exportAs:"matPasswordStrengthInfo",template:'\n    <mat-card @list>\n      <mat-card-content>\n        <div class="info-row" @items *ngIf="passwordComponent.enableLowerCaseLetterRule">\n          <div *ngIf="passwordComponent.containAtLeastOneLowerCaseLetter; then done else error" @flipY>\n          </div>\n          <ng-template #done>\n            <mat-icon @positiveState color="primary">done</mat-icon>\n          </ng-template>\n          <ng-template #error>\n            <mat-icon @negativeState color="warn">error</mat-icon>\n          </ng-template>\n          <span>{{lowerCaseCriteriaMsg}}</span>\n        </div>\n\n        <div class="info-row" @items *ngIf="passwordComponent.enableUpperCaseLetterRule">\n          <div *ngIf="passwordComponent.containAtLeastOneUpperCaseLetter; then done else error">\n          </div>\n          <ng-template #done>\n            <mat-icon @positiveState color="primary">done</mat-icon>\n          </ng-template>\n          <ng-template #error>\n            <mat-icon @negativeState color="warn">error</mat-icon>\n          </ng-template>\n          <span>{{upperCaseCriteriaMsg}}</span>\n        </div>\n\n        <div class="info-row" @items *ngIf="passwordComponent.enableDigitRule">\n          <div *ngIf="passwordComponent.containAtLeastOneDigit; then done else error">\n          </div>\n          <ng-template #done>\n            <mat-icon @positiveState color="primary">done</mat-icon>\n          </ng-template>\n          <ng-template #error>\n            <mat-icon @negativeState color="warn">error</mat-icon>\n          </ng-template>\n          <span>{{digitsCriteriaMsg}}</span>\n        </div>\n\n        <div class="info-row" @items *ngIf="passwordComponent.enableSpecialCharRule">\n          <div *ngIf="passwordComponent.containAtLeastOneSpecialChar; then done else error">\n          </div>\n          <ng-template #done>\n            <mat-icon @positiveState color="primary">done</mat-icon>\n          </ng-template>\n          <ng-template #error>\n            <mat-icon @negativeState color="warn">error</mat-icon>\n          </ng-template>\n          <span>{{specialCharsCriteriaMsg}}</span>\n        </div>\n\n        <div class="info-row" @items *ngIf="passwordComponent.enableLengthRule">\n          <div *ngIf="passwordComponent.containAtLeastMinChars; then done else error">\n          </div>\n          <ng-template #done>\n            <mat-icon @positiveState color="primary">done</mat-icon>\n          </ng-template>\n          <ng-template #error>\n            <mat-icon @negativeState color="warn">error</mat-icon>\n          </ng-template>\n          <span>{{minCharsCriteriaMsg}}</span>\n        </div>\n\n        <div class="info-row" @items *ngIf="passwordComponent.customValidator">\n          <div *ngIf="passwordComponent.containAtCustomChars; then done else error">\n          </div>\n          <ng-template #done>\n            <mat-icon @positiveState color="primary">done</mat-icon>\n          </ng-template>\n          <ng-template #error>\n            <mat-icon @negativeState color="warn">error</mat-icon>\n          </ng-template>\n          <span>{{customCharsCriteriaMsg}}</span>\n        </div>\n\n        <div *ngIf="enableScoreInfo" class="info-row" @items>\n          <div *ngIf="passwordComponent.strength === 100; then done else error">\n          </div>\n          <ng-template #done>\n            <mat-icon @positiveState color="primary">done</mat-icon>\n          </ng-template>\n          <ng-template #error>\n            <mat-icon @negativeState color="warn">error</mat-icon>\n          </ng-template>\n          <span>Password\'s strength = {{passwordComponent.strength}} %100</span>\n        </div>\n\n      </mat-card-content>\n    </mat-card>\n  ',styles:["\n    mat-card{-webkit-box-orient:horizontal;flex-direction:row;place-content:stretch center;-webkit-box-flex:1;flex:1 1 0}mat-card,mat-card mat-card-content{-webkit-box-direction:normal;box-sizing:border-box;display:-webkit-box;display:flex;-webkit-box-align:stretch;align-items:stretch}mat-card mat-card-content{-webkit-box-orient:vertical;flex-direction:column;max-width:100%;place-content:stretch flex-start}mat-card mat-card-content mat-icon{margin-right:10px}mat-card mat-card-content .info-row{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;box-sizing:border-box;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}\n  "],animations:[RH("list",[UH(":enter",[$H("@items",(U4=300,q4=zH(),{type:12,timings:U4,animation:q4}))])]),RH("items",[UH(":enter",[VH({transform:"scale(0.5)",opacity:0}),MH("1s cubic-bezier(.8,-0.6,0.2,1.5)",VH({transform:"scale(1)",opacity:1}))]),UH(":leave",[VH({transform:"scale(1)",opacity:1,height:"*"}),MH("1s cubic-bezier(.8,-0.6,0.2,1.5)",VH({transform:"scale(0.5)",opacity:0,height:"0px",margin:"0px"}))])]),RH("positiveState",[UH(":enter",[VH({"backface-visibility":"visible"}),MH("{{ timing }}s {{ delay }}s ease-in",jH([VH({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),VH({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),VH({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),VH({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),VH({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:{timing:1,delay:0,rotateX:1,rotateY:0}})]),RH("negativeState",[UH(":enter",function(t,e=null){return{type:10,animation:t,options:e}}(B4))])]}]}],j4.propDecorators={passwordComponent:[{type:Jg}],enableScoreInfo:[{type:Jg}],lowerCaseCriteriaMsg:[{type:Jg}],upperCaseCriteriaMsg:[{type:Jg}],digitsCriteriaMsg:[{type:Jg}],specialCharsCriteriaMsg:[{type:Jg}],customCharsCriteriaMsg:[{type:Jg}],minCharsCriteriaMsg:[{type:Jg}]};class z4{constructor(){this._type="text"}get type(){return this.isVisible?"text":"password"}}z4.decorators=[{type:Xg,args:[{selector:"mat-pass-toggle-visibility",template:'\n    <button (click)="isVisible = !isVisible"\n            type="button"\n            class="mat-icon-button cdk-focused cdk-mouse-focused" mat-icon-button\n            matRippleCentered="true"\n            matRipple>\n      <mat-icon>{{isVisible ? \'visibility\' : \'visibility_off\' }}</mat-icon>\n    </button>\n  ',styles:["\n\n  "],encapsulation:ye.None}]}],z4.propDecorators={isVisible:[{type:Jg}]};class $4{static forRoot(){return{ngModule:$4,providers:[]}}}$4.decorators=[{type:oy,args:[{imports:[vV,O4,k2,m3,LZ],exports:[F4,j4,z4],declarations:[F4,j4,z4],entryComponents:[z4]}]}];class H4{constructor(t){this.total=t}call(t,e){return e.subscribe(new W4(t,this.total))}}class W4 extends g{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}(class{}).decorators=[{type:oy,args:[{}]}];const K4=new Set;let G4;class Q4{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Y4}matchMedia(t){return this._platform.WEBKIT&&function(t){if(K4.has(t))return;try{G4||((G4=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(G4)),G4.sheet&&(G4.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),K4.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}function Y4(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}Q4.decorators=[{type:Ul,args:[{providedIn:"root"}]}],Q4.ctorParameters=()=>[{type:AQ}],Q4.ngInjectableDef=xt({factory:function(){return new Q4(Jt(AQ))},token:Q4,providedIn:"root"});class X4{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new k}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Z4(jQ(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=aU(Z4(jQ(t)).map(t=>this._registerQuery(t).observable));var n;return(e=FU(e.pipe(kU(1)),e.pipe((n=1,t=>t.lift(new H4(n))),CQ(0)))).pipe(q(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new E(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(VU(e),q(e=>({query:t,matches:e.matches})),jY(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}function Z4(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}X4.decorators=[{type:Ul,args:[{providedIn:"root"}]}],X4.ctorParameters=()=>[{type:Q4},{type:Vy}],X4.ngInjectableDef=xt({factory:function(){return new X4(Jt(Q4),Jt(Vy))},token:X4,providedIn:"root"});const J4={XSmall:"(max-width: 599.99px)",Small:"(min-width: 600px) and (max-width: 959.99px)",Medium:"(min-width: 960px) and (max-width: 1279.99px)",Large:"(min-width: 1280px) and (max-width: 1919.99px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.99px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.99px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};class t5{constructor(t,e){this._overlayRef=e,this._afterDismissed=new k,this._afterOpened=new k,this._onAction=new k,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),t)}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const e5=new jt("MatSnackBarData");class n5{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}class r5{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}r5.decorators=[{type:Xg,args:[{selector:"simple-snack-bar",template:'<span>{{data.message}}</span><div class="mat-simple-snackbar-action" *ngIf="hasAction"><button mat-button (click)="action()">{{data.action}}</button></div>',styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;height:100%;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}"],encapsulation:ye.None,changeDetection:fe.OnPush,host:{class:"mat-simple-snackbar"}}]}],r5.ctorParameters=()=>[{type:t5},{type:void 0,decorators:[{type:ft,args:[e5]}]}];const i5={snackBarState:RH("state",[BH("void, hidden",VH({transform:"scale(0.8)",opacity:0})),BH("visible",VH({transform:"scale(1)",opacity:1})),UH("* => visible",MH("150ms cubic-bezier(0, 0, 0.2, 1)")),UH("* => void, * => hidden",MH("75ms cubic-bezier(0.4, 0.0, 1, 1)",VH({opacity:0})))])};class s5 extends XG{constructor(t,e,n,r){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=r,this._destroyed=!1,this._onExit=new k,this._onEnter=new k,this._animationState="void","assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?this._role=null:this._role="status":this._role="alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(kU(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}s5.decorators=[{type:Xg,args:[{selector:"snack-bar-container",template:"<ng-template cdkPortalOutlet></ng-template>",styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}@media (-ms-high-contrast:active){.mat-snack-bar-container{border:solid 1px}}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],changeDetection:fe.Default,encapsulation:ye.None,animations:[i5.snackBarState],host:{"[attr.role]":"_role",class:"mat-snack-bar-container","[@state]":"_animationState","(@state.done)":"onAnimationEnd($event)"}}]}],s5.ctorParameters=()=>[{type:Vy},{type:Id},{type:Tl},{type:n5}],s5.propDecorators={_portalOutlet:[{type:Ac,args:[eQ,{static:!0}]}]};class o5{}o5.decorators=[{type:oy,args:[{imports:[GX,rQ,vV,b3,eZ],exports:[s5,eZ],declarations:[s5,r5],entryComponents:[s5,r5]}]}];const a5=new jt("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new n5}});class l5{constructor(t,e,n,r,i,s){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=s,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign({},this._defaultConfig,n);return r.data={message:t,action:e},r.announcementMessage||(r.announcementMessage=t),this.openFromComponent(r5,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=e&&e.viewContainerRef&&e.viewContainerRef.injector,r=new iQ(n||this._injector,new WeakMap([[n5,e]])),i=new QG(s5,e.viewContainerRef,r),s=t.attach(i);return s.instance.snackBarConfig=e,s.instance}_attach(t,e){const n=Object.assign({},new n5,this._defaultConfig,e),r=this._createOverlay(n),i=this._attachSnackBarContainer(r,n),s=new t5(i,r);if(t instanceof Zd){const e=new YG(t,null,{$implicit:n.data,snackBarRef:s});s.instance=i.attachTemplatePortal(e)}else{const e=this._createInjector(n,s),r=new QG(t,void 0,e),o=i.attachComponentPortal(r);s.instance=o.instance}return this._breakpointObserver.observe(J4.Handset).pipe(jY(r.detachments().pipe(kU(1)))).subscribe(t=>{t.matches?r.overlayElement.classList.add("mat-snack-bar-handset"):r.overlayElement.classList.remove("mat-snack-bar-handset")}),this._animateSnackBar(s,n),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}_createOverlay(t){const e=new SX;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,s=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):s?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector;return new iQ(n||this._injector,new WeakMap([[t5,e],[e5,t.data]]))}}l5.decorators=[{type:Ul,args:[{providedIn:o5}]}],l5.ctorParameters=()=>[{type:qX},{type:pY},{type:Ql},{type:X4},{type:l5,decorators:[{type:gt},{type:vt}]},{type:n5,decorators:[{type:ft,args:[a5]}]}],l5.ngInjectableDef=xt({factory:function(){return new l5(Jt(qX),Jt(pY),Jt(Ut),Jt(X4),Jt(l5,12),Jt(a5))},token:l5,providedIn:o5});var c5;let u5=c5=class extends class{constructor(){this.onChange=t=>{},this.onTouched=()=>{}}updateChanges(){this.onChange(this.value)}writeValue(t){this.value=t,this.updateChanges()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}}{constructor(){super(...arguments),this.onBlur=new xg,this.onClose=new xg,this.onEnter=new xg,this.onFocus=new xg,this.onOpen=new xg,this.searchVisible=!1}close(){this.searchVisible=!1,this.value="",this.updateChanges(),this.onClose.emit()}open(){this.searchVisible=!0,this.inputElement.nativeElement.focus(),this.onOpen.emit()}onBlurring(t){t||(this.searchVisible=!1),this.onBlur.emit(t)}onEnterring(t){this.onEnter.emit(t)}onFocussing(t){this.onFocus.emit(t)}};Object(r.__decorate)([Ac("input",{static:!1}),Object(r.__metadata)("design:type",Id)],u5.prototype,"inputElement",void 0),Object(r.__decorate)([Jg(),Object(r.__metadata)("design:type",S0)],u5.prototype,"formControl",void 0),Object(r.__decorate)([ty(),Object(r.__metadata)("design:type",Object)],u5.prototype,"onBlur",void 0),Object(r.__decorate)([ty(),Object(r.__metadata)("design:type",Object)],u5.prototype,"onClose",void 0),Object(r.__decorate)([ty(),Object(r.__metadata)("design:type",Object)],u5.prototype,"onEnter",void 0),Object(r.__decorate)([ty(),Object(r.__metadata)("design:type",Object)],u5.prototype,"onFocus",void 0),Object(r.__decorate)([ty(),Object(r.__metadata)("design:type",Object)],u5.prototype,"onOpen",void 0),u5=c5=Object(r.__decorate)([Xg({selector:"mat-search-bar",template:'<mat-form-field *ngIf="!formControl" class="mat-search_field" [@slideInOut]="searchVisible">\n  <input #input matInput type="text" placeholder="" [(ngModel)]="value" (ngModelChange)="updateChanges()"\n    (blur)="onBlurring(input.value)" (keyup.enter)="onEnterring(input.value)" (focus)="onFocussing(input.value)" />\n</mat-form-field>\n\n\x3c!-- FORM CONTROL WAY --\x3e\n<mat-form-field *ngIf="formControl" class="mat-search_field" [@slideInOut]="searchVisible">\n  <input #input matInput type="text" placeholder="" [formControl]="formControl" (blur)="onBlurring(input.value)"\n    (keyup.enter)="onEnterring(input.value)" (focus)="onFocussing(input.value)" />\n</mat-form-field>\n\n\n<span class="mat-search_icons" [class.mat-search_icons--active]="searchVisible">\n  <mat-icon class="mat-search_icon-close" (click)="close()" matRipple>close</mat-icon>\n  <mat-icon class="mat-search_icon-search" (click)="open()" matRipple>search</mat-icon>\n</span>\n',animations:[RH("slideInOut",[BH("true",VH({width:"*"})),BH("false",VH({width:"0"})),UH("true => false",MH("300ms ease-in")),UH("false => true",MH("300ms ease-out"))])],providers:[{provide:gJ,useExisting:Ot(()=>c5),multi:!0}],styles:[":host{position:relative;display:flex;flex-direction:row;align-items:center;justify-content:flex-end;width:24px;height:24px}.mat-search_field{position:absolute;z-index:1;padding:0 24px 0 0}.mat-search_icons{display:block;margin:0;padding:0;position:absolute;top:0;left:0}.mat-search_icons:hover{cursor:pointer}.mat-search_icons .mat-search_icon-close,.mat-search_icons .mat-search_icon-search{transition:.2s cubic-bezier(.4,0,.2,1);position:absolute;top:0;left:0;z-index:2;border-radius:50%}.mat-search_icons .mat-search_icon-close,.mat-search_icons.mat-search_icons--active .mat-search_icon-search{opacity:0;transform:rotate(225deg)}.mat-search_icons.mat-search_icons--active .mat-search_icon-close{opacity:1;z-index:3;visibility:visible;transform:rotate(360deg)}"]})],u5);let h5=class{};h5=Object(r.__decorate)([oy({imports:[vV,g1,m3,T4,LZ,y1],exports:[u5],declarations:[u5]})],h5);const d5=100,p5=10;const m5=rZ(class{constructor(t){this._elementRef=t}},"primary"),f5=new jt("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:d5}}});const g5="\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n";class y5 extends m5{constructor(t,e,n,r,i){super(t),this._elementRef=t,this._document=n,this._diameter=d5,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const s=y5._diameters;s.has(n.head)||s.set(n.head,new Set([d5])),this._styleRoot=function(t,e){if("undefined"!=typeof window){const n=e.head;if(n&&(n.createShadowRoot||n.attachShadow)){const e=t.getRootNode?t.getRootNode():null;if(e instanceof window.ShadowRoot)return e}}return null}(t.nativeElement,n)||n.head,this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!i&&!i._forceAnimations,i&&(i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth));const o=`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`;t.nativeElement.classList.add(o)}get diameter(){return this._diameter}set diameter(t){if(this._diameter=BQ(t),!this._fallbackAnimation){const t=y5._diameters.get(this._styleRoot);t&&t.has(this._diameter)||this._attachStyleNode()}}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=BQ(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,BQ(t)))}get _circleRadius(){return(this.diameter-p5)/2}get _viewBox(){const t=2*this._circleRadius+this.strokeWidth;return`0 0 ${t} ${t}`}get _strokeCircumference(){return 2*Math.PI*this._circleRadius}get _strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}get _circleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._document.createElement("style"),e=this._styleRoot,n=this._diameter,r=y5._diameters;let i=r.get(e);t.setAttribute("mat-spinner-animation",n+""),t.textContent=this._getAnimationText(),e.appendChild(t),i||(i=new Set,r.set(e,i)),i.add(n)}_getAnimationText(){return g5.replace(/START_VALUE/g,`${.95*this._strokeCircumference}`).replace(/END_VALUE/g,`${.2*this._strokeCircumference}`).replace(/DIAMETER/g,`${this.diameter}`)}}y5._diameters=new WeakMap,y5.decorators=[{type:Xg,args:[{selector:"mat-progress-spinner",exportAs:"matProgressSpinner",host:{role:"progressbar",class:"mat-progress-spinner","[class._mat-animation-noopable]":"_noopAnimations","[style.width.px]":"diameter","[style.height.px]":"diameter","[attr.aria-valuemin]":'mode === "determinate" ? 0 : null',"[attr.aria-valuemax]":'mode === "determinate" ? 100 : null',"[attr.aria-valuenow]":'mode === "determinate" ? value : null',"[attr.mode]":"mode"},inputs:["color"],template:'<svg [style.width.px]="diameter" [style.height.px]="diameter" [attr.viewBox]="_viewBox" preserveAspectRatio="xMidYMid meet" focusable="false" [ngSwitch]="mode === \'indeterminate\'"><circle *ngSwitchCase="true" cx="50%" cy="50%" [attr.r]="_circleRadius" [style.animation-name]="\'mat-progress-spinner-stroke-rotate-\' + diameter" [style.stroke-dashoffset.px]="_strokeDashOffset" [style.stroke-dasharray.px]="_strokeCircumference" [style.stroke-width.%]="_circleStrokeWidth"></circle><circle *ngSwitchCase="false" cx="50%" cy="50%" [attr.r]="_circleRadius" [style.stroke-dashoffset.px]="_strokeDashOffset" [style.stroke-dasharray.px]="_strokeCircumference" [style.stroke-width.%]="_circleStrokeWidth"></circle></svg>',styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],changeDetection:fe.OnPush,encapsulation:ye.None}]}],y5.ctorParameters=()=>[{type:Id},{type:AQ},{type:void 0,decorators:[{type:gt},{type:ft,args:[bV]}]},{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]},{type:void 0,decorators:[{type:ft,args:[f5]}]}],y5.propDecorators={diameter:[{type:Jg}],strokeWidth:[{type:Jg}],mode:[{type:Jg}],value:[{type:Jg}]};class v5 extends y5{constructor(t,e,n,r,i){super(t,e,n,r,i),this.mode="indeterminate"}}v5.decorators=[{type:Xg,args:[{selector:"mat-spinner",host:{role:"progressbar",mode:"indeterminate",class:"mat-spinner mat-progress-spinner","[class._mat-animation-noopable]":"_noopAnimations","[style.width.px]":"diameter","[style.height.px]":"diameter"},inputs:["color"],template:'<svg [style.width.px]="diameter" [style.height.px]="diameter" [attr.viewBox]="_viewBox" preserveAspectRatio="xMidYMid meet" focusable="false" [ngSwitch]="mode === \'indeterminate\'"><circle *ngSwitchCase="true" cx="50%" cy="50%" [attr.r]="_circleRadius" [style.animation-name]="\'mat-progress-spinner-stroke-rotate-\' + diameter" [style.stroke-dashoffset.px]="_strokeDashOffset" [style.stroke-dasharray.px]="_strokeCircumference" [style.stroke-width.%]="_circleStrokeWidth"></circle><circle *ngSwitchCase="false" cx="50%" cy="50%" [attr.r]="_circleRadius" [style.stroke-dashoffset.px]="_strokeDashOffset" [style.stroke-dasharray.px]="_strokeCircumference" [style.stroke-width.%]="_circleStrokeWidth"></circle></svg>',styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],changeDetection:fe.OnPush,encapsulation:ye.None}]}],v5.ctorParameters=()=>[{type:Id},{type:AQ},{type:void 0,decorators:[{type:gt},{type:ft,args:[bV]}]},{type:String,decorators:[{type:gt},{type:ft,args:[RG]}]},{type:void 0,decorators:[{type:ft,args:[f5]}]}];class _5{}function b5(t,e=EQ){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new w5(r,e))}_5.decorators=[{type:oy,args:[{imports:[eZ,vV],exports:[y5,v5,eZ],declarations:[y5,v5]}]}];class w5{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new E5(t,this.delay,this.scheduler))}}class E5 extends g{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(E5.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new C5(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(GY.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(GY.createComplete()),this.unsubscribe()}}class C5{constructor(t,e){this.time=t,this.notification=e}}const x5={transformMenu:RH("transformMenu",[BH("void",VH({opacity:0,transform:"scale(0.8)"})),UH("void => enter",LH([$H(".mat-menu-content, .mat-mdc-menu-content",MH("100ms linear",VH({opacity:1}))),MH("120ms cubic-bezier(0, 0, 0.2, 1)",VH({transform:"scale(1)"}))])),UH("* => void",MH("100ms 25ms linear",VH({opacity:0})))]),fadeInItems:RH("fadeInItems",[BH("showing",VH({opacity:1})),UH("void => *",[VH({opacity:0}),MH("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};x5.fadeInItems,x5.transformMenu;class S5{constructor(t,e,n,r,i,s,o){this._template=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=r,this._viewContainerRef=i,this._document=s,this._changeDetectorRef=o,this._attached=new k}attach(t={}){this._portal||(this._portal=new YG(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new ZG(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}S5.decorators=[{type:Yg,args:[{selector:"ng-template[matMenuContent]"}]}],S5.ctorParameters=()=>[{type:Zd},{type:Cd},{type:rv},{type:Ql},{type:tp},{type:void 0,decorators:[{type:ft,args:[bV]}]},{type:Tl}];const T5=new jt("MAT_MENU_PANEL");const I5=iZ(nZ(class{}));class k5 extends I5{constructor(t,e,n,r){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=r,this.role="menuitem",this._hovered=new k,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.monitor(this._elementRef,!1),r&&r.addItem&&r.addItem(this),this._document=e}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3;let n="";if(t.childNodes){const r=t.childNodes.length;for(let i=0;i<r;i++)t.childNodes[i].nodeType===e&&(n+=t.childNodes[i].textContent)}return n.trim()}}k5.decorators=[{type:Xg,args:[{selector:"[mat-menu-item]",exportAs:"matMenuItem",inputs:["disabled","disableRipple"],host:{"[attr.role]":"role",class:"mat-menu-item","[class.mat-menu-item-highlighted]":"_highlighted","[class.mat-menu-item-submenu-trigger]":"_triggersSubmenu","[attr.tabindex]":"_getTabIndex()","[attr.aria-disabled]":"disabled.toString()","[attr.disabled]":"disabled || null"},changeDetection:fe.OnPush,encapsulation:ye.None,template:'<ng-content></ng-content><div class="mat-menu-ripple" matRipple [matRippleDisabled]="disableRipple || disabled" [matRippleTrigger]="_getHostElement()"></div>'}]}],k5.ctorParameters=()=>[{type:Id},{type:void 0,decorators:[{type:ft,args:[bV]}]},{type:yY},{type:void 0,decorators:[{type:ft,args:[T5]},{type:gt}]}],k5.propDecorators={role:[{type:Jg}],_checkDisabled:[{type:ny,args:["click",["$event"]]}],_handleMouseEnter:[{type:ny,args:["mouseenter"]}]};const A5=new jt("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});const D5=4;class N5{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Tg,this._tabSubscription=p.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new k,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new xg,this.close=this.closed}get xPosition(){return this._xPosition}set xPosition(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=VQ(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=VQ(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new iY(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab"))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(VU(this._directDescendantItems),RU(t=>Z(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case lQ:wQ(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case dQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case mQ:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case hQ:case uQ:wQ(t)||(e===hQ?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:e!==pQ&&e!==fQ||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(kU(1)).subscribe(()=>this._keyManager.setFocusOrigin(t).setFirstItemActive()):this._keyManager.setFocusOrigin(t).setFirstItemActive()}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e=`mat-elevation-z${D5+t}`,n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(VU(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}N5.ctorParameters=()=>[{type:Id},{type:Vy},{type:void 0,decorators:[{type:ft,args:[A5]}]}],N5.propDecorators={_allItems:[{type:Ic,args:[k5,{descendants:!0}]}],backdropClass:[{type:Jg}],xPosition:[{type:Jg}],yPosition:[{type:Jg}],templateRef:[{type:Ac,args:[Zd,{static:!1}]}],items:[{type:Ic,args:[k5]}],lazyContent:[{type:kc,args:[S5,{static:!1}]}],overlapTrigger:[{type:Jg}],hasBackdrop:[{type:Jg}],panelClass:[{type:Jg,args:["class"]}],classList:[{type:Jg}],closed:[{type:ty}],close:[{type:ty}]};class O5 extends N5{}class P5 extends O5{constructor(t,e,n){super(t,e,n)}}P5.decorators=[{type:Xg,args:[{selector:"mat-menu",template:'<ng-template><div class="mat-menu-panel" [ngClass]="_classList" (keydown)="_handleKeydown($event)" (click)="closed.emit(\'click\')" [@transformMenu]="_panelAnimationState" (@transformMenu.start)="_onAnimationStart($event)" (@transformMenu.done)="_onAnimationDone($event)" tabindex="-1" role="menu"><div class="mat-menu-content"><ng-content></ng-content></div></div></ng-template>',styles:[".mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}@media (-ms-high-contrast:active){.mat-menu-panel{outline:solid 1px}}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}@media (-ms-high-contrast:active){.mat-menu-item-highlighted,.mat-menu-item.cdk-keyboard-focused,.mat-menu-item.cdk-program-focused{outline:dotted 1px}}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:'';display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}"],changeDetection:fe.OnPush,encapsulation:ye.None,exportAs:"matMenu",animations:[x5.transformMenu,x5.fadeInItems],providers:[{provide:T5,useExisting:O5},{provide:O5,useExisting:P5}]}]}],P5.ctorParameters=()=>[{type:Id},{type:Vy},{type:void 0,decorators:[{type:ft,args:[A5]}]}];const R5=new jt("mat-menu-scroll-strategy");const M5={provide:R5,deps:[qX],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},L5=8,F5=RQ({passive:!0});class V5{constructor(t,e,n,r,i,s,o,a){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=i,this._menuItemInstance=s,this._dir=o,this._focusMonitor=a,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=p.EMPTY,this._hoverSubscription=p.EMPTY,this._menuCloseSubscription=p.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new xg,this.onMenuOpen=this.menuOpened,this.menuClosed=new xg,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,F5),s&&(s._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=r}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,F5),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof O5&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),t instanceof O5?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(fj(t=>"void"===t.toState),kU(1),jY(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._resetMenu()}):this._resetMenu()):(this._resetMenu(),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_resetMenu(){this._setIsMenuOpen(!1),this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new SX({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{const e="start"===t.connectionPair.overlayX?"after":"before",n="top"===t.connectionPair.overlayY?"below":"above";this.menu.setPositionClasses(e,n)})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[r,i]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[s,o]=[r,i],[a,l]=[e,n],c=0;this.triggersSubmenu()?(l=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",c="bottom"===r?L5:-L5):this.menu.overlapTrigger||(s="top"===r?"bottom":"top",o="top"===i?"bottom":"top"),t.withPositions([{originX:e,originY:s,overlayX:a,overlayY:r,offsetY:c},{originX:n,originY:s,overlayX:l,overlayY:r,offsetY:c},{originX:e,originY:o,overlayX:a,overlayY:i,offsetY:-c},{originX:n,originY:o,overlayX:l,overlayY:i,offsetY:-c}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments();return Z(t,this._parentMenu?this._parentMenu.closed:pj(),this._parentMenu?this._parentMenu._hovered().pipe(fj(t=>t!==this._menuItemInstance),fj(()=>this._menuOpen)):pj(),e)}_handleMousedown(t){_Y(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(e===mQ&&"ltr"===this.dir||e===dQ&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(fj(t=>t===this._menuItemInstance&&!t.disabled),b5(0,DY)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof O5&&this.menu._isAnimating?this.menu._animationDone.pipe(kU(1),b5(0,DY),jY(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new YG(this.menu.templateRef,this._viewContainerRef)),this._portal}}V5.decorators=[{type:Yg,args:[{selector:"[mat-menu-trigger-for], [matMenuTriggerFor]",host:{class:"mat-menu-trigger","aria-haspopup":"true","[attr.aria-expanded]":"menuOpen || null","(mousedown)":"_handleMousedown($event)","(keydown)":"_handleKeydown($event)","(click)":"_handleClick($event)"},exportAs:"matMenuTrigger"}]}],V5.ctorParameters=()=>[{type:qX},{type:Id},{type:tp},{type:void 0,decorators:[{type:ft,args:[R5]}]},{type:O5,decorators:[{type:gt}]},{type:k5,decorators:[{type:gt},{type:yt}]},{type:EY,decorators:[{type:gt}]},{type:yY}],V5.propDecorators={_deprecatedMatMenuTriggerFor:[{type:Jg,args:["mat-menu-trigger-for"]}],menu:[{type:Jg,args:["matMenuTriggerFor"]}],menuData:[{type:Jg,args:["matMenuTriggerData"]}],restoreFocus:[{type:Jg,args:["matMenuTriggerRestoreFocus"]}],menuOpened:[{type:ty}],onMenuOpen:[{type:ty}],menuClosed:[{type:ty}],onMenuClose:[{type:ty}]};class B5{}B5.decorators=[{type:oy,args:[{exports:[V5,S5,eZ],declarations:[V5,S5],providers:[M5]}]}];class j5{}j5.decorators=[{type:oy,args:[{imports:[vV,eZ,LZ,GX,B5],exports:[P5,k5,B5],declarations:[P5,k5],providers:[M5]}]}];let U5=class{};U5=r.__decorate([oy({imports:[VG,P1,Y1,p2,k2,t3,m3,b3,J3,M1,m4,V3,T4,pJ,$4,o5,h5,_5,j5],exports:[VG,P1,Y1,p2,k2,t3,m3,b3,J3,M1,m4,V3,T4,pJ,$4,o5,h5,_5,j5],providers:[{provide:RZ,useValue:{disabled:!0}}]})],U5);let q5=class{transform(t,...e){return Array.isArray(t)?e.reduce((t,e)=>t.filter(t=>!~e.indexOf(t)),t):t}};q5=Object(r.__decorate)([Zg({name:"diff"})],q5);let z5=class{transform(t,e=0){return Array.isArray(t)?t.slice(0,t.length-e):t}};z5=Object(r.__decorate)([Zg({name:"initial"})],z5);let $5=class{transform(t,e=!1){return Array.isArray(t)?e?[].concat.apply([],t):this.flatten(t):t}flatten(t){return t.reduce((t,e)=>Array.isArray(e)?t.concat(this.flatten(e)):t.concat(e),[])}};$5=Object(r.__decorate)([Zg({name:"flatten"})],$5);let H5=class{transform(t,...e){return Array.isArray(t)?e.reduce((t,e)=>t.filter(t=>!!~e.indexOf(t)),t):t}};function W5(t){return void 0===t}function K5(t){return"function"==typeof t}function G5(t){return"number"==typeof t}function Q5(t){return"string"==typeof t}function Y5(t){return null!==t&&"object"==typeof t}function X5(t){return G5(t)&&isFinite(t)}function Z5(t){return-1!==["a","e","i","o","u"].indexOf(t)}function J5(t){const[e,...n]=t.split(/\s/g);return[e.toLowerCase().split(/(?=['|-])/g).map(t=>t.indexOf("-")+t.indexOf("'")>-2?t.slice(0,2).toUpperCase()+t.slice(2):t.slice(0,1).toUpperCase()+t.slice(1)).join(""),...n].join(" ")}function t8(t,e){if(e<=0)return Math.round(t);const n=Math.pow(10,e);return Math.round(t*n)/n}function e8(t,e){const n=e.split("."),r=n.shift();return n.reduce((t,e)=>W5(t)||W5(t[e])?void 0:t[e],t[r||""])}function n8(t,e){return[...Object.keys(t),...Object.keys(e)].filter((t,e,n)=>n.indexOf(t)===e)}H5=Object(r.__decorate)([Zg({name:"intersection"})],H5);let r8=class{transform(t){return Q5(t)?t.split("").reverse().join(""):Array.isArray(t)?t.slice().reverse():t}};r8=Object(r.__decorate)([Zg({name:"reverse"})],r8);let i8=class{transform(t,e=0){return Array.isArray(t)?t.slice(e):t}};i8=Object(r.__decorate)([Zg({name:"tail"})],i8);let s8=class{transform(t){return Array.isArray(t)?t.filter(t=>!!t):t}};s8=Object(r.__decorate)([Zg({name:"truthify"})],s8);let o8=class{transform(t,e=[]){return Array.isArray(t)&&Array.isArray(e)?e.reduce((t,e)=>t.concat(e.reduce((e,n)=>~e.indexOf(n)||~t.indexOf(n)?e:e.concat([n]),[])),t):t}};o8=Object(r.__decorate)([Zg({name:"union"})],o8);let a8=class{transform(t,e){const n=[];return Array.isArray(t)?W5(e)?t.filter((e,n)=>t.indexOf(e)===n):t.filter((t,r)=>{let i=e8(t,e);return!W5(i=Y5(i)?JSON.stringify(i):i)&&!n[i]&&(n[i]=!0,!0)}):t}};a8=Object(r.__decorate)([Zg({name:"unique"})],a8);let l8=class{transform(t,e=[]){return Array.isArray(t)?t.filter(t=>!~e.indexOf(t)):t}};l8=Object(r.__decorate)([Zg({name:"without"})],l8);let c8=class{transform(t,e){return Array.isArray(t)?t.map(t=>e8(t,e)):Y5(t)?e8(t,e):t}};c8=Object(r.__decorate)([Zg({name:"pluck",pure:!1})],c8);let u8=class{transform(t){if(!Array.isArray(t))return t;const e=[...t],n=t.length-1;for(let r=0;r<n;++r){const t=Math.floor(Math.random()*(n-r+1))+r;[e[r],e[t]]=[e[t],e[r]]}return e}};u8=Object(r.__decorate)([Zg({name:"shuffle"})],u8);let h8=class{transform(t,e){return!!Array.isArray(t)&&t.every(e)}};h8=Object(r.__decorate)([Zg({name:"every"})],h8);let d8=class{transform(t,e){return Array.isArray(t)?t.some(e):t}};d8=Object(r.__decorate)([Zg({name:"some"})],d8);let p8=class{transform(t,e=1){if(!Array.isArray(t))return t;let n=[];const r=[...t],i=e<r.length?e:r.length;for(let s=0;s<i;++s)n=n.concat(r.splice(Math.floor(Math.random()*r.length),1));return n}};p8=Object(r.__decorate)([Zg({name:"sample"})],p8);let m8=class{transform(t,e=[],n="|"){return Array.isArray(t)?this.groupBy(t,e,n):t}groupBy(t,e,n){return t.reduce((t,r)=>{const i=this.extractKeyByDiscriminator(e,r,n);return t[i]=Array.isArray(t[i])?t[i].concat([r]):[r],t},{})}extractKeyByDiscriminator(t,e,n){return K5(t)?t(e):Array.isArray(t)?t.map(t=>e8(e,t)).join(n):e8(e,t)}};m8=Object(r.__decorate)([Zg({name:"groupBy"})],m8);let f8=class{transform(t,e,n="",r=!1){if(!Array.isArray(t)||!Array.isArray(n)&&!Q5(n)&&!X5(n)&&"boolean"!=typeof n)return t;const i=String(n).toLowerCase().split(",");return t.filter(t=>e.some(e=>i.some(n=>{const i=e8(t,e),{props:s,tail:o}=function(t,e){const n=e.split("."),r=n.pop();return{props:e8(t,n.join(".")),tail:r}}(t,e);if(W5(i)&&!W5(s)&&Array.isArray(s))return s.some(t=>{const e=String(t[o]).toLowerCase();return r?e===n:!!~e.indexOf(n)});if(W5(i))return!1;const a=String(i).toLowerCase();return r?n===a:!!~a.indexOf(n)})))}};var g8;f8=Object(r.__decorate)([Zg({name:"filterBy"})],f8);let y8=g8=class{transform(t,e){if(!Array.isArray(t))return t;const n=[...t];if(Array.isArray(e))return n.sort((t,n)=>{const r=e.length;for(let i=0;i<r;++i){const[r,s]=g8.extractFromConfig(e[i]),o=g8.orderCompare(r,s,t,n);if(0!==o)return o}return 0});if(Q5(e)){const[t,r,i]=g8.extractFromConfig(e);if(1===e.length)switch(i){case"+":return n.sort(g8.simpleSort.bind(this));case"-":return n.sort(g8.simpleSort.bind(this)).reverse()}return n.sort(g8.orderCompare.bind(this,t,r))}return n.sort(g8.simpleSort.bind(this))}static simpleSort(t,e){return Q5(t)&&Q5(e)?t.toLowerCase().localeCompare(e.toLowerCase()):t-e}static orderCompare(t,e,n,r){const i=e8(n,t),s=e8(r,t);if(i===s)return 0;if(W5(i)||""===i)return 1;if(W5(s)||""===s)return-1;if(Q5(i)&&Q5(s)){const t=i.toLowerCase().localeCompare(s.toLowerCase());return e?t:-t}return e?i-s:s-i}static extractFromConfig(t){const e=t.substr(0,1);return[t.replace(/^[-+]/,""),"-"!==e,e]}};y8=g8=Object(r.__decorate)([Zg({name:"orderBy"})],y8);let v8=class extends m8{};v8=Object(r.__decorate)([Zg({name:"groupByImpure",pure:!1})],v8);let _8=class extends f8{};_8=Object(r.__decorate)([Zg({name:"filterByImpure",pure:!1})],_8);let b8=class extends y8{};b8=Object(r.__decorate)([Zg({name:"orderByImpure",pure:!1})],b8);let w8=class{transform(t=1,e=0,n=1){return Array(e).fill("").map((e,r)=>n*r+t)}};w8=Object(r.__decorate)([Zg({name:"range"})],w8);let E8=class{transform(t,e=1){return Q5(t)?this.chunk(t.split(""),e):Array.isArray(t)?this.chunk(t,e):t}chunk(t,e){return Array(Math.ceil(t.length/e)).fill([]).map((t,n)=>n*e).map(n=>t.slice(n,n+e))}};E8=Object(r.__decorate)([Zg({name:"chunk"})],E8);let C8=class{transform(t){return Array.isArray(t)?t.reduce((t,e)=>{if(!Array.isArray(e))return t;const[n,r]=e;return t[n]=r,t},{}):t}};C8=Object(r.__decorate)([Zg({name:"fromPairs"})],C8);const x8=[q5,$5,z5,H5,r8,i8,s8,o8,a8,l8,c8,u8,h8,d8,p8,m8,v8,f8,_8,y8,b8,w8,E8,C8];let S8=class{};S8=Object(r.__decorate)([oy({declarations:x8,imports:[],exports:x8})],S8);let T8=class{transform(t){return Array.isArray(t)||!Y5(t)?t:Object.keys(t)}};T8=Object(r.__decorate)([Zg({name:"keys"})],T8);let I8=class{transform(t){return Array.isArray(t)||!Y5(t)?t:Object.keys(t).map(e=>t[e])}};I8=Object(r.__decorate)([Zg({name:"values"})],I8);let k8=class{transform(t){return Array.isArray(t)||!Y5(t)?t:Object.entries(t)}};k8=Object(r.__decorate)([Zg({name:"pairs"})],k8);let A8=class{transform(t,...e){return Array.isArray(t)||!Y5(t)?t:e.reduce((e,n)=>Object.assign(e,{[n]:t[n]}),{})}};A8=Object(r.__decorate)([Zg({name:"pick"})],A8);let D8=class{transform(t,...e){return Array.isArray(t)||!Y5(t)?t:Object.keys(t).filter(t=>!~e.indexOf(t)).reduce((e,n)=>Object.assign(e,{[n]:t[n]}),{})}};D8=Object(r.__decorate)([Zg({name:"omit"})],D8);let N8=class{transform(t){return Array.isArray(t)||!Y5(t)?t:Object.keys(t).reduce((e,n)=>Object.assign(e,{[t[n]]:n}),{})}},O8=class{transform(t,e){return Array.isArray(t)||!Y5(t)?t:Object.keys(t).reduce((n,r)=>{const i=e?e(t[r]):t[r];return Array.isArray(n[i])?(n[i].push(r),n):Object.assign(n,{[i]:[r]})},{})}},P8=class{transform(t,e={}){return Array.isArray(t)||Array.isArray(e)||!Y5(t)||!Y5(e)?{}:n8(t,e).reduce((n,r)=>(function t(e,n){return Y5(e)&&Y5(n)?n8(e,n).every(r=>Y5(e[r])||Y5(n[r])?!(!Y5(e[r])||!Y5(n[r]))&&t(e[r],n[r]):e[r]===n[r]):e===n}(e[r],t[r])||(n[r]=t[r]),n),{})}};const R8=[T8,I8,k8,A8,N8=Object(r.__decorate)([Zg({name:"invert"})],N8),O8=Object(r.__decorate)([Zg({name:"invertBy"})],O8),D8,P8=Object(r.__decorate)([Zg({name:"diffObj"})],P8)];let M8=class{};M8=Object(r.__decorate)([oy({declarations:R8,imports:[],exports:R8})],M8);let L8=class{constructor(){this.irregularMap={herb:"an",honor:"an",honorable:"an",hour:"an",mba:"an",msc:"an","m.sc.":"an",unicorn:"a"}}transform(t){if(t&&""!==t){const e=t.trim().split(" ")[0];return this.irregularMap[e.toLocaleLowerCase()]?`${this.irregularMap[e.toLocaleLowerCase()]} ${t}`:Z5(t[0])?`an ${t}`:`a ${t}`}return""}};L8=Object(r.__decorate)([Zg({name:"aOrAn"})],L8);let F8=class{transform(t){return Q5(t)?t.split(" ").map(t=>J5(t)).join(" "):t}};F8=Object(r.__decorate)([Zg({name:"ucwords"})],F8);let V8=class{transform(t,e="\\s"){return Q5(t)?t.replace(new RegExp(`^[${e}]+`),""):t}},B8=class{transform(t,e=1,n=""){if(e<=0)throw new RangeError;return 1===e?t:this.repeat(t,e-1,n)}repeat(t,e,n){return Q5(t)?0===e?t:t+n+this.repeat(t,e-1,n):t}},j8=class{transform(t,e="\\s"){return Q5(t)?t.replace(new RegExp(`[${e}]+$`),""):t}},U8=class{transform(t,e=[]){return Q5(t)?t.replace(/\{(\d+)}/g,(t,n)=>W5(e[n])?t:e[n]):t}},q8=class{transform(t,e=0,n="",r=!0){if(!Q5(t))return t;if(t.length>e){if(r)return t.slice(0,e)+n;if(~t.indexOf(" ",e))return t.slice(0,t.indexOf(" ",e))+n}return t}},z8=class{transform(t,...e){return e.length>0?t.replace(new RegExp(`<(?!/?(${e.join("|")})s*/?)[^>]+>`,"g"),""):t.replace(/<(?:.|\s)*?>/g,"")}},$8=class{transform(t,e="\\s"){return Q5(t)?t.replace(new RegExp(`^[${e}]+|[${e}]+$`,"g"),""):t}},H8=class{transform(t){return Q5(t)?J5(t):t}},W8=class{transform(t){return Q5(t)?t.toLowerCase().trim().replace(/[^\w\-]+/g," ").replace(/\s+/g,"-"):t}},K8=class{transform(t,e="\\s"){return Q5(t)?t.toLowerCase().split(/[-_\s]/g).filter(t=>!!t).map((t,e)=>e?t.slice(0,1).toUpperCase()+t.slice(1):t).join(""):t}},G8=class{constructor(){this.latinMap={"\xc1":"A","\u0102":"A","\u1eae":"A","\u1eb6":"A","\u1eb0":"A","\u1eb2":"A","\u1eb4":"A","\u01cd":"A","\xc2":"A","\u1ea4":"A","\u1eac":"A","\u1ea6":"A","\u1ea8":"A","\u1eaa":"A","\xc4":"A","\u01de":"A","\u0226":"A","\u01e0":"A","\u1ea0":"A","\u0200":"A","\xc0":"A","\u1ea2":"A","\u0202":"A","\u0100":"A","\u0104":"A","\xc5":"A","\u01fa":"A","\u1e00":"A","\u023a":"A","\xc3":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u1e02":"B","\u1e04":"B","\u0181":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0106":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0108":"C","\u010a":"C","\u0187":"C","\u023b":"C","\u010e":"D","\u1e10":"D","\u1e12":"D","\u1e0a":"D","\u1e0c":"D","\u018a":"D","\u1e0e":"D","\u01f2":"D","\u01c5":"D","\u0110":"D","\u018b":"D","\u01f1":"DZ","\u01c4":"DZ","\xc9":"E","\u0114":"E","\u011a":"E","\u0228":"E","\u1e1c":"E","\xca":"E","\u1ebe":"E","\u1ec6":"E","\u1ec0":"E","\u1ec2":"E","\u1ec4":"E","\u1e18":"E","\xcb":"E","\u0116":"E","\u1eb8":"E","\u0204":"E","\xc8":"E","\u1eba":"E","\u0206":"E","\u0112":"E","\u1e16":"E","\u1e14":"E","\u0118":"E","\u0246":"E","\u1ebc":"E","\u1e1a":"E","\ua76a":"ET","\u1e1e":"F","\u0191":"F","\u01f4":"G","\u011e":"G","\u01e6":"G","\u0122":"G","\u011c":"G","\u0120":"G","\u0193":"G","\u1e20":"G","\u01e4":"G","\u1e2a":"H","\u021e":"H","\u1e28":"H","\u0124":"H","\u2c67":"H","\u1e26":"H","\u1e22":"H","\u1e24":"H","\u0126":"H","\xcd":"I","\u012c":"I","\u01cf":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u0130":"I","\u1eca":"I","\u0208":"I","\xcc":"I","\u1ec8":"I","\u020a":"I","\u012a":"I","\u012e":"I","\u0197":"I","\u0128":"I","\u1e2c":"I","\ua779":"D","\ua77b":"F","\ua77d":"G","\ua782":"R","\ua784":"S","\ua786":"T","\ua76c":"IS","\u0134":"J","\u0248":"J","\u1e30":"K","\u01e8":"K","\u0136":"K","\u2c69":"K","\ua742":"K","\u1e32":"K","\u0198":"K","\u1e34":"K","\ua740":"K","\ua744":"K","\u0139":"L","\u023d":"L","\u013d":"L","\u013b":"L","\u1e3c":"L","\u1e36":"L","\u1e38":"L","\u2c60":"L","\ua748":"L","\u1e3a":"L","\u013f":"L","\u2c62":"L","\u01c8":"L","\u0141":"L","\u01c7":"LJ","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u0143":"N","\u0147":"N","\u0145":"N","\u1e4a":"N","\u1e44":"N","\u1e46":"N","\u01f8":"N","\u019d":"N","\u1e48":"N","\u0220":"N","\u01cb":"N","\xd1":"N","\u01ca":"NJ","\xd3":"O","\u014e":"O","\u01d1":"O","\xd4":"O","\u1ed0":"O","\u1ed8":"O","\u1ed2":"O","\u1ed4":"O","\u1ed6":"O","\xd6":"O","\u022a":"O","\u022e":"O","\u0230":"O","\u1ecc":"O","\u0150":"O","\u020c":"O","\xd2":"O","\u1ece":"O","\u01a0":"O","\u1eda":"O","\u1ee2":"O","\u1edc":"O","\u1ede":"O","\u1ee0":"O","\u020e":"O","\ua74a":"O","\ua74c":"O","\u014c":"O","\u1e52":"O","\u1e50":"O","\u019f":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\xd5":"O","\u1e4c":"O","\u1e4e":"O","\u022c":"O","\u01a2":"OI","\ua74e":"OO","\u0190":"E","\u0186":"O","\u0222":"OU","\u1e54":"P","\u1e56":"P","\ua752":"P","\u01a4":"P","\ua754":"P","\u2c63":"P","\ua750":"P","\ua758":"Q","\ua756":"Q","\u0154":"R","\u0158":"R","\u0156":"R","\u1e58":"R","\u1e5a":"R","\u1e5c":"R","\u0210":"R","\u0212":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua73e":"C","\u018e":"E","\u015a":"S","\u1e64":"S","\u0160":"S","\u1e66":"S","\u015e":"S","\u015c":"S","\u0218":"S","\u1e60":"S","\u1e62":"S","\u1e68":"S","\u1e9e":"SS","\u0164":"T","\u0162":"T","\u1e70":"T","\u021a":"T","\u023e":"T","\u1e6a":"T","\u1e6c":"T","\u01ac":"T","\u1e6e":"T","\u01ae":"T","\u0166":"T","\u2c6f":"A","\ua780":"L","\u019c":"M","\u0245":"V","\ua728":"TZ","\xda":"U","\u016c":"U","\u01d3":"U","\xdb":"U","\u1e76":"U","\xdc":"U","\u01d7":"U","\u01d9":"U","\u01db":"U","\u01d5":"U","\u1e72":"U","\u1ee4":"U","\u0170":"U","\u0214":"U","\xd9":"U","\u1ee6":"U","\u01af":"U","\u1ee8":"U","\u1ef0":"U","\u1eea":"U","\u1eec":"U","\u1eee":"U","\u0216":"U","\u016a":"U","\u1e7a":"U","\u0172":"U","\u016e":"U","\u0168":"U","\u1e78":"U","\u1e74":"U","\ua75e":"V","\u1e7e":"V","\u01b2":"V","\u1e7c":"V","\ua760":"VY","\u1e82":"W","\u0174":"W","\u1e84":"W","\u1e86":"W","\u1e88":"W","\u1e80":"W","\u2c72":"W","\u1e8c":"X","\u1e8a":"X","\xdd":"Y","\u0176":"Y","\u0178":"Y","\u1e8e":"Y","\u1ef4":"Y","\u1ef2":"Y","\u01b3":"Y","\u1ef6":"Y","\u1efe":"Y","\u0232":"Y","\u024e":"Y","\u1ef8":"Y","\u0179":"Z","\u017d":"Z","\u1e90":"Z","\u2c6b":"Z","\u017b":"Z","\u1e92":"Z","\u0224":"Z","\u1e94":"Z","\u01b5":"Z","\u0132":"IJ","\u0152":"OE","\u1d00":"A","\u1d01":"AE","\u0299":"B","\u1d03":"B","\u1d04":"C","\u1d05":"D","\u1d07":"E","\ua730":"F","\u0262":"G","\u029b":"G","\u029c":"H","\u026a":"I","\u0281":"R","\u1d0a":"J","\u1d0b":"K","\u029f":"L","\u1d0c":"L","\u1d0d":"M","\u0274":"N","\u1d0f":"O","\u0276":"OE","\u1d10":"O","\u1d15":"OU","\u1d18":"P","\u0280":"R","\u1d0e":"N","\u1d19":"R","\ua731":"S","\u1d1b":"T","\u2c7b":"E","\u1d1a":"R","\u1d1c":"U","\u1d20":"V","\u1d21":"W","\u028f":"Y","\u1d22":"Z","\xe1":"a","\u0103":"a","\u1eaf":"a","\u1eb7":"a","\u1eb1":"a","\u1eb3":"a","\u1eb5":"a","\u01ce":"a","\xe2":"a","\u1ea5":"a","\u1ead":"a","\u1ea7":"a","\u1ea9":"a","\u1eab":"a","\xe4":"a","\u01df":"a","\u0227":"a","\u01e1":"a","\u1ea1":"a","\u0201":"a","\xe0":"a","\u1ea3":"a","\u0203":"a","\u0101":"a","\u0105":"a","\u1d8f":"a","\u1e9a":"a","\xe5":"a","\u01fb":"a","\u1e01":"a","\u2c65":"a","\xe3":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u1e03":"b","\u1e05":"b","\u0253":"b","\u1e07":"b","\u1d6c":"b","\u1d80":"b","\u0180":"b","\u0183":"b","\u0275":"o","\u0107":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0109":"c","\u0255":"c","\u010b":"c","\u0188":"c","\u023c":"c","\u010f":"d","\u1e11":"d","\u1e13":"d","\u0221":"d","\u1e0b":"d","\u1e0d":"d","\u0257":"d","\u1d91":"d","\u1e0f":"d","\u1d6d":"d","\u1d81":"d","\u0111":"d","\u0256":"d","\u018c":"d","\u0131":"i","\u0237":"j","\u025f":"j","\u0284":"j","\u01f3":"dz","\u01c6":"dz","\xe9":"e","\u0115":"e","\u011b":"e","\u0229":"e","\u1e1d":"e","\xea":"e","\u1ebf":"e","\u1ec7":"e","\u1ec1":"e","\u1ec3":"e","\u1ec5":"e","\u1e19":"e","\xeb":"e","\u0117":"e","\u1eb9":"e","\u0205":"e","\xe8":"e","\u1ebb":"e","\u0207":"e","\u0113":"e","\u1e17":"e","\u1e15":"e","\u2c78":"e","\u0119":"e","\u1d92":"e","\u0247":"e","\u1ebd":"e","\u1e1b":"e","\ua76b":"et","\u1e1f":"f","\u0192":"f","\u1d6e":"f","\u1d82":"f","\u01f5":"g","\u011f":"g","\u01e7":"g","\u0123":"g","\u011d":"g","\u0121":"g","\u0260":"g","\u1e21":"g","\u1d83":"g","\u01e5":"g","\u1e2b":"h","\u021f":"h","\u1e29":"h","\u0125":"h","\u2c68":"h","\u1e27":"h","\u1e23":"h","\u1e25":"h","\u0266":"h","\u1e96":"h","\u0127":"h","\u0195":"hv","\xed":"i","\u012d":"i","\u01d0":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u1ecb":"i","\u0209":"i","\xec":"i","\u1ec9":"i","\u020b":"i","\u012b":"i","\u012f":"i","\u1d96":"i","\u0268":"i","\u0129":"i","\u1e2d":"i","\ua77a":"d","\ua77c":"f","\u1d79":"g","\ua783":"r","\ua785":"s","\ua787":"t","\ua76d":"is","\u01f0":"j","\u0135":"j","\u029d":"j","\u0249":"j","\u1e31":"k","\u01e9":"k","\u0137":"k","\u2c6a":"k","\ua743":"k","\u1e33":"k","\u0199":"k","\u1e35":"k","\u1d84":"k","\ua741":"k","\ua745":"k","\u013a":"l","\u019a":"l","\u026c":"l","\u013e":"l","\u013c":"l","\u1e3d":"l","\u0234":"l","\u1e37":"l","\u1e39":"l","\u2c61":"l","\ua749":"l","\u1e3b":"l","\u0140":"l","\u026b":"l","\u1d85":"l","\u026d":"l","\u0142":"l","\u01c9":"lj","\u017f":"s","\u1e9c":"s","\u1e9b":"s","\u1e9d":"s","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u1d6f":"m","\u1d86":"m","\u0144":"n","\u0148":"n","\u0146":"n","\u1e4b":"n","\u0235":"n","\u1e45":"n","\u1e47":"n","\u01f9":"n","\u0272":"n","\u1e49":"n","\u019e":"n","\u1d70":"n","\u1d87":"n","\u0273":"n","\xf1":"n","\u01cc":"nj","\xf3":"o","\u014f":"o","\u01d2":"o","\xf4":"o","\u1ed1":"o","\u1ed9":"o","\u1ed3":"o","\u1ed5":"o","\u1ed7":"o","\xf6":"o","\u022b":"o","\u022f":"o","\u0231":"o","\u1ecd":"o","\u0151":"o","\u020d":"o","\xf2":"o","\u1ecf":"o","\u01a1":"o","\u1edb":"o","\u1ee3":"o","\u1edd":"o","\u1edf":"o","\u1ee1":"o","\u020f":"o","\ua74b":"o","\ua74d":"o","\u2c7a":"o","\u014d":"o","\u1e53":"o","\u1e51":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\xf5":"o","\u1e4d":"o","\u1e4f":"o","\u022d":"o","\u01a3":"oi","\ua74f":"oo","\u025b":"e","\u1d93":"e","\u0254":"o","\u1d97":"o","\u0223":"ou","\u1e55":"p","\u1e57":"p","\ua753":"p","\u01a5":"p","\u1d71":"p","\u1d88":"p","\ua755":"p","\u1d7d":"p","\ua751":"p","\ua759":"q","\u02a0":"q","\u024b":"q","\ua757":"q","\u0155":"r","\u0159":"r","\u0157":"r","\u1e59":"r","\u1e5b":"r","\u1e5d":"r","\u0211":"r","\u027e":"r","\u1d73":"r","\u0213":"r","\u1e5f":"r","\u027c":"r","\u1d72":"r","\u1d89":"r","\u024d":"r","\u027d":"r","\u2184":"c","\ua73f":"c","\u0258":"e","\u027f":"r","\u015b":"s","\u1e65":"s","\u0161":"s","\u1e67":"s","\u015f":"s","\u015d":"s","\u0219":"s","\u1e61":"s","\u1e63":"s","\u1e69":"s","\u0282":"s","\u1d74":"s","\u1d8a":"s","\u023f":"s","\u0261":"g","\xdf":"ss","\u1d11":"o","\u1d13":"o","\u1d1d":"u","\u0165":"t","\u0163":"t","\u1e71":"t","\u021b":"t","\u0236":"t","\u1e97":"t","\u2c66":"t","\u1e6b":"t","\u1e6d":"t","\u01ad":"t","\u1e6f":"t","\u1d75":"t","\u01ab":"t","\u0288":"t","\u0167":"t","\u1d7a":"th","\u0250":"a","\u1d02":"ae","\u01dd":"e","\u1d77":"g","\u0265":"h","\u02ae":"h","\u02af":"h","\u1d09":"i","\u029e":"k","\ua781":"l","\u026f":"m","\u0270":"m","\u1d14":"oe","\u0279":"r","\u027b":"r","\u027a":"r","\u2c79":"r","\u0287":"t","\u028c":"v","\u028d":"w","\u028e":"y","\ua729":"tz","\xfa":"u","\u016d":"u","\u01d4":"u","\xfb":"u","\u1e77":"u","\xfc":"u","\u01d8":"u","\u01da":"u","\u01dc":"u","\u01d6":"u","\u1e73":"u","\u1ee5":"u","\u0171":"u","\u0215":"u","\xf9":"u","\u1ee7":"u","\u01b0":"u","\u1ee9":"u","\u1ef1":"u","\u1eeb":"u","\u1eed":"u","\u1eef":"u","\u0217":"u","\u016b":"u","\u1e7b":"u","\u0173":"u","\u1d99":"u","\u016f":"u","\u0169":"u","\u1e79":"u","\u1e75":"u","\u1d6b":"ue","\ua778":"um","\u2c74":"v","\ua75f":"v","\u1e7f":"v","\u028b":"v","\u1d8c":"v","\u2c71":"v","\u1e7d":"v","\ua761":"vy","\u1e83":"w","\u0175":"w","\u1e85":"w","\u1e87":"w","\u1e89":"w","\u1e81":"w","\u2c73":"w","\u1e98":"w","\u1e8d":"x","\u1e8b":"x","\u1d8d":"x","\xfd":"y","\u0177":"y","\xff":"y","\u1e8f":"y","\u1ef5":"y","\u1ef3":"y","\u01b4":"y","\u1ef7":"y","\u1eff":"y","\u0233":"y","\u1e99":"y","\u024f":"y","\u1ef9":"y","\u017a":"z","\u017e":"z","\u1e91":"z","\u0291":"z","\u2c6c":"z","\u017c":"z","\u1e93":"z","\u0225":"z","\u1e95":"z","\u1d76":"z","\u1d8e":"z","\u0290":"z","\u01b6":"z","\u0240":"z","\ufb00":"ff","\ufb03":"ffi","\ufb04":"ffl","\ufb01":"fi","\ufb02":"fl","\u0133":"ij","\u0153":"oe","\ufb06":"st","\u2090":"a","\u2091":"e","\u1d62":"i","\u2c7c":"j","\u2092":"o","\u1d63":"r","\u1d64":"u","\u1d65":"v","\u2093":"x"}}transform(t,e="\\s"){return Q5(t)?t.replace(/[^A-Za-z0-9]/g,t=>this.latinMap[t]||t):t}},Q8=class{transform(t,e="\\s"){return Q5(t)?t.replace(/\r\n/g,"\n").split("\n"):t}},Y8=class{transform(t,e="\\s"){return Q5(t)?t.trim().replace(/\s+/g,"").replace(/[A-Z]/g,(t,e)=>e?`_${t.toLowerCase()}`:t.toLowerCase()):t}},X8=class{transform(t,e,n){return Q5(t)?t.match(new RegExp(e,n)):t}},Z8=class{transform(t,e,n){return Q5(t)?new RegExp(e,n).test(t):t}},J8=class{transform(t,e,n=" "){if(!Q5(t)||t.length>=e)return t;for(;t.length<e;)t=n+t;return t}},t6=class{transform(t,e=1,n=" "){if(!Q5(t)||t.length>=e)return t;for(;t.length<e;)t+=n;return t}},e6=class{constructor(){this.irregularMap={addendum:"addenda",alga:"algae",alumna:"alumnae",alumnus:"alumni",analysis:"analyses",antenna:"antennae",appendix:"appendices",aquarium:"aquaria",arch:"arches",axe:"axes",axis:"axes",bacillus:"bacilli",bacterium:"bacteria",basis:"bases",batch:"batches",beach:"beaches",beau:"beaux",bison:"bison",brush:"brushes",buffalo:"buffaloes",bureau:"bureaus",bus:"busses",cactus:"cacti",calf:"calves",chateau:"chateaux",cherry:"cherries",child:"children",church:"churches",circus:"circuses",cod:"cod",corps:"corps",corpus:"corpora",crisis:"crises",criterion:"criteria",curriculum:"curricula",datum:"data",deer:"deer",diagnosis:"diagnoses",die:"dice",domino:"dominoes",dwarf:"dwarves",echo:"echoes",elf:"elves",ellipsis:"ellipses",embargo:"embargoes",emphasis:"emphases",erratum:"errata",fax:"faxes",fireman:"firemen",fish:"fish",flush:"flushes",focus:"foci",foot:"feet",formula:"formulas",fungus:"fungi",genus:"genera",goose:"geese",grafito:"grafiti",half:"halves",hero:"heroes",hoax:"hoaxes",hoof:"hooves",hypothesis:"hypotheses",index:"indices",kiss:"kisses",knife:"knives",leaf:"leaves",life:"lives",loaf:"loaves",louse:"lice",man:"men",mango:"mangoes",matrix:"matrices",means:"means",medium:"media",memorandum:"memoranda",millennium:"milennia",moose:"moose",mosquito:"mosquitoes",motto:"mottoes",mouse:"mice",nebula:"nebulae",neurosis:"neuroses",nucleus:"nuclei",oasis:"oases",octopus:"octopodes",ovum:"ova",ox:"oxen",paralysis:"paralyses",parenthesis:"parentheses",person:"people",phenomenon:"phenomena",plateau:"plateaux",potato:"potatoes",quiz:"quizzes",radius:"radii",reflex:"reflexes","runner-up":"runners-up",scampo:"scampi",scarf:"scarves",scissors:"scissors",scratch:"scratches",self:"selves",series:"series",sheaf:"sheaves",sheep:"sheep",shelf:"shelves","son-in-law":"sons-in-law",species:"species",splash:"splashes",stimulus:"stimuli",stitch:"stitches",stratum:"strata",syllabus:"syllabi",symposium:"symposia",synopsis:"synopses",synthesis:"syntheses",tableau:"tableaux",tax:"taxes",that:"those",thesis:"theses",thief:"thieves",this:"these",tomato:"tomatoes",tooth:"teeth",tornado:"tornadoes",torpedo:"torpedoes",vertebra:"vertebrae",veto:"vetoes",vita:"vitae",volcano:"volcanoes",waltz:"waltzes",wash:"washes",watch:"watches",wharf:"wharves",wife:"wives",wolf:"wolves",woman:"women",zero:"zeroes"}}transform(t,e=0){if(!t||""===t)return"";if(1===e)return t;{const e=t.trim().split(" ")[t.trim().split(" ").length-1];return this.irregularMap[e.toLocaleLowerCase()]?e[0]===e[0].toLocaleUpperCase()?t.replace(e,this.irregularMap[e.toLocaleLowerCase()].replace(this.irregularMap[e.toLocaleLowerCase()][0],this.irregularMap[e.toLocaleLowerCase()][0].toLocaleUpperCase())):t.replace(e,this.irregularMap[e.toLocaleLowerCase()]):"y"===e[e.length-1]?Z5(e[e.length-2])?t+"s":t.replace(e,e.slice(0,-1)+"ies"):"s"===e[e.length-1]?t+"es":t+"s"}}},n6=class{transform(t,e="",n=""){return Q5(t)?(e&&Q5(e)?e:"")+t+(n&&Q5(n)?n:""):t}};const r6=[L8,V8=Object(r.__decorate)([Zg({name:"ltrim"})],V8),B8=Object(r.__decorate)([Zg({name:"repeat"})],B8),j8=Object(r.__decorate)([Zg({name:"rtrim"})],j8),U8=Object(r.__decorate)([Zg({name:"scan"})],U8),q8=Object(r.__decorate)([Zg({name:"shorten"})],q8),z8=Object(r.__decorate)([Zg({name:"stripTags"})],z8),$8=Object(r.__decorate)([Zg({name:"trim"})],$8),H8=Object(r.__decorate)([Zg({name:"ucfirst"})],H8),F8,W8=Object(r.__decorate)([Zg({name:"slugify"})],W8),K8=Object(r.__decorate)([Zg({name:"camelize"})],K8),G8=Object(r.__decorate)([Zg({name:"latinise"})],G8),Q8=Object(r.__decorate)([Zg({name:"lines"})],Q8),Y8=Object(r.__decorate)([Zg({name:"underscore"})],Y8),X8=Object(r.__decorate)([Zg({name:"match"})],X8),Z8=Object(r.__decorate)([Zg({name:"test"})],Z8),J8=Object(r.__decorate)([Zg({name:"lpad"})],J8),t6=Object(r.__decorate)([Zg({name:"rpad"})],t6),e6=Object(r.__decorate)([Zg({name:"makePluralString"})],e6),n6=Object(r.__decorate)([Zg({name:"wrap"})],n6)];let i6=class{};i6=Object(r.__decorate)([oy({declarations:r6,imports:[],exports:r6})],i6);let s6=class{transform(t){return Array.isArray(t)?Math.max(...t):t}},o6=class{transform(t){return Array.isArray(t)?Math.min(...t):t}},a6=class{transform(t,e=100,n=!1){if(isNaN(t))return t;const r=100*t/e;return n?Math.floor(r):r}},l6=class{transform(t){return Array.isArray(t)?t.reduce((t,e)=>t+e,0):t}},c6=class{transform(t,e=0){if(e<=0)return Math.floor(t);const n=Math.pow(10,e);return Math.floor(t*n)/n}},u6=class{transform(t,e=0){return t8(t,e)}},h6=class{transform(t){return isNaN(t)?t:Math.sqrt(t)}},d6=class{transform(t,e=2){return isNaN(t)?t:Math.pow(t,e)}},p6=class{transform(t,e=0){if(e<=0)return Math.ceil(t);const n=Math.pow(10,e);return Math.ceil(t*n)/n}},m6=class{transform(t){return X5(t)?180*t/Math.PI:NaN}},f6=class{constructor(){this.dictionary=[{max:1024,type:"B"},{max:1048576,type:"KB"},{max:1073741824,type:"MB"},{max:10995116e5,type:"GB"}]}transform(t,e){if(!X5(t))return NaN;const n=this.dictionary.find(e=>t<e.max)||this.dictionary[this.dictionary.length-1],r=t/(n.max/1024);return`${W5(e)?r:t8(r,e)} ${n.type}`}},g6=class{transform(t){return X5(t)?t*Math.PI/180:NaN}};const y6=[s6=Object(r.__decorate)([Zg({name:"max"})],s6),o6=Object(r.__decorate)([Zg({name:"min"})],o6),a6=Object(r.__decorate)([Zg({name:"percentage"})],a6),l6=Object(r.__decorate)([Zg({name:"sum"})],l6),c6=Object(r.__decorate)([Zg({name:"floor"})],c6),u6=Object(r.__decorate)([Zg({name:"round"})],u6),h6=Object(r.__decorate)([Zg({name:"sqrt"})],h6),d6=Object(r.__decorate)([Zg({name:"pow"})],d6),p6=Object(r.__decorate)([Zg({name:"ceil"})],p6),m6=Object(r.__decorate)([Zg({name:"degrees"})],m6),f6=Object(r.__decorate)([Zg({name:"bytes"})],f6),g6=Object(r.__decorate)([Zg({name:"radians"})],g6)];let v6=class{};v6=Object(r.__decorate)([oy({declarations:y6,imports:[],exports:y6})],v6);let _6=class{transform(t){return!W5(t)}},b6=class{transform(t){return null===t}},w6=class{transform(t){return W5(t)}},E6=class{transform(t){return Q5(t)}},C6=class{transform(t){return K5(t)}},x6=class{transform(t){return G5(t)}},S6=class{transform(t){return Array.isArray(t)}},T6=class{transform(t){return Y5(t)}},I6=class{transform(t,e){return t>=e}},k6=class{transform(t,e){return t>e}},A6=class{transform(t,e){return t<=e}},D6=class{transform(t,e){return t==e}},N6=class{transform(t,e){return t!=e}},O6=class{transform(t,e){return t===e}},P6=class{transform(t,e){return t!==e}},R6=class{transform(t,e){return t<e}};const M6=[_6=Object(r.__decorate)([Zg({name:"isDefined"})],_6),b6=Object(r.__decorate)([Zg({name:"isNull"})],b6),w6=Object(r.__decorate)([Zg({name:"isUndefined"})],w6),E6=Object(r.__decorate)([Zg({name:"isString"})],E6),C6=Object(r.__decorate)([Zg({name:"isFunction"})],C6),x6=Object(r.__decorate)([Zg({name:"isNumber"})],x6),S6=Object(r.__decorate)([Zg({name:"isArray"})],S6),T6=Object(r.__decorate)([Zg({name:"isObject"})],T6),I6=Object(r.__decorate)([Zg({name:"isGreaterEqualThan"})],I6),k6=Object(r.__decorate)([Zg({name:"isGreaterThan"})],k6),A6=Object(r.__decorate)([Zg({name:"isLessEqualThan"})],A6),A6,D6=Object(r.__decorate)([Zg({name:"isEqualTo"})],D6),N6=Object(r.__decorate)([Zg({name:"isNotEqualTo"})],N6),O6=Object(r.__decorate)([Zg({name:"isIdenticalTo"})],O6),P6=Object(r.__decorate)([Zg({name:"isNotIdenticalTo"})],P6),R6=Object(r.__decorate)([Zg({name:"isLessThan"})],R6)];let L6=class{};var F6;L6=Object(r.__decorate)([oy({declarations:M6,imports:[],exports:M6})],L6);let V6=F6=class{transform(t){if(!t||!t.getTime&&!t.toDate)return"Invalid date";const e=t.toDate?t.toDate():t.getTime(),n=+new Date;if(e>n)return"in the future";for(let r=0,i=F6.MAPPER.length,s=n-e,o=F6.YEAR_MS;r<i;++r){const t=F6.MAPPER[r],e=Math.floor(s/(o/=t.div));if(e>=1)return 1===e?t.single:`${e} ${t.many} ago`}return"just now"}};V6.YEAR_MS=290304e5,V6.MAPPER=[{single:"last year",many:"years",div:1},{single:"last month",many:"months",div:12},{single:"last week",many:"weeks",div:4},{single:"yesterday",many:"days",div:7},{single:"an hour ago",many:"hours",div:24},{single:"just now",many:"minutes",div:60}];const B6=[V6=F6=Object(r.__decorate)([Zg({name:"timeAgo"})],V6)];let j6=class{};j6=Object(r.__decorate)([oy({declarations:B6,imports:[],exports:B6})],j6);let U6=class{};U6=Object(r.__decorate)([oy({exports:[S8,i6,v6,L6,M8,j6]})],U6);var q6=n("wj3C"),z6=n.n(q6);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var s=0;s<t.length-1;s++){var o=t[s];o in i||(i[o]={}),i=i[o]}(r=r(s=i[t=t[t.length-1]]))!=s&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function s(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var o=n.setTimeout;r.prototype.c=function(t){o(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.o=function(t){var e=this.f();t.Ja(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){s(n)}}:e}var i,s,o=new e(function(t,e){i=t,s=e});return this.Ja(r(t,i),r(n,s)),o},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ja=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=s,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=i(t),o=r.next();!o.done;o=r.next())s(o.value).Ja(e,n)})},e.all=function(t){var n=i(t),r=n.next();return r.done?s([]):new e(function(t,e){function i(e){return function(n){o[e]=n,0==--a&&t(o)}}var o=[],a=0;do{o.push(void 0),a++,s(r.value).Ja(i(o.length-1),e),r=n.next()}while(!r.done)})},e});var s=s||{},o=this||self;function a(t){return"string"==typeof t}function l(t){return"boolean"==typeof t}var c=/^[\w+\/_-]+[=]{0,2}$/,u=null;function h(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return null===t}function m(t){return"array"==d(t)}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==d(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),_=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var x=Date.now||function(){return+new Date};function S(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.fd=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function T(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function I(t){if(Error.captureStackTrace)Error.captureStackTrace(this,I);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function k(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");I.call(this,n+t[r])}function A(t,e){throw new k("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function D(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function N(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function O(){this.b=this.a=null}S(I,Error),I.prototype.name="CustomError",S(k,I),k.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var P=new D(function(){return new M},function(t){t.reset()});function R(){var t=qt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function M(){this.next=this.b=this.a=null}function L(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||o).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var s=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){s="<object could not be stringified>"}else s=void 0===t?"undefined":null===t?"null":typeof t;A("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,s)}}O.prototype.add=function(t,e){var n=P.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},M.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},M.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},V=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};var B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=a(t)?t.split(""):t,s=0;s<n;s++)s in i&&(r[s]=e.call(void 0,i[s],s,t));return r},j=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function U(t,e){return 0<=F(t,e)}function q(t,e){var n;return(n=0<=(e=F(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(t,e){!function(t,e){for(var n=a(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0})}function $(t){return Array.prototype.concat.apply([],arguments)}function H(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function W(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function K(t){for(var e in t)return!1;return!0}function G(t){var e,n={};for(e in t)n[e]=t[e];return n}var Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Q.length;s++)n=Q[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function X(t,e){this.a=t===tt&&e||"",this.b=J}function Z(t){return t instanceof X&&t.constructor===X&&t.b===J?t.a:(A("expected object of type Const, got '"+t+"'"),"type_error:Const")}X.prototype.qa=!0,X.prototype.pa=function(){return this.a},X.prototype.toString=function(){return"Const{"+this.a+"}"};var J={},tt={},et=new X(tt,"");function nt(){this.a="",this.b=at}function rt(t){return t instanceof nt&&t.constructor===nt&&t.b===at?t.a:(A("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function it(t,e){var n=Z(t);if(!ot.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return lt(t=n.replace(st,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof X?Z(t):encodeURIComponent(String(t))}))}nt.prototype.qa=!0,nt.prototype.pa=function(){return this.a.toString()},nt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var st=/%{(\w+)}/g,ot=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,at={};function lt(t){var e=new nt;return e.a=t,e}var ct=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ut=/&/g,ht=/</g,dt=/>/g,pt=/"/g,mt=/'/g,ft=/\x00/g,gt=/[\x00&<>"']/;function yt(t,e){return-1!=t.indexOf(e)}function vt(t,e){return t<e?-1:t>e?1:0}function _t(){this.a="",this.b=xt}function bt(t){return t instanceof _t&&t.constructor===_t&&t.b===xt?t.a:(A("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}_t.prototype.qa=!0,_t.prototype.pa=function(){return this.a.toString()},_t.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var wt=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Et(t){return t instanceof _t?t:(t="object"==typeof t&&t.qa?t.pa():String(t),wt.test(t)||(t="about:invalid#zClosurez"),St(t))}var Ct,xt={};function St(t){var e=new _t;return e.a=t,e}St("about:blank");t:{var Tt=o.navigator;if(Tt){var It=Tt.userAgent;if(It){Ct=It;break t}}Ct=""}function kt(t){return yt(Ct,t)}function At(){this.a="",this.b=Nt}function Dt(t){return t instanceof At&&t.constructor===At&&t.b===Nt?t.a:(A("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}At.prototype.qa=!0,At.prototype.pa=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Nt={};function Ot(t){var e=new At;return e.a=t,e}Ot("<!DOCTYPE html>");var Pt,Rt,Mt=Ot("");function Lt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ft(t){return gt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ut,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(ht,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(dt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(pt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(mt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ft,"&#0;"))),t}function Vt(t){o.setTimeout(function(){throw t},0)}function Bt(){var t=o.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!kt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",function(t){var e=lt(Z(et));L(t,"HTMLIFrameElement"),t.src=rt(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Dt(Mt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!kt("Trident")&&!kt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){r.next={yb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){o.setTimeout(t,0)}}function jt(t,e){Rt||function(){if(o.Promise&&o.Promise.resolve){var t=o.Promise.resolve(void 0);Rt=function(){t.then(zt)}}else Rt=function(){var t=zt;!g(o.setImmediate)||o.Window&&o.Window.prototype&&!kt("Edge")&&o.Window.prototype.setImmediate==o.setImmediate?(Pt||(Pt=Bt()),Pt(t)):o.setImmediate(t)}}(),Ut||(Rt(),Ut=!0),qt.add(t,e)}Ot("<br>");var Ut=!1,qt=new O;function zt(){for(var t;t=R();){try{t.a.call(t.b)}catch(e){Vt(e)}N(P,t)}Ut=!1}function $t(t,e){if(this.a=Ht,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){re(n,Wt,t)},function(t){if(!(t instanceof ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}re(n,Kt,t)})}catch(r){re(this,Kt,r)}}var Ht=0,Wt=2,Kt=3;function Gt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Gt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Qt=new D(function(){return new Gt},function(t){t.reset()});function Yt(t,e,n){var r=Qt.get();return r.g=t,r.b=e,r.f=n,r}function Xt(t){if(t instanceof $t)return t;var e=new $t(h);return re(e,Wt,t),e}function Zt(t){return new $t(function(e,n){n(t)})}function Jt(t,e,n){ie(t,e,n,null)||jt(C(e,t))}function te(t){return new $t(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,s){n--,r[t]=i?{Gb:!0,value:s}:{Gb:!1,reason:s},0==n&&e(r)},s=0;s<t.length;s++)Jt(t[s],C(i,s,!0),C(i,s,!1));else e(r)})}function ee(t,e){t.b||t.a!=Wt&&t.a!=Kt||se(t),t.f?t.f.next=e:t.b=e,t.f=e}function ne(t,e,n,r){var i=Yt(null,null,null);return i.a=new $t(function(t,s){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(o){s(o)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof ue?s(e):t(i)}catch(o){s(o)}}:s}),i.a.c=t,ee(t,i),i.a}function re(t,e,n){t.a==Ht&&(t===n&&(e=Kt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,ie(n,t.Oc,t.Pc,t)||(t.i=n,t.a=e,t.c=null,se(t),e!=Kt||n instanceof ue||function(t,e){t.g=!0,jt(function(){t.g&&ce.call(null,e)})}(t,n)))}function ie(t,e,n,r){if(t instanceof $t)return ee(t,Yt(e||h,n||null,r)),!0;if(T(t))return t.then(e,n,r),!0;if(y(t))try{var i=t.then;if(g(i))return function(t,e,n,r,i){function s(t){o||(o=!0,r.call(i,t))}var o=!1;try{e.call(t,function(t){o||(o=!0,n.call(i,t))},s)}catch(a){s(a)}}(t,i,e,n,r),!0}catch(s){return n.call(r,s),!0}return!1}function se(t){t.h||(t.h=!0,jt(t.Zb,t))}function oe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function ae(t,e,n,r){if(n==Kt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,le(e,n,r);else try{e.c?e.g.call(e.f):le(e,n,r)}catch(i){ce.call(null,i)}N(Qt,e)}function le(t,e,n){e==Wt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}$t.prototype.then=function(t,e,n){return ne(this,g(t)?t:null,g(e)?e:null,n)},$t.prototype.$goog_Thenable=!0,(t=$t.prototype).ka=function(t,e){return(t=Yt(t,t,e)).c=!0,ee(this,t),this},t.s=function(t,e){return ne(this,null,t,e)},t.cancel=function(t){this.a==Ht&&jt(function(){!function t(e,n){if(e.a==Ht)if(e.c){var r=e.c;if(r.b){for(var i=0,s=null,o=null,a=r.b;a&&(a.c||(i++,a.a==e&&(s=a),!(s&&1<i)));a=a.next)s||(o=a);s&&(r.a==Ht&&1==i?t(r,n):(o?((i=o).next==r.f&&(r.f=i),i.next=i.next.next):oe(r),ae(r,s,Kt,n)))}e.c=null}else re(e,Kt,n)}(this,new ue(t))},this)},t.Oc=function(t){this.a=Ht,re(this,Wt,t)},t.Pc=function(t){this.a=Ht,re(this,Kt,t)},t.Zb=function(){for(var t;t=oe(this);)ae(this,t,this.a,this.i);this.h=!1};var ce=Vt;function ue(t){I.call(this,t)}function he(){0!=de&&(pe[this[v]||(this[v]=++_)]=this),this.ta=this.ta,this.la=this.la}S(ue,I),ue.prototype.name="cancel";var de=0,pe={};function me(t){if(!t.ta&&(t.ta=!0,t.xa(),0!=de)){var e=t[v]||(t[v]=++_);if(0!=de&&t.la&&0<t.la.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete pe[e]}}function fe(t){return fe[" "](t),t}he.prototype.ta=!1,he.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},fe[" "]=h;var ge,ye,ve=kt("Opera"),_e=kt("Trident")||kt("MSIE"),be=kt("Edge"),we=be||_e,Ee=kt("Gecko")&&!(yt(Ct.toLowerCase(),"webkit")&&!kt("Edge"))&&!(kt("Trident")||kt("MSIE"))&&!kt("Edge"),Ce=yt(Ct.toLowerCase(),"webkit")&&!kt("Edge");function xe(){var t=o.document;return t?t.documentMode:void 0}t:{var Se="",Te=(ye=Ct,Ee?/rv:([^\);]+)(\)|;)/.exec(ye):be?/Edge\/([\d\.]+)/.exec(ye):_e?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ye):Ce?/WebKit\/(\S+)/.exec(ye):ve?/(?:Version)[ \/]?(\S+)/.exec(ye):void 0);if(Te&&(Se=Te?Te[1]:""),_e){var Ie=xe();if(null!=Ie&&Ie>parseFloat(Se)){ge=String(Ie);break t}}ge=Se}var ke,Ae={};function De(t){return function(t,e){var n=Ae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=ct(String(ge)).split("."),r=ct(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=vt(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||vt(0==o[2].length,0==a[2].length)||vt(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}ke=o.document&&_e?xe():void 0;var Ne=Object.freeze||function(t){return t},Oe=!_e||9<=Number(ke),Pe=_e&&!De("9"),Re=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{o.addEventListener("test",h,e),o.removeEventListener("test",h,e)}catch(n){}return t}();function Me(t,e){this.type=t,this.b=this.target=e,this.Mb=!0}function Le(t,e){if(Me.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Ee){t:{try{fe(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:Fe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Me.prototype.preventDefault=function(){this.Mb=!1},S(Le,Me);var Fe=Ne({2:"touch",3:"pen",4:"mouse"});Le.prototype.preventDefault=function(){Le.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Pe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Le.prototype.f=function(){return this.a};var Ve="closure_listenable_"+(1e6*Math.random()|0),Be=0;function je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Na=i,this.key=++Be,this.ra=this.Ia=!1}function Ue(t){t.ra=!0,t.listener=null,t.proxy=null,t.src=null,t.Na=null}function qe(t){this.src=t,this.a={},this.b=0}function ze(t,e){var n=e.type;n in t.a&&q(t.a[n],e)&&(Ue(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function $e(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ra&&s.listener==e&&s.capture==!!n&&s.Na==r)return i}return-1}qe.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=$e(t,e,r,i);return-1<o?(e=t[o],n||(e.Ia=!1)):((e=new je(e,this.src,s,!!r,i)).Ia=n,t.push(e)),e};var He="closure_lm_"+(1e6*Math.random()|0),We={};function Ke(t,e,n,r,i){if(r&&r.once)Qe(t,e,n,r,i);else if(m(e))for(var s=0;s<e.length;s++)Ke(t,e[s],n,r,i);else n=sn(n),t&&t[Ve]?an(t,e,n,y(r)?!!r.capture:!!r,i):Ge(t,e,n,!1,r,i)}function Ge(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=y(i)?!!i.capture:!!i,a=nn(t);if(a||(t[He]=a=new qe(t)),!(n=a.add(e,n,r,o,s)).proxy){if(r=function(){var t=en,e=Oe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Re||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ze(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function Qe(t,e,n,r,i){if(m(e))for(var s=0;s<e.length;s++)Qe(t,e[s],n,r,i);else n=sn(n),t&&t[Ve]?ln(t,e,n,y(r)?!!r.capture:!!r,i):Ge(t,e,n,!0,r,i)}function Ye(t,e,n,r,i){if(m(e))for(var s=0;s<e.length;s++)Ye(t,e[s],n,r,i);else r=y(r)?!!r.capture:!!r,n=sn(n),t&&t[Ve]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=$e(s=t.a[e],n,r,i))&&(Ue(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--)))):t&&(t=nn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=$e(e,n,r,i)),(n=-1<t?e[t]:null)&&Xe(n))}function Xe(t){if("number"!=typeof t&&t&&!t.ra){var e=t.src;if(e&&e[Ve])ze(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ze(n),r):e.addListener&&e.removeListener&&e.removeListener(r),0,(n=nn(e))?(ze(n,t),0==n.b&&(n.src=null,e[He]=null)):Ue(t)}}}function Ze(t){return t in We?We[t]:We[t]="on"+t}function Je(t,e,n,r){var i=!0;if((t=nn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var s=e[t];s&&s.capture==n&&!s.ra&&(s=tn(s,r),i=i&&!1!==s)}return i}function tn(t,e){var n=t.listener,r=t.Na||t.src;return t.Ia&&Xe(t),n.call(r,e)}function en(t,e){if(t.ra)return!0;if(!Oe){if(!e)t:{e=["window","event"];for(var n=o,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Le(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var s=Je(r[i],t,!0,e);n=n&&s}for(i=0;i<r.length;i++)e.b=r[i],s=Je(r[i],t,!1,e),n=n&&s}return n}return tn(t,new Le(e,this))}function nn(t){return(t=t[He])instanceof qe?t:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function sn(t){return g(t)?t:(t[rn]||(t[rn]=function(e){return t.handleEvent(e)}),t[rn])}function on(){he.call(this),this.u=new qe(this),this.Sb=this,this.Wa=null}function an(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function ln(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function cn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ra&&o.capture==n){var a=o.listener,l=o.Na||o.src;o.Ia&&ze(t.u,o),i=!1!==a.call(l,r)&&i}}return i&&0!=r.Mb}function un(t,e,n){if(g(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:o.setTimeout(t,e||0)}function hn(t){var e=null;return new $t(function(n,r){-1==(e=un(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw o.clearTimeout(e),t})}function dn(t){if(t.U&&"function"==typeof t.U)return t.U();if(a(t))return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function pn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.U||"function"!=typeof t.U){if(f(t)||a(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function mn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof mn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function fn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];gn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)gn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function gn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(on,he),on.prototype[Ve]=!0,on.prototype.addEventListener=function(t,e,n,r){Ke(this,t,e,n,r)},on.prototype.removeEventListener=function(t,e,n,r){Ye(this,t,e,n,r)},on.prototype.dispatchEvent=function(t){var e,n=this.Wa;if(n)for(e=[];n;n=n.Wa)e.push(n);n=this.Sb;var r=t.type||t;if(a(t))t=new Me(t,n);else if(t instanceof Me)t.target=t.target||n;else{var i=t;Y(t=new Me(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.b=e[s];i=cn(o,r,!0,t)&&i}if(i=cn(o=t.b=n,r,!0,t)&&i,i=cn(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=cn(o=t.b=e[s],r,!1,t)&&i;return i},on.prototype.xa=function(){if(on.qb.xa.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)0,Ue(n[r]);delete e.a[t],e.b--}}this.Wa=null},(t=mn.prototype).U=function(){fn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return fn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return gn(this.b,t)?this.b[t]:e},t.set=function(t,e){gn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var yn=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof vn?(this.h=void 0!==e?e:t.h,_n(this,t.f),this.i=t.i,this.b=t.b,bn(this,t.l),this.c=t.c,wn(this,jn(t.a)),this.g=t.g):t&&(n=String(t).match(yn))?(this.h=!!e,_n(this,n[1]||"",!0),this.i=Tn(n[2]||""),this.b=Tn(n[3]||"",!0),bn(this,n[4]),this.c=Tn(n[5]||"",!0),wn(this,n[6]||"",!0),this.g=Tn(n[7]||"")):(this.h=!!e,this.a=new Rn(null,this.h))}function _n(t,e,n){t.f=n?Tn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function bn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function wn(t,e,n){e instanceof Rn?(t.a=e,function(t,e){e&&!t.f&&(Mn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Fn(this,e),Bn(this,n,t))},t)),t.f=e}(t.a,t.h)):(n||(e=In(e,On)),t.a=new Rn(e,t.h))}function En(t,e,n){t.a.set(e,n)}function Cn(t,e){return t.a.get(e)}function xn(t){return t instanceof vn?new vn(t):new vn(t,void 0)}function Sn(t,e){var n=new vn(null,void 0);return _n(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Tn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function In(t,e,n){return a(t)?(t=encodeURI(t).replace(e,kn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}vn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(In(e,An,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(In(e,An,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(In(n,"/"==n.charAt(0)?Nn:Dn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",In(n,Pn)),t.join("")},vn.prototype.resolve=function(t){var e=new vn(this),n=!!t.f;n?_n(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)bn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(yt(i,"./")||yt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var s=[],o=0;o<i.length;){var a=i[o++];"."==a?r&&o==i.length&&s.push(""):".."==a?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),r&&o==i.length&&s.push("")):(s.push(a),r=!0)}r=s.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?wn(e,jn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var An=/[#\/\?@]/g,Dn=/[#\?:]/g,Nn=/[#\?]/g,On=/[#\?@]/g,Pn=/#/g;function Rn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Mn(t){t.a||(t.a=new mn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ln(t){var e=pn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Rn(null,void 0);t=dn(t);for(var r=0;r<e.length;r++){var i=e[r],s=t[r];m(s)?Bn(n,i,s):n.add(i,s)}return n}function Fn(t,e){Mn(t),e=Un(t,e),gn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,gn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&fn(t)))}function Vn(t,e){return Mn(t),e=Un(t,e),gn(t.a.b,e)}function Bn(t,e,n){Fn(t,e),0<n.length&&(t.c=null,t.a.set(Un(t,e),H(n)),t.b+=n.length)}function jn(t){var e=new Rn;return e.c=t.c,t.a&&(e.a=new mn(t.a),e.b=t.b),e}function Un(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=Rn.prototype).add=function(t,e){Mn(this),this.c=null,t=Un(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Mn(this),this.a.forEach(function(n,r){V(n,function(n){t.call(e,n,r,this)},this)},this)},t.X=function(){Mn(this);for(var t=this.a.U(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},t.U=function(t){Mn(this);var e=[];if(a(t))Vn(this,t)&&(e=$(e,this.a.get(Un(this,t))));else{t=this.a.U();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return Mn(this),this.c=null,Vn(this,t=Un(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.U(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.U(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var qn=!_e||9<=Number(ke);function zn(t){var e=document;return a(t)?e.getElementById(t):t}function $n(t,e){W(e,function(e,n){e&&"object"==typeof e&&e.qa&&(e=e.pa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Hn.hasOwnProperty(n)?t.setAttribute(Hn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var Hn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Wn(t,e,n){var r=arguments,i=document,s=String(r[0]),o=r[1];if(!qn&&o&&(o.name||o.type)){if(s=["<",s],o.name&&s.push(' name="',Ft(o.name),'"'),o.type){s.push(' type="',Ft(o.type),'"');var l={};Y(l,o),delete l.type,o=l}s.push(">"),s=s.join("")}return s=i.createElement(s),o&&(a(o)?s.className=o:m(o)?s.className=o.join(" "):$n(s,o)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(a(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var s=n[i];!f(s)||y(s)&&0<s.nodeType?r(s):V(Kn(s)?H(s):s,r)}}(i,s,r),s}function Kn(t){if(t&&"number"==typeof t.length){if(y(t))return"function"==typeof t.item||"string"==typeof t.item;if(g(t))return"function"==typeof t.item}return!1}function Gn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(m(n)){var i=n;n=i.length,r.push("[");for(var s="",o=0;o<n;o++)r.push(s),t(e,i[o],r),s=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),s="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(o=n[i])&&(r.push(s),Zn(i,r),r.push(":"),t(e,o,r),s=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Zn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,t,e),e.join("")}function Qn(){}var Yn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Xn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Zn(t,e){e.push('"',t.replace(Xn,function(t){var e=Yn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Yn[t]=e),e}),'"')}function Jn(){var t=vr();return _e&&!!ke&&11==ke||/Edge\/\d+/.test(t)}function tr(){return o.window&&o.window.location.href||self&&self.location&&self.location.href||""}function er(t,e){e=e||o.window;var n="about:blank";t&&(n=bt(Et(t)).toString()),e.location.href=n}function nr(t){return!!((t=(t||vr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function rr(t){t=t||o.window;try{t.close()}catch(e){}}function ir(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,s=(window.screen.availWidth-e)/2;for(o in e={width:e,height:n,top:0<i?i:0,left:0<s?s:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=vr().toLowerCase(),r&&(e.target=r,yt(n,"crios/")&&(e.target="_blank")),fr(vr())==pr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof _t?n:Et(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(o){case"width":case"height":case"top":case"left":i.push(o+"="+t[o]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(o+"="+(t[o]?1:0))}var o=i.join(",");if((kt("iPhone")&&!kt("iPod")&&!kt("iPad")||kt("iPad")||kt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(L(o=r.document.createElement("A"),"HTMLAnchorElement"),e instanceof _t||e instanceof _t||(e="object"==typeof e&&e.qa?e.pa():String(e),wt.test(e)||(e="about:invalid#zClosurez"),e=St(e)),o.href=bt(e),o.setAttribute("target",n),t.noreferrer&&o.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),o.dispatchEvent(t),o={}):t.noreferrer?(o=r.open("",n,o),t=bt(e).toString(),o&&(we&&yt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),o.opener=null,t=Ot('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ft(t)+'">'),o.document.write(Dt(t)),o.document.close())):(o=r.open(bt(e).toString(),n,o))&&t.noopener&&(o.opener=null),o)try{o.focus()}catch(a){}return o}var sr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,or=/^[^@]+@[^@]+$/;function ar(){var t=null;return new $t(function(e){"complete"==o.document.readyState?e():(t=function(){e()},Qe(window,"load",t))}).s(function(e){throw Ye(window,"load",t),e})}function lr(t){return t=t||vr(),!("file:"!==Cr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function cr(){var t=o.window;try{return!(!t||t==t.top)}catch(e){return!1}}function ur(){return void 0!==o.WorkerGlobalScope&&"function"==typeof o.importScripts}function hr(){return z6.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":z6.a.INTERNAL.hasOwnProperty("node")?"Node":ur()?"Worker":"Browser"}function dr(){var t=hr();return"ReactNative"===t||"Node"===t}var pr="Firefox",mr="Chrome";function fr(t){var e=t.toLowerCase();return yt(e,"opera/")||yt(e,"opr/")||yt(e,"opios/")?"Opera":yt(e,"iemobile")?"IEMobile":yt(e,"msie")||yt(e,"trident/")?"IE":yt(e,"edge/")?"Edge":yt(e,"firefox/")?pr:yt(e,"silk/")?"Silk":yt(e,"blackberry")?"Blackberry":yt(e,"webos")?"Webos":!yt(e,"safari/")||yt(e,"chrome/")||yt(e,"crios/")||yt(e,"android")?!yt(e,"chrome/")&&!yt(e,"crios/")||yt(e,"edge/")?yt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":mr:"Safari"}var gr={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};function yr(t,e){e=e||[];var n,r=[],i={};for(n in gr)i[gr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=hr())?r=fr(i=vr()):"Worker"===r&&(r=fr(i=vr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function vr(){return o.navigator&&o.navigator.userAgent||""}function _r(t,e){t=t.split("."),e=e||o;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function br(){try{var t=o.localStorage,e=kr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Jn()||!!o.indexedDB}catch(n){return ur()&&!!o.indexedDB}return!1}function wr(){return(Er()||"chrome-extension:"===Cr()||lr())&&!dr()&&br()&&!ur()}function Er(){return"http:"===Cr()||"https:"===Cr()}function Cr(){return o.location&&o.location.protocol||null}function xr(t){return!nr(t=t||vr())&&fr(t)!=pr}function Sr(t){return void 0===t?null:Gn(t)}function Tr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Ir(t){if(null!==t)return JSON.parse(t)}function kr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ar(t){return"Safari"!=fr(t=t||vr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Dr(){var t=o.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Nr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=vr(),e=hr(),this.b=nr(t)||"ReactNative"===e}function Or(){var t=o.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Pr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Rr(){return!(!_r("fireauth.oauthhelper",o)&&!_r("fireauth.iframe",o))}Nr.prototype.get=function(){var t=o.navigator;return!t||"boolean"!=typeof t.onLine||!Er()&&"chrome-extension:"!==Cr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Mr,Lr={};function Fr(t){Lr[t]||(Lr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Vr={};Object.defineProperty(Vr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Vr,"abcd",{configurable:!0,enumerable:!0,value:2}),Mr=2==Vr.abcd}catch(ye){Mr=!1}function Br(t,e,n){Mr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function jr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Br(t,n,e[n])}function Ur(t){var e={};return jr(e,t),e}function qr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Br(e,n,qr(t[n]));return e}function zr(t){var e={},n=t[Hr],r=t[Wr];if(!(t=t[Kr])||t!=$r&&!n)throw Error("Invalid provider user info!");e[Qr]=r||null,e[Gr]=n||null,Br(this,Xr,t),Br(this,Yr,qr(e))}var $r="EMAIL_SIGNIN",Hr="email",Wr="newEmail",Kr="requestType",Gr="email",Qr="fromEmail",Yr="data",Xr="operation";function Zr(t,e){this.code=ti+t,this.message=e||ei[t]||""}function Jr(t){var e=t&&t.code;return e?new Zr(e.substring(ti.length),t.message):null}S(Zr,Error),Zr.prototype.A=function(){return{code:this.code,message:this.message}},Zr.prototype.toJSON=function(){return this.A()};var ti="auth/",ei={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ni(t){var e=Cn(t=xn(t),ri)||null,n=Cn(t,ii)||null,r=Cn(t,ai)||null;if(r=r&&ci[r]||null,!e||!n||!r)throw new Zr("argument-error",ri+", "+ii+"and "+ai+" are required in a valid action code URL.");jr(this,{apiKey:e,operation:r,code:n,continueUrl:Cn(t,si)||null,languageCode:Cn(t,oi)||null,tenantId:Cn(t,li)||null})}var ri="apiKey",ii="oobCode",si="continueUrl",oi="languageCode",ai="mode",li="tenantId",ci={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:$r,verifyEmail:"VERIFY_EMAIL"};function ui(t){try{return new ni(t)}catch(e){return null}}function hi(t){var e=t[gi];if(void 0===e)throw new Zr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Zr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[di];if(n&&"object"==typeof n){e=n[_i];var r=n[yi];if(n=n[vi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Zr("argument-error",yi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Zr("argument-error",vi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Zr("argument-error",_i+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Zr("missing-android-pkg-name")}}else if(void 0!==n)throw new Zr("argument-error",di+" property must be a non null object when specified.");if(this.f=null,(e=t[fi])&&"object"==typeof e){if("string"==typeof(e=e[bi])&&e.length)this.f=e;else if(void 0!==e)throw new Zr("argument-error",bi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Zr("argument-error",fi+" property must be a non null object when specified.");if(void 0!==(e=t[mi])&&"boolean"!=typeof e)throw new Zr("argument-error",mi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[pi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Zr("argument-error",pi+" property must be a non empty string when specified.");this.i=t||null}var di="android",pi="dynamicLinkDomain",mi="handleCodeInApp",fi="iOS",gi="url",yi="installApp",vi="minimumVersion",_i="packageName",bi="bundleId";function wi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ei=null,Ci=null;function xi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ci[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ei){Ei={},Ci={};for(var t=0;65>t;t++)Ei[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Ci[Ei[t]]=t,62<=t&&(Ci["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),s=n(0),o=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|s>>4),64!=o&&(e(s<<4&240|o>>2),64!=a&&e(o<<6&192|a))}}(t,function(t){e+=String.fromCharCode(t)}),e}function Si(t){this.f=t.sub,x(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.c=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Ti(t){return(t=Ii(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Si(t):null}function Ii(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(xi(t))}catch(r){}return null}Si.prototype.R=function(){return this.c},Si.prototype.g=function(){return this.b};var ki,Ai={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Di(t){for(var e in Ai)if(Ai[e].id===t)return{firebaseEndpoint:(t=Ai[e]).bb,secureTokenEndpoint:t.ib};return null}ki=Di("__EID__")?"__EID__":void 0;var Ni="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Oi=["client_id","response_type","scope","redirect_uri","state"],Pi={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:Oi},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:Oi},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:Oi},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:Ni}};function Ri(t){for(var e in Pi)if(Pi[e].Pa==t)return Pi[e];return null}function Mi(t){var e={};e["facebook.com"]=ji,e["google.com"]=qi,e["github.com"]=Ui,e["twitter.com"]=zi;var n=t&&t[Fi];try{if(n)return e[n]?new e[n](t):new Bi(t);if(void 0!==t[Li])return new Vi(t)}catch(r){}return null}var Li="idToken",Fi="providerId";function Vi(t){var e=t[Fi];if(!e&&t[Li]){var n=Ti(t[Li]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Br(this,"providerId",e),Br(this,"isNewUser",n)}function Bi(t){Vi.call(this,t),Br(this,"profile",qr((t=Ir(t.rawUserInfo||"{}"))||{}))}function ji(t){if(Bi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ui(t){if(Bi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",this.profile&&this.profile.login||null)}function qi(t){if(Bi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function zi(t){if(Bi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",t.screenName||null)}function $i(t){var e=xn(t),n=Cn(e,"link"),r=Cn(xn(n),"link");return e=Cn(e,"deep_link_id"),Cn(xn(e),"link")||e||r||n||t}function Hi(){}function Wi(t,e){return t.then(function(t){if(t[Ro]){var n=Ti(t[Ro]);if(!n||e!=n.f)throw new Zr("user-mismatch");return t}throw new Zr("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==ti+"user-not-found"?new Zr("user-mismatch"):t})}function Ki(t,e){if(!e)throw new Zr("internal-error","failed to construct a credential");this.a=e,Br(this,"providerId",t),Br(this,"signInMethod",t)}function Gi(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Qi(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Ki(t.providerId,t.pendingToken)}catch(e){}return null}function Yi(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Br(this,"idToken",e.idToken),e.accessToken&&Br(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Br(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Zr("internal-error","failed to construct a credential");Br(this,"accessToken",e.oauthToken),Br(this,"secret",e.oauthTokenSecret)}Br(this,"providerId",t),Br(this,"signInMethod",n)}function Xi(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Ln(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Zi(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Yi(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Ji(t,e){this.Fc=e||[],jr(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.cb=(Ri(t)||{}).Oa||null,this.ab=null}function ts(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Zr("argument-error",'SAML provider IDs must be prefixed with "saml."');Ji.call(this,t,[])}function es(t){Ji.call(this,t,Oi),this.a=[]}function ns(){es.call(this,"facebook.com")}function rs(t){if(!t)throw new Zr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new ns).credential({accessToken:e})}function is(){es.call(this,"github.com")}function ss(t){if(!t)throw new Zr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new is).credential({accessToken:e})}function os(){es.call(this,"google.com"),this.wa("profile")}function as(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new os).credential({idToken:n,accessToken:e})}function ls(){Ji.call(this,"twitter.com",Ni)}function cs(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Zr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Yi("twitter.com",n,"twitter.com")}function us(t,e,n){this.a=t,this.c=e,Br(this,"providerId","password"),Br(this,"signInMethod",n===ds.EMAIL_LINK_SIGN_IN_METHOD?ds.EMAIL_LINK_SIGN_IN_METHOD:ds.EMAIL_PASSWORD_SIGN_IN_METHOD)}function hs(t){return t&&t.email&&t.password?new us(t.email,t.password,t.signInMethod):null}function ds(){jr(this,{providerId:"password",isOAuthProvider:!1})}function ps(t,e){if(!(e=ms(e)))throw new Zr("argument-error","Invalid email link!");return new us(t,e.code,ds.EMAIL_LINK_SIGN_IN_METHOD)}function ms(t){return(t=ui(t=$i(t)))&&t.operation===$r?t:null}function fs(t){if(!(t.Ua&&t.Ta||t.Fa&&t.ba))throw new Zr("internal-error");this.a=t,Br(this,"providerId","phone"),Br(this,"signInMethod","phone")}function gs(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new fs(e)}return null}function ys(t){return t.a.Fa&&t.a.ba?{temporaryProof:t.a.Fa,phoneNumber:t.a.ba}:{sessionInfo:t.a.Ua,code:t.a.Ta}}function vs(t){try{this.a=t||z6.a.auth()}catch(e){throw new Zr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}jr(this,{providerId:"phone",isOAuthProvider:!1})}function _s(t,e){if(!t)throw new Zr("missing-verification-id");if(!e)throw new Zr("missing-verification-code");return new fs({Ua:t,Ta:e})}function bs(t){if(t.temporaryProof&&t.phoneNumber)return new fs({Fa:t.temporaryProof,ba:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,s=t&&t.oauthIdToken,o=t&&t.pendingToken;try{switch(e){case"google.com":return as(s,n);case"facebook.com":return rs(n);case"github.com":return ss(n);case"twitter.com":return cs(n,r);default:return n||r||s||o?o?0==e.indexOf("saml.")?new Ki(e,o):new Yi(e,{pendingToken:o,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new es(e).credential({idToken:s,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function ws(t){if(!t.isOAuthProvider)throw new Zr("invalid-oauth-provider")}function Es(t,e,n,r,i,s,o){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=s||null,this.h=o||null,this.a=i||null,!this.g&&!this.a)throw new Zr("invalid-auth-event");if(this.g&&this.a)throw new Zr("invalid-auth-event");if(this.g&&!this.f)throw new Zr("invalid-auth-event")}function Cs(t){return(t=t||{}).type?new Es(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Jr(t.error),t.postBody,t.tenantId):null}function xs(){this.b=null,this.a=[]}S(Bi,Vi),S(ji,Bi),S(Ui,Bi),S(qi,Bi),S(zi,Bi),Ki.prototype.na=function(t){return Zo(t,Gi(this))},Ki.prototype.b=function(t,e){var n=Gi(this);return n.idToken=e,Jo(t,n)},Ki.prototype.f=function(t,e){return Wi(ta(t,Gi(this)),e)},Ki.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Yi.prototype.na=function(t){return Zo(t,Xi(this))},Yi.prototype.b=function(t,e){var n=Xi(this);return n.idToken=e,Jo(t,n)},Yi.prototype.f=function(t,e){return Wi(ta(t,Xi(this)),e)},Yi.prototype.A=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Ji.prototype.Ea=function(t){return this.zb=G(t),this},S(ts,Ji),S(es,Ji),es.prototype.wa=function(t){return U(this.a,t)||this.a.push(t),this},es.prototype.Hb=function(){return H(this.a)},es.prototype.credential=function(t,e){var n;if(!(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Zr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Yi(this.providerId,n,this.providerId)},S(ns,es),Br(ns,"PROVIDER_ID","facebook.com"),Br(ns,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(is,es),Br(is,"PROVIDER_ID","github.com"),Br(is,"GITHUB_SIGN_IN_METHOD","github.com"),S(os,es),Br(os,"PROVIDER_ID","google.com"),Br(os,"GOOGLE_SIGN_IN_METHOD","google.com"),S(ls,Ji),Br(ls,"PROVIDER_ID","twitter.com"),Br(ls,"TWITTER_SIGN_IN_METHOD","twitter.com"),us.prototype.na=function(t){return this.signInMethod==ds.EMAIL_LINK_SIGN_IN_METHOD?Aa(t,la,{email:this.a,oobCode:this.c}):Aa(t,Sa,{email:this.a,password:this.c})},us.prototype.b=function(t,e){return this.signInMethod==ds.EMAIL_LINK_SIGN_IN_METHOD?Aa(t,ca,{idToken:e,email:this.a,oobCode:this.c}):Aa(t,_a,{idToken:e,email:this.a,password:this.c})},us.prototype.f=function(t,e){return Wi(this.na(t),e)},us.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},jr(ds,{PROVIDER_ID:"password"}),jr(ds,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),jr(ds,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),fs.prototype.na=function(t){return t.Va(ys(this))},fs.prototype.b=function(t,e){var n=ys(this);return n.idToken=e,Aa(t,Ia,n)},fs.prototype.f=function(t,e){var n=ys(this);return n.operation="REAUTH",Wi(t=Aa(t,ka,n),e)},fs.prototype.A=function(){var t={providerId:"phone"};return this.a.Ua&&(t.verificationId=this.a.Ua),this.a.Ta&&(t.verificationCode=this.a.Ta),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.ba&&(t.phoneNumber=this.a.ba),t},vs.prototype.Va=function(t,e){var n=this.a.b;return Xt(e.verify()).then(function(r){if(!a(r))throw new Zr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return Aa(t,ya,e)}(n,{phoneNumber:t,recaptchaToken:r}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Zr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},jr(vs,{PROVIDER_ID:"phone"}),jr(vs,{PHONE_SIGN_IN_METHOD:"phone"}),Es.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Es.prototype.R=function(){return this.h},Es.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var Ss,Ts=null;function Is(t){var e="unauthorized-domain",n=void 0,r=xn(t);t=r.b,"chrome-extension"==(r=r.f)?n=Lt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Lt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Zr.call(this,e,n)}function ks(t,e,n){Zr.call(this,t,n),(t=e||{}).Ab&&Br(this,"email",t.Ab),t.ba&&Br(this,"phoneNumber",t.ba),t.credential&&Br(this,"credential",t.credential),t.Qb&&Br(this,"tenantId",t.Qb)}function As(t){if(t.code){var e=t.code||"";0==e.indexOf(ti)&&(e=e.substring(ti.length));var n={credential:bs(t),Qb:t.tenantId};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.ba=t.phoneNumber;else if(!n.credential)return new Zr(e,t.message||void 0);return new ks(e,n,t.message)}return null}function Ds(){}function Ns(t){return t.c||(t.c=t.b())}function Os(){}function Ps(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Rs(){}function Ms(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.fc,this),this.a.onerror=E(this.Ib,this),this.a.onprogress=E(this.gc,this),this.a.ontimeout=E(this.kc,this)}function Ls(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Fs(t,e,n){this.reset(t,e,n,void 0,void 0)}S(Is,Zr),S(ks,Zr),ks.prototype.A=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.A();return e&&Y(t,e),t},ks.prototype.toJSON=function(){return this.A()},Ds.prototype.c=null,S(Os,Ds),Os.prototype.a=function(){var t=Ps(this);return t?new ActiveXObject(t):new XMLHttpRequest},Os.prototype.b=function(){var t={};return Ps(this)&&(t[0]=!0,t[1]=!0),t},Ss=new Os,S(Rs,Ds),Rs.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ms;throw Error("Unsupported browser")},Rs.prototype.b=function(){return{}},(t=Ms.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ls(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Ls(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Ls(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Fs.prototype.a=null;function Vs(t){this.f=t,this.b=this.c=this.a=null}function Bs(t,e){this.name=t,this.value=e}Fs.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||x(),delete this.a},Bs.prototype.toString=function(){return this.name};var js=new Bs("SEVERE",1e3),Us=new Bs("WARNING",900),qs=new Bs("CONFIG",700),zs=new Bs("FINE",500);Vs.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(A("Root logger has no level set."),null)}(this).value)for(g(e)&&(e=e()),t=new Fs(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var $s={},Hs=null;function Ws(t){var e;if(Hs||(Hs=new Vs(""),$s[""]=Hs,Hs.c=qs),!(e=$s[t])){e=new Vs(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Ws(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,$s[t]=e}return e}function Ks(t,e){t&&t.log(zs,e,void 0)}function Gs(t){this.f=t}function Qs(t){on.call(this),this.o=t,this.readyState=Ys,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Ws("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}S(Gs,Ds),Gs.prototype.a=function(){return new Qs(this.f)},Gs.prototype.b=function(t){return function(){return t}}({}),S(Qs,on);var Ys=0;function Xs(t){t.c.read().then(t.ec.bind(t)).catch(t.Ma.bind(t))}function Zs(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Js(t)}function Js(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function to(t){on.call(this),this.headers=new mn,this.B=t||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=eo,this.v=this.P=!1}(t=Qs.prototype).open=function(t,e){if(this.readyState!=Ys)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Js(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.Ma.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Zs(this,!1)),this.readyState=Ys},t.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Js(this)),this.a&&(this.readyState=3,Js(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):void 0!==o.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Xs(this)):t.text().then(this.ic.bind(this),this.Ma.bind(this)))))},t.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Zs(this,!0):Js(this),3==this.readyState&&Xs(this)}},t.ic=function(t){this.a&&(this.response=this.responseText=t,Zs(this,!0))},t.hc=function(t){this.a&&(this.response=t,Zs(this,!0))},t.Ma=function(t){var e=this.h;e&&e.log(Us,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&Zs(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Us,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Us,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},S(to,on);var eo="";to.prototype.b=Ws("goog.net.XhrIo");var no=/^https?$/i,ro=["POST","PUT"];function io(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.O=n,t.I=!1,t.c=!0,t.a=t.B?t.B.a():Ss.a(),t.w=t.B?Ns(t.B):Ns(Ss),t.a.onreadystatechange=E(t.Lb,t);try{Ks(t.b,mo(t,"Opening Xhr")),t.J=!0,t.a.open(n,String(e),!0),t.J=!1}catch(l){return Ks(t.b,mo(t,"Error opening Xhr: "+l.message)),void oo(t,l)}e=r||"";var s=new mn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||a(t))V(t,e,void 0);else for(var n=pn(t),r=dn(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(i,function(t,e){s.set(e,t)}),i=function(t){t:{for(var e=so,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(s.X()),r=o.FormData&&e instanceof o.FormData,!U(ro,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.P&&(t.a.withCredentials=t.P);try{uo(t),0<t.g&&(t.v=function(t){return _e&&De(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Ks(t.b,mo(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ga,t)):t.o=un(t.Ga,t.g,t)),Ks(t.b,mo(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(l){Ks(t.b,mo(t,"Send error: "+l.message)),oo(t,l)}}function so(t){return"content-type"==t.toLowerCase()}function oo(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ao(t),co(t)}function ao(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function lo(t){if(t.c&&void 0!==s)if(t.w[1]&&4==ho(t)&&2==po(t))Ks(t.b,mo(t,"Local request error detected and ignored"));else if(t.i&&4==ho(t))un(t.Lb,0,t);else if(t.dispatchEvent("readystatechange"),4==ho(t)){Ks(t.b,mo(t,"Request complete")),t.c=!1;try{var e,n=po(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(yn)[1]||null;if(!a&&o.self&&o.self.location){var l=o.self.location.protocol;a=l.substr(0,l.length-1)}i=!no.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<ho(t)?t.a.statusText:""}catch(u){Ks(t.b,"Can not get status: "+u.message),c=""}t.h=c+" ["+po(t)+"]",ao(t)}}finally{co(t)}}}function co(t,e){if(t.a){uo(t);var n=t.a,r=t.w[0]?h:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(js,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function uo(t){t.a&&t.v&&(t.a.ontimeout=null),t.o&&(o.clearTimeout(t.o),t.o=null)}function ho(t){return t.a?t.a.readyState:0}function po(t){try{return 2<ho(t)?t.a.status:-1}catch(e){return-1}}function mo(t,e){return e+" ["+t.O+" "+t.l+" "+po(t)+"]"}function fo(t){var e=To;this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function go(t,e,n){t.a=!0,t.c=n,t.f=!e,bo(t)}function yo(t){if(t.a){if(!t.u)throw new wo(t);t.u=!1}}function vo(t,e,n,r){t.g.push([e,n,r]),t.a&&bo(t)}function _o(t){return j(t.g,function(t){return g(t[1])})}function bo(t){if(t.h&&t.a&&_o(t)){var e=t.h,n=xo[e];n&&(o.clearTimeout(n.a),delete xo[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),s=i[0],a=i[1];if(i=i[2],s=t.f?a:s)try{var l=s.call(i||t.o,e);void 0!==l&&(t.f=t.f&&(l==e||l instanceof Error),t.c=e=l),(T(e)||"function"==typeof o.Promise&&e instanceof o.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,_o(t)||(n=!0)}}t.c=e,r&&(l=E(t.m,t,!0),r=E(t.m,t,!1),e instanceof fo?(vo(e,l,r),e.w=!0):e.then(l,r)),n&&(e=new Co(e),xo[e.a]=e,t.h=e.a)}function wo(){I.call(this)}function Eo(){I.call(this)}function Co(t){this.a=o.setTimeout(E(this.c,this),0),this.b=t}(t=to.prototype).Ga=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ks(this.b,mo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Ks(this.b,mo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),co(this))},t.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),co(this,!0)),to.qb.xa.call(this)},t.Lb=function(){this.ta||(this.J||this.i||this.f?lo(this):this.yc())},t.yc=function(){lo(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case eo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(js,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Ks(this.b,"Can not get response: "+e.message),null}},fo.prototype.cancel=function(t){if(this.a)this.c instanceof fo&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new Eo(this),yo(this),go(this,!1,t))}},fo.prototype.m=function(t,e){this.i=!1,go(this,t,e)},fo.prototype.then=function(t,e,n){var r,i,s=new $t(function(t,e){r=t,i=e});return vo(this,r,function(t){t instanceof Eo?s.cancel():i(t)}),s.then(t,e,n)},fo.prototype.$goog_Thenable=!0,S(wo,I),wo.prototype.message="Deferred has already fired",wo.prototype.name="AlreadyCalledError",S(Eo,I),Eo.prototype.message="Deferred was canceled",Eo.prototype.name="CanceledError",Co.prototype.c=function(){throw delete xo[this.a],this.b};var xo={};function So(t){var e={},n=e.document||document,r=rt(t).toString(),i=document.createElement("SCRIPT"),s={Nb:i,Ga:void 0},a=new fo(s),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout(function(){Io(i,!0);var t=new Do(Ao,"Timeout reached for loading script "+r);yo(a),go(a,!1,t)},h),s.Ga=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Io(i,e.gd||!1,l),yo(a),go(a,!0,null))},i.onerror=function(){Io(i,!0,l);var t=new Do(ko,"Error while loading script "+r);yo(a),go(a,!1,t)},Y(s=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),$n(i,s),function(t,e){L(t,"HTMLScriptElement"),t.src=rt(e),null===u&&(u=(e=(e=o.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""),(e=u)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function To(){if(this&&this.Nb){var t=this.Nb;t&&"SCRIPT"==t.tagName&&Io(t,!0,this.Ga)}}function Io(t,e,n){null!=n&&o.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var ko=0,Ao=1;function Do(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),I.call(this,n),this.code=t}function No(t){this.f=t}function Oo(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=t.secureTokenTimeout||Mo,this.g=G(t.secureTokenHeaders||Lo),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.firebaseTimeout||Fo,this.a=G(t.firebaseHeaders||Vo),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==hr(),!(n=o.XMLHttpRequest||n&&z6.a.INTERNAL.node&&z6.a.INTERNAL.node.XMLHttpRequest)&&!ur())throw new Zr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ur()?this.f=new Gs(self):dr()?this.f=new No(n):this.f=new Rs,this.b=null}S(Do,I),S(No,Ds),No.prototype.a=function(){return new this.f},No.prototype.b=function(){return{}};var Po,Ro="idToken",Mo=new Nr(3e4,6e4),Lo={"Content-Type":"application/x-www-form-urlencoded"},Fo=new Nr(3e4,6e4),Vo={"Content-Type":"application/json"};function Bo(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function jo(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Uo(t,e,n,r,i,s,a){(function(){var t=vr();return!((t=fr(t)!=mr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!_e||!ke||9<ke)})()||ur()?t=E(t.o,t):(Po||(Po=new $t(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{o[zo]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){vo(t,null,e,void 0)}(So(it(qo,{onload:zo})),function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=E(t.m,t)),t(e,n,r,i,s,a)}Oo.prototype.R=function(){return this.b},Oo.prototype.o=function(t,e,n,r,i,s){if(ur()&&(void 0===o.fetch||void 0===o.Headers||void 0===o.Request))throw new Zr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new to(this.f);if(s){a.g=Math.max(0,s);var l=setTimeout(function(){a.dispatchEvent("timeout")},s)}an(a,"complete",function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Ks(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),ln(a,"ready",function(){l&&clearTimeout(l),me(this)}),ln(a,"timeout",function(){l&&clearTimeout(l),me(this),e&&e(null)}),io(a,t,n,r,i)};var qo=new X(tt,"https://apis.google.com/js/client.js?onload=%{onload}"),zo="__fcb"+Math.floor(1e6*Math.random()).toString();function $o(t){if(!a(t=t.email)||!or.test(t))throw new Zr("invalid-email")}function Ho(t){"email"in t&&$o(t)}function Wo(t){if(!t[Ro])throw new Zr("internal-error")}function Ko(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Zr("internal-error")}else{if(!t.sessionInfo)throw new Zr("missing-verification-id");if(!t.code)throw new Zr("missing-verification-code")}}Oo.prototype.m=function(t,e,n,r,i){var s=this;Po.then(function(){window.gapi.client.setApiKey(s.c);var o=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(o),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Oo.prototype.ob=function(){return Aa(this,ba,{})},Oo.prototype.rb=function(t,e){return Aa(this,va,{idToken:t,email:e})},Oo.prototype.sb=function(t,e){return Aa(this,_a,{idToken:t,password:e})};var Go={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Qo(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Zr("internal-error")}function Yo(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Vn(t=new Rn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Xo(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=As(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=As(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=As(t)):t.errorMessage&&(e=Da(t.errorMessage)),e)throw e;if(!t[Ro])throw new Zr("internal-error")}function Zo(t,e){return e.returnIdpCredential=!0,Aa(t,wa,e)}function Jo(t,e){return e.returnIdpCredential=!0,Aa(t,Ca,e)}function ta(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Aa(t,Ea,e)}function ea(t){if(!t.oobCode)throw new Zr("invalid-action-code")}(t=Oo.prototype).tb=function(t,e){var n={idToken:t},r=[];return W(Go,function(t,i){var s=e[i];null===s?r.push(t):i in e&&(n[i]=s)}),r.length&&(n.deleteAttribute=r),Aa(this,va,n)},t.kb=function(t,e){return Y(t={requestType:"PASSWORD_RESET",email:t},e),Aa(this,pa,t)},t.lb=function(t,e){return Y(t={requestType:"EMAIL_SIGNIN",email:t},e),Aa(this,ha,t)},t.jb=function(t,e){return Y(t={requestType:"VERIFY_EMAIL",idToken:t},e),Aa(this,da,t)},t.Va=function(t){return Aa(this,Ta,t)},t.$a=function(t,e){return Aa(this,ga,{oobCode:t,newPassword:e})},t.Ka=function(t){return Aa(this,ra,{oobCode:t})},t.Xa=function(t){return Aa(this,na,{oobCode:t})};var na={endpoint:"setAccountInfo",D:ea,fa:"email",F:!0},ra={endpoint:"resetPassword",D:ea,K:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Zr("internal-error")},F:!0},ia={endpoint:"signupNewUser",D:function(t){if($o(t),!t.password)throw new Zr("weak-password")},K:Wo,T:!0,F:!0},sa={endpoint:"createAuthUri",F:!0},oa={endpoint:"deleteAccount",V:["idToken"]},aa={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(t){if(!m(t.deleteProvider))throw new Zr("internal-error")}},la={endpoint:"emailLinkSignin",V:["email","oobCode"],D:$o,K:Wo,T:!0,F:!0},ca={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:$o,K:Wo,T:!0},ua={endpoint:"getAccountInfo"},ha={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Zr("internal-error");$o(t)},fa:"email",F:!0},da={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Zr("internal-error")},fa:"email",F:!0},pa={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Zr("internal-error");$o(t)},fa:"email",F:!0},ma={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},fa={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(t){if(!t.recaptchaSiteKey)throw new Zr("internal-error")}},ga={endpoint:"resetPassword",D:ea,fa:"email",F:!0},ya={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},va={endpoint:"setAccountInfo",V:["idToken"],D:Ho,T:!0},_a={endpoint:"setAccountInfo",V:["idToken"],D:function(t){if(Ho(t),!t.password)throw new Zr("weak-password")},K:Wo,T:!0},ba={endpoint:"signupNewUser",K:Wo,T:!0,F:!0},wa={endpoint:"verifyAssertion",D:Qo,Qa:Yo,K:Xo,T:!0,F:!0},Ea={endpoint:"verifyAssertion",D:Qo,Qa:Yo,K:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Zr("user-not-found");if(t.errorMessage)throw Da(t.errorMessage);if(!t[Ro])throw new Zr("internal-error")},T:!0,F:!0},Ca={endpoint:"verifyAssertion",D:function(t){if(Qo(t),!t.idToken)throw new Zr("internal-error")},Qa:Yo,K:Xo,T:!0},xa={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Zr("invalid-custom-token")},K:Wo,T:!0,F:!0},Sa={endpoint:"verifyPassword",D:function(t){if($o(t),!t.password)throw new Zr("wrong-password")},K:Wo,T:!0,F:!0},Ta={endpoint:"verifyPhoneNumber",D:Ko,K:Wo,F:!0},Ia={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Zr("internal-error");Ko(t)},K:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",As(t);Wo(t)}},ka={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ko,K:Wo,F:!0};function Aa(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.V))return Zt(new Zr("internal-error"));var r,i=e.Kb||"POST";return Xt(n).then(e.D).then(function(){return e.T&&(n.returnSecureToken=!0),e.F&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,s){var o=xn(t.h+e);En(o,"key",t.c),s&&En(o,"cb",x().toString());var a="GET"==n;if(a)for(var l in r)r.hasOwnProperty(l)&&En(o,l,r[l]);return new $t(function(e,s){Uo(t,o.toString(),function(t){t?t.error?s(Na(t,i||{})):e(t):s(new Zr("network-request-failed"))},n,a?void 0:Gn(Tr(r)),t.a,t.i.get())})}(t,e.endpoint,i,n,e.Yb,e.wb||!1)}).then(function(t){return r=t,e.Qa?e.Qa(n,r):r}).then(e.K).then(function(){if(!e.fa)return r;if(!(e.fa in r))throw new Zr("internal-error");return r[e.fa]})}function Da(t){return Na({error:{errors:[{message:t}],code:400,message:t}})}function Na(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Zr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",Y(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Zr(r[i],e);return!e&&t&&(e=Sr(t)),new Zr("internal-error",e)}function Oa(t){this.b=t,this.a=null,this.fb=function(t){return(La||(La=new $t(function(t,e){function n(){Dr(),_r("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Dr(),e(Error("Network Error"))},timeout:Ra.get()})}if(_r("gapi.iframes.Iframe"))t();else if(_r("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();o[r]=function(){_r("gapi.load")?n():e(Error("Network Error"))},Xt(So(r=it(Pa,{onload:r}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw La=null,t}))).then(function(){return new $t(function(e,n){_r("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(s),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var s=setTimeout(function(){n(Error("Network Error"))},Ma.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var Pa=new X(tt,"https://apis.google.com/js/api.js?onload=%{onload}"),Ra=new Nr(3e4,6e4),Ma=new Nr(5e3,15e3),La=null;function Fa(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Sn(this.i,"/__/auth/iframe"),En(this.a,"apiKey",this.g),En(this.a,"appName",this.h),this.b=null,this.c=[]}function Va(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Ba(t){try{return z6.a.app(t).auth().Aa()}catch(e){return[]}}function ja(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Ua(t){var e=tr();return function(t){return Aa(t,ma,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=xn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var s=t[i],o=n,a=r;if(0==s.indexOf("chrome-extension://")?o=xn(s).b==o&&"chrome-extension"==a:"http"!=a&&"https"!=a?o=!1:sr.test(s)?o=o==s:(s=s.split(".").join("\\."),o=new RegExp("^(.+\\."+s+"|"+s+")$","i").test(o)),o){t=!0;break t}}t=!1}if(!t)throw new Is(tr())})}function qa(t){return t.l?t.l:(t.l=ar().then(function(){if(!t.o){var e=t.c,n=t.h,r=Ba(t.b),i=new Fa(t.u,t.f,t.b);i.f=e,i.b=n,i.c=H(r||[]),t.o=i.toString()}t.i=new Oa(t.o),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.fb.then(function(){t.a.register("authEvent",e,_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Cs(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Xt(n)}return n.status="ERROR",Xt(n)})}(t)}),t.l)}function za(t){return t.m||(t.v=t.c?yr(t.c,Ba(t.b)):null,t.m=new Oo(t.f,Di(t.h),t.v)),t.m}function $a(t,e,n,r,i,s,o,a,l,c,u){return(t=new Va(t,e,n,r,i)).l=s,t.g=o,t.i=a,t.b=G(l||null),t.f=c,t.nb(u).toString()}function Ha(t){if(this.a=t||z6.a.INTERNAL.reactNative&&z6.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Zr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Wa(t){this.b=t,this.a={},this.f=E(this.c,this)}Fa.prototype.toString=function(){return this.f?En(this.a,"v",this.f):Fn(this.a.a,"v"),this.b?En(this.a,"eid",this.b):Fn(this.a.a,"eid"),this.c.length?En(this.a,"fw",this.c.join(",")):Fn(this.a.a,"fw"),this.a.toString()},Va.prototype.nb=function(t){return this.h=t,this},Va.prototype.toString=function(){var t=Sn(this.o,"/__/auth/handler");if(En(t,"apiKey",this.m),En(t,"appName",this.c),En(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=z6.a.app(this.c).auth().ha()}catch(a){n=null}for(var r in e.ab=n,En(t,"providerId",this.a.providerId),n=Tr((e=this.a).zb))n[r]=n[r].toString();r=e.Fc,n=G(n);for(var i=0;i<r.length;i++){var s=r[i];s in n&&delete n[s]}e.cb&&e.ab&&!n[e.cb]&&(n[e.cb]=e.ab),K(n)||En(t,"customParameters",Sr(n))}if("function"==typeof this.a.Hb&&((e=this.a.Hb()).length&&En(t,"scopes",e.join(","))),this.l?En(t,"redirectUrl",this.l):Fn(t.a,"redirectUrl"),this.g?En(t,"eventId",this.g):Fn(t.a,"eventId"),this.i?En(t,"v",this.i):Fn(t.a,"v"),this.b)for(var o in this.b)this.b.hasOwnProperty(o)&&!Cn(t,o)&&En(t,o,this.b[o]);return this.h?En(t,"tid",this.h):Fn(t.a,"tid"),this.f?En(t,"eid",this.f):Fn(t.a,"eid"),(o=Ba(this.c)).length&&En(t,"fw",o.join(",")),t.toString()},(t=ja.prototype).Fb=function(t,e,n){var r=new Zr("popup-closed-by-user"),i=new Zr("web-storage-unsupported"),s=this,o=!1;return this.ia().then(function(){(function(t){var e={type:"webStorageSupport"};return qa(t).then(function(){return function(t,e){return t.fb.then(function(){return new $t(function(n){t.a.send(e.type,e,n,_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(s).then(function(n){n||(t&&rr(t),e(i),o=!0)})}).s(function(){}).then(function(){if(!o)return function(t){return new $t(function(e){return function n(){hn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!o)return hn(n).then(function(){e(r)})})},t.Ob=function(){var t=vr();return!xr(t)&&!Ar(t)},t.Jb=function(){return!1},t.Db=function(t,e,n,r,i,s,o,a){if(!t)return Zt(new Zr("popup-blocked"));if(o&&!xr())return this.ia().s(function(e){rr(t),i(e)}),r(),Xt();this.a||(this.a=Ua(za(this)));var l=this;return this.a.then(function(){var e=l.ia().s(function(e){throw rr(t),i(e),e});return r(),e}).then(function(){(ws(n),o)||er($a(l.u,l.f,l.b,e,n,null,s,l.c,void 0,l.h,a),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(l.a=null),t})},t.Eb=function(t,e,n,r){this.a||(this.a=Ua(za(this)));var i=this;return this.a.then(function(){ws(e),er($a(i.u,i.f,i.b,t,e,tr(),n,i.c,void 0,i.h,r))}).s(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ia=function(){var t=this;return qa(this).then(function(){return t.i.fb}).s(function(){throw t.a=null,new Zr("network-request-failed")})},t.Rb=function(){return!0},t.ya=function(t){this.g.push(t)},t.La=function(t){z(this.g,function(e){return e==t})},(t=Ha.prototype).get=function(t){return Xt(this.a.getItem(t)).then(function(t){return t&&Ir(t)})},t.set=function(t,e){return Xt(this.a.setItem(t,Sr(e)))},t.S=function(t){return Xt(this.a.removeItem(t))},t.$=function(){},t.ea=function(){};var Ka,Ga=[];function Qa(t,e,n){K(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Ya(t){this.a=t}function Xa(t){this.c=t,this.b=!1,this.a=[]}function Za(t,e,n,r){var i,s,o,a,l=n||{},c=null;if(t.b)return Zt(Error("connection_unavailable"));var u=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new $t(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),o=setTimeout(function(){r(Error("unsupported_event"))},u),c={messageChannel:h,onMessage:s=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(o),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(o),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",s),t.c.postMessage({eventType:e,eventId:i,data:l},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Ja(t,c),e}).s(function(e){throw Ja(t,c),e})}function Ja(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),z(t.a,function(t){return t==e})}}function tl(){if(!rl())throw new Zr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=o.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;ur()&&self?(this.l=function(){var t=ur()?self:null;if(V(Ga,function(n){n.b==t&&(e=n)}),!e){var e=new Wa(t);Ga.push(e)}return e}(),Qa(this.l,"keyChanged",function(e,n){return ll(t).then(function(e){return 0<e.length&&V(t.a,function(t){t(e)}),{keyProcessed:U(e,n.key)}})}),Qa(this.l,"ping",function(){return Xt(["keyChanged"])})):function(){var t=o.navigator;return t&&t.serviceWorker?Xt().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):Xt(null)}().then(function(e){(t.h=e)&&(t.g=new Xa(new Ya(e)),Za(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&U(e[0].value,"keyChanged")&&(t.o=!0)}).s(function(){}))})}function el(t){return new $t(function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new $t(function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return el(t)}).then(function(t){e(t)}).s(function(t){n(t)})}})}function nl(t){return t.m||(t.m=el(t)),t.m}function rl(){try{return!!o.indexedDB}catch(ye){return!1}}function il(t){return t.objectStore("firebaseLocalStorage")}function sl(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ol(t){return new $t(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function al(t,e){return t.g&&t.h&&function(){var t=o.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Za(t.g,"keyChanged",{key:e},t.o).then(function(){}).s(function(){}):Xt()}function ll(t){return nl(t).then(function(t){var e=il(sl(t,!1));return e.getAll?ol(e.getAll()):new $t(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function cl(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function ul(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Xt().then(function(){if(rl()){var t=kr(),r="__sak"+t;return Ka||(Ka=new tl),(n=Ka).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.S(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.$(function(t){V(e.a,function(e){e(t)})}),t})}function hl(){this.a={},this.type="inMemory"}function dl(){if(!function(){var t="Node"==hr();if(!(t=pl()||t&&z6.a.INTERNAL.node&&z6.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==hr())throw new Zr("internal-error","The LocalStorage compatibility library was not found.");throw new Zr("web-storage-unsupported")}this.a=pl()||z6.a.INTERNAL.node.localStorage,this.type="localStorage"}function pl(){try{var t=o.localStorage,e=kr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function ml(){this.type="nullStorage"}function fl(){if(!function(){var t="Node"==hr();if(!(t=gl()||t&&z6.a.INTERNAL.node&&z6.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==hr())throw new Zr("internal-error","The SessionStorage compatibility library was not found.");throw new Zr("web-storage-unsupported")}this.a=gl()||z6.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function gl(){try{var t=o.sessionStorage,e=kr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function yl(){var t={};t.Browser=bl,t.Node=wl,t.ReactNative=El,t.Worker=Cl,this.a=t[hr()]}Wa.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];V(r,function(e){i.push(Xt().then(function(){return e(t.origin,t.data.data)}))}),te(i).then(function(r){var i=[];V(r,function(t){i.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})}),V(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},Ya.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Xa.prototype.close=function(){for(;0<this.a.length;)Ja(this,this.a[0]);this.b=!0},(t=tl.prototype).set=function(t,e){var n,r=!1,i=this;return nl(this).then(function(e){return ol((e=il(sl(n=e,!0))).get(t))}).then(function(s){var o=il(sl(n,!0));return s?(s.value=e,ol(o.put(s))):(i.b++,r=!0,(s={}).fbase_key=t,s.value=e,ol(o.add(s)))}).then(function(){return i.c[t]=e,al(i,t)}).ka(function(){r&&i.b--})},t.get=function(t){return nl(this).then(function(e){return ol(il(sl(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.S=function(t){var e=!1,n=this;return nl(this).then(function(r){return e=!0,n.b++,ol(il(sl(r,!0)).delete(t))}).then(function(){return delete n.c[t],al(n,t)}).ka(function(){e&&n.b--})},t.$=function(t){0==this.a.length&&function(t){cl(t),function e(){t.f=setTimeout(function(){t.i=ll(t).then(function(e){0<e.length&&V(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ea=function(t){z(this.a,function(e){return e==t}),0==this.a.length&&cl(this)},(t=ul.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.S=function(t){return this.b.then(function(e){return e.S(t)})},t.$=function(t){this.a.push(t)},t.ea=function(t){z(this.a,function(e){return e==t})},(t=hl.prototype).get=function(t){return Xt(this.a[t])},t.set=function(t,e){return this.a[t]=e,Xt()},t.S=function(t){return delete this.a[t],Xt()},t.$=function(){},t.ea=function(){},(t=dl.prototype).get=function(t){var e=this;return Xt().then(function(){return Ir(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Xt().then(function(){var r=Sr(e);null===r?n.S(t):n.a.setItem(t,r)})},t.S=function(t){var e=this;return Xt().then(function(){e.a.removeItem(t)})},t.$=function(t){o.window&&Ke(o.window,"storage",t)},t.ea=function(t){o.window&&Ye(o.window,"storage",t)},(t=ml.prototype).get=function(){return Xt(null)},t.set=function(){return Xt()},t.S=function(){return Xt()},t.$=function(){},t.ea=function(){},(t=fl.prototype).get=function(t){var e=this;return Xt().then(function(){return Ir(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Xt().then(function(){var r=Sr(e);null===r?n.S(t):n.a.setItem(t,r)})},t.S=function(t){var e=this;return Xt().then(function(){e.a.removeItem(t)})},t.$=function(){},t.ea=function(){};var vl,_l,bl={C:dl,Sa:fl},wl={C:dl,Sa:fl},El={C:Ha,Sa:ml},Cl={C:dl,Sa:ml},xl={$c:"local",NONE:"none",bd:"session"};function Sl(){var t=!(Ar(vr())||!cr()),e=xr(),n=br();this.m=t,this.h=e,this.l=n,this.a={},vl||(vl=new yl),t=vl;try{this.g=!Jn()&&Rr()||!o.indexedDB?new t.a.C:new ul(ur()?new hl:new t.a.C)}catch(r){this.g=new hl,this.h=!0}try{this.i=new t.a.Sa}catch(r){this.i=new hl}this.u=new hl,this.f=E(this.Pb,this),this.b={}}function Tl(){return _l||(_l=new Sl),_l}function Il(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function kl(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Al(t,e,n){return n=kl(e,n),"local"==e.C&&(t.b[n]=null),Il(t,e.C).S(n)}function Dl(t){t.c&&(clearInterval(t.c),t.c=null)}function Nl(t){this.a=t,this.b=Tl()}(t=Sl.prototype).get=function(t,e){return Il(this,t.C).get(kl(t,e))},t.set=function(t,e,n){var r=kl(t,n),i=this,s=Il(this,t.C);return s.set(r,e).then(function(){return s.get(r)}).then(function(e){"local"==t.C&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=kl(t,e),this.l&&(this.b[t]=o.localStorage.getItem(t)),K(this.a)&&(Il(this,"local").$(this.f),this.h||(Jn()||!Rr())&&o.indexedDB||!this.l||function(t){Dl(t),t.c=setInterval(function(){for(var e in t.a){var n=o.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Le({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Pb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=kl(t,e),this.a[t]&&(z(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),K(this.a)&&(Il(this,"local").ea(this.f),Dl(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=o.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Za(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Il(this,"local").ea(this.f):Dl(this),this.m)if(n=o.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?o.localStorage.setItem(e,r):o.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var s=this;n=function(){void 0===t.a.a&&s.b[e]===o.localStorage.getItem(e)||(s.b[e]=o.localStorage.getItem(e),s.Za(e))},_e&&ke&&10==ke&&o.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else V(t,E(this.Za,this))},t.Za=function(t){this.a[t]&&V(this.a[t],function(t){t()})};var Ol,Pl={name:"authEvent",C:"local"};function Rl(){this.a=Tl()}function Ml(t,e){this.b=Ll,this.f=o.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=o.Int32Array?new Int32Array(64):Array(64),void 0!==Ol||(Ol=o.Int32Array?new Int32Array(zl):zl),this.reset()}S(Ml,function(){this.b=-1});for(var Ll=64,Fl=Ll-1,Vl=[],Bl=0;Bl<Fl;Bl++)Vl[Bl]=0;var jl=$(128,Vl);function Ul(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var s=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,o=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=s+o|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],l=0|t.a[3],c=0|t.a[4],u=0|t.a[5],h=0|t.a[6];for(s=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;o=(s=s+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((o=(o=c&u^~c&h)+(0|Ol[e])|0)+(0|n[e])|0)|0,s=h,h=u,u=c,c=l+o|0,l=a,a=i,i=r,r=o+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+l|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+u|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+s|0}function ql(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(a(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Ul(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var s=e[r++];if(!("number"==typeof s&&0<=s&&255>=s&&s==(0|s)))throw Error("message must be a byte array");t.f[i++]=s,i==t.b&&(Ul(t),i=0)}}t.c=i,t.g+=n}Ml.prototype.reset=function(){this.g=this.c=0,this.a=o.Int32Array?new Int32Array(this.h):H(this.h)};var zl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function $l(){Ml.call(this,8,Hl)}S($l,Ml);var Hl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Wl(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=i||null,this.h=e+":"+n,this.v=new Rl,this.g=new Nl(this.h),this.f=null,this.b=[],this.a=this.c=null}function Kl(t){return new Zr("invalid-cordova-configuration",t)}function Gl(t){var e=new $l;ql(e,t),t=[];var n=8*e.g;56>e.c?ql(e,jl,56-e.c):ql(e,jl,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Ul(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return B(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}function Ql(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Yl(t){return t.f||(t.f=t.ia().then(function(){return new $t(function(e){t.ya(function n(r){return e(r),t.La(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Xl(t).then(function(r){var i=n;if(r&&e&&e.url){var s=null;-1!=(i=$i(e.url)).indexOf("/__/auth/callback")&&(s=(s="object"==typeof(s=Ir(Cn(s=xn(i),"firebaseError")||null))?Jr(s):null)?new Es(r.c,r.b,null,null,s,null,r.R()):new Es(r.c,r.b,i,r.f,null,null,r.R())),i=s||n}Ql(t,i)})}var n=new Es("unknown",null,null,null,new Zr("no-auth-event")),r=!1,i=hn(500).then(function(){return Xl(t).then(function(){r||Ql(t,n)})}),s=o.handleOpenURL;o.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(_r("BuildInfo.packageName",o).toLowerCase()+"://")&&e({url:t}),"function"==typeof s)try{s(t)}catch(n){console.error(n)}},Ts||(Ts=new xs),function(t){var e=Ts;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=_r("universalLinks.subscribe",o))&&t(null,e.b))}(e)}(t)})})),t.f}function Xl(t){var e=null;return function(t){return t.b.get(Pl,t.a).then(function(t){return Cs(t)})}(t.g).then(function(n){return e=n,Al((n=t.g).b,Pl,n.a)}).then(function(){return e})}function Zl(t){this.a=t,this.b=Tl()}(t=Wl.prototype).ia=function(){return this.Ba?this.Ba:this.Ba=(lr(void 0)?ar().then(function(){return new $t(function(t,e){var n=o.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Zt(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof _r("universalLinks.subscribe",o))throw Kl("cordova-universal-links-plugin-fix is not installed");if(void 0===_r("BuildInfo.packageName",o))throw Kl("cordova-plugin-buildinfo is not installed");if("function"!=typeof _r("cordova.plugins.browsertab.openUrl",o))throw Kl("cordova-plugin-browsertab is not installed");if("function"!=typeof _r("cordova.InAppBrowser.open",o))throw Kl("cordova-plugin-inappbrowser is not installed")},function(){throw new Zr("cordova-not-ready")})},t.Fb=function(t,e){return e(new Zr("operation-not-supported-in-this-environment")),Xt()},t.Db=function(){return Zt(new Zr("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(t,e,n,r){if(this.c)return Zt(new Zr("redirect-operation-pending"));var i=this,s=o.document,a=null,l=null,c=null,u=null;return this.c=Xt().then(function(){return ws(e),Yl(i)}).then(function(){return function(t,e,n,r,i){var s=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Es(e,r,null,s,new Zr("no-auth-event"),null,i),l=_r("BuildInfo.packageName",o);if("string"!=typeof l)throw new Zr("invalid-cordova-configuration");var c=_r("BuildInfo.displayName",o),u={};if(vr().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=l;else{if(!vr().toLowerCase().match(/android/))return Zt(new Zr("operation-not-supported-in-this-environment"));u.apn=l}c&&(u.appDisplayName=c),s=Gl(s),u.sessionId=s;var h=$a(t.u,t.i,t.l,e,n,null,r,t.m,u,t.o,i);return t.ia().then(function(){var e=t.h;return t.v.a.set(Pl,a.A(),e)}).then(function(){var e=_r("cordova.plugins.browsertab.isAvailable",o);if("function"!=typeof e)throw new Zr("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=_r("cordova.plugins.browsertab.openUrl",o)))throw new Zr("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=_r("cordova.InAppBrowser.open",o)))throw new Zr("invalid-cordova-configuration");e=vr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new $t(function(t,e){l=function(){var e=_r("cordova.plugins.browsertab.close",o);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.ya(l),c=function(){a||(a=hn(2e3).then(function(){e(new Zr("redirect-cancelled-by-user"))}))},u=function(){Or()&&c()},s.addEventListener("resume",c,!1),vr().toLowerCase().match(/android/)||s.addEventListener("visibilitychange",u,!1)}).s(function(t){return Xl(i).then(function(){throw t})})}).ka(function(){c&&s.removeEventListener("resume",c,!1),u&&s.removeEventListener("visibilitychange",u,!1),a&&a.cancel(),l&&i.La(l),i.c=null})},t.ya=function(t){this.b.push(t),Yl(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Es("unknown",null,null,null,new Zr("no-auth-event")),t(e))})},t.La=function(t){z(this.b,function(e){return e==t})};var Jl={name:"pendingRedirect",C:"session"};function tc(t){return Al(t.b,Jl,t.a)}function ec(t,e,n){this.i={},this.v=0,this.B=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=E(this.o,this),this.b=new fc,this.w=new bc,this.g=new Zl(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=nc(this.B,this.u,this.m,ki)}function nc(t,e,n,r){var i=z6.a.SDK_VERSION||null;return lr()?new Wl(t,e,n,i,r):new ja(t,e,n,i,r)}function rc(t){t.f||(t.f=!0,t.a.ya(t.l));var e=t.a;return t.a.ia().s(function(n){throw t.a==e&&t.reset(),n})}function ic(t){t.a.Ob()&&rc(t).s(function(e){var n=new Es("unknown",null,null,null,new Zr("operation-not-supported-in-this-environment"));uc(e)&&t.o(n)}),t.a.Jb()||gc(t.b)}function sc(t,e){U(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Jl,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?tc(t.g).then(function(){rc(t).s(function(e){var n=new Es("unknown",null,null,null,new Zr("operation-not-supported-in-this-environment"));uc(e)&&t.o(n)})}):ic(t)}).s(function(){ic(t)})}function oc(t,e){z(t.h,function(t){return t==e})}ec.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=nc(this.B,this.u,this.m),this.i={}},ec.prototype.o=function(t){if(!t)throw new Zr("invalid-auth-event");if(6e5<=x()-this.v&&(this.i={},this.v=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.v=x())),e=!0;break}}return gc(this.b),e};var ac=new Nr(2e3,1e4),lc=new Nr(3e4,6e4);function cc(t,e,n,r,i,s,o){return t.a.Db(e,n,r,function(){t.f||(t.f=!0,t.a.ya(t.l))},function(){t.reset()},i,s,o)}function uc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function hc(t,e,n,r,i){var s;return function(t){return t.b.set(Jl,"pending",t.a)}(t.g).then(function(){return t.a.Eb(e,n,r,i).s(function(e){if(uc(e))throw new Zr("operation-not-supported-in-this-environment");return s=e,tc(t.g).then(function(){throw s})}).then(function(){return t.a.Rb()?new $t(function(){}):tc(t.g).then(function(){return t.oa()}).then(function(){}).s(function(){})})})}function dc(t,e,n,r,i){return t.a.Fb(r,function(t){e.ja(n,null,t,i)},ac.get())}ec.prototype.oa=function(){return this.b.oa()};var pc={};function mc(t,e,n){var r=e+":"+n;return pc[r]||(pc[r]=new ec(t,e,n)),pc[r]}function fc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function gc(t){t.g||(t.g=!0,_c(t,!1,null,null))}function yc(t){t.g&&!t.i&&_c(t,!1,null,null)}function vc(t,e){if(t.b=function(){return Xt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function _c(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Zt(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):vc(t,n):vc(t,{user:null}),t.f=[],t.c=[]}function bc(){}function wc(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(t){this.vb=t},enumerable:!1})}function Ec(t,e){this.a=e,Br(this,"verificationId",t)}function Cc(t,e,n,r){return new vs(t).Va(e,n).then(function(t){return new Ec(t,r)})}function xc(t){var e=Ii(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Zr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");jr(this,{token:t,expirationTime:Pr(1e3*e.exp),authTime:Pr(1e3*e.auth_time),issuedAtTime:Pr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function Sc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Tc(t){this.f=t,this.b=this.a=null,this.c=0}function Ic(t,e){var n=e[Ro],r=e.refreshToken;e=kc(e.expiresIn),t.b=n,t.c=e,t.a=r}function kc(t){return x()+1e3*parseInt(t,10)}function Ac(t,e){return function(t,e){return new $t(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Uo(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(Na(t)):t.access_token&&t.refresh_token?n(t):r(new Zr("internal-error")):r(new Zr("network-request-failed"))},"POST",Ln(e).toString(),t.g,t.u.get()):r(new Zr("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=kc(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function Dc(t,e){this.a=t||null,this.b=e||null,jr(this,{lastSignInTime:Pr(e||null),creationTime:Pr(t||null)})}function Nc(t,e,n,r,i,s){jr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:s||null,providerId:e})}function Oc(t,e){for(var n in Me.call(this,t),e)this[n]=e[n]}function Pc(t,e,n){this.I=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null,t=z6.a.SDK_VERSION?yr(z6.a.SDK_VERSION):null,this.a=new Oo(this.l,Di(ki),t),this.b=new Tc(this.a),jc(this,e[Ro]),Ic(this.b,e),Br(this,"refreshToken",this.b.a),zc(this,n||{}),on.call(this),this.J=!1,this.o&&wr()&&(this.i=mc(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(t){return new Sc(function(){return t.G(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-x()-3e5;return 0<e?e:0})}(this),this.W=E(this.Ha,this);var r=this;this.ga=null,this.va=function(t){r.sa(t.g)},this.Z=null,this.P=[],this.ua=function(t){Mc(r,t.c)},this.Y=null}function Rc(t,e){t.Z&&Ye(t.Z,"languageCodeChanged",t.va),(t.Z=e)&&Ke(e,"languageCodeChanged",t.va)}function Mc(t,e){t.P=e,jo(t.a,z6.a.SDK_VERSION?yr(z6.a.SDK_VERSION,t.P):null)}function Lc(t,e){t.Y&&Ye(t.Y,"frameworkChanged",t.ua),(t.Y=e)&&Ke(e,"frameworkChanged",t.ua)}function Fc(t){try{return z6.a.app(t.m).auth()}catch(e){throw new Zr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Vc(t){t.B||t.w.b||(t.w.start(),Ye(t,"tokenChanged",t.W),Ke(t,"tokenChanged",t.W))}function Bc(t){Ye(t,"tokenChanged",t.W),t.w.stop()}function jc(t,e){t.ma=e,Br(t,"_lat",e)}function Uc(t){for(var e=[],n=0;n<t.O.length;n++)e.push(t.O[n](t));return te(e).then(function(){return t})}function qc(t){t.i&&!t.J&&(t.J=!0,sc(t.i,t))}function zc(t,e){jr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Dc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function $c(){}function Hc(t){return Xt().then(function(){if(t.B)throw new Zr("app-deleted")})}function Wc(t){return B(t.providerData,function(t){return t.providerId})}function Kc(t,e){e&&(Gc(t,e.providerId),t.providerData.push(e))}function Gc(t,e){z(t.providerData,function(t){return t.providerId==e})}function Qc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Br(t,e,n)}function Yc(t,e){t!=e&&(jr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Br(t,"metadata",function(t){return new Dc(t.a,t.b)}(e.metadata)):Br(t,"metadata",new Dc),V(e.providerData,function(e){Kc(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Br(t,"refreshToken",t.b.a))}function Xc(t){return t.G().then(function(e){var n=t.isAnonymous;return function(t,e){return Aa(t.a,ua,{idToken:e}).then(E(t.zc,t))}(t,e).then(function(){return n||Qc(t,"isAnonymous",!1),e})})}function Zc(t,e){e[Ro]&&t.ma!=e[Ro]&&(Ic(t.b,e),t.dispatchEvent(new Oc("tokenChanged")),jc(t,e[Ro]),Qc(t,"refreshToken",t.b.a))}function Jc(t,e){return Xc(t).then(function(){if(U(Wc(t),e))return Uc(t).then(function(){throw new Zr("provider-already-linked")})})}function tu(t,e,n){return Ur({user:t,credential:bs(e),additionalUserInfo:e=Mi(e),operationType:n})}function eu(t,e){return Zc(t,e),t.reload().then(function(){return t})}function nu(t,e,n,r,i){if(!wr())return Zt(new Zr("operation-not-supported-in-this-environment"));if(t.h&&!i)return Zt(t.h);var s=Ri(n.providerId),o=kr(t.uid+":::"),a=null;(!xr()||cr())&&t.o&&n.isOAuthProvider&&(a=$a(t.o,t.l,t.m,e,n,null,o,z6.a.SDK_VERSION||null,null,null,t.tenantId));var l=ir(a,s&&s.Da,s&&s.Ca);return r=r().then(function(){if(iu(t),!i)return t.G().then(function(){})}).then(function(){return cc(t.i,l,e,n,o,!!a,t.tenantId)}).then(function(){return new $t(function(n,r){t.ja(e,null,new Zr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=o,t.c=dc(t.i,t,e,l,o)})}).then(function(t){return l&&rr(l),t?Ur(t):null}).s(function(t){throw l&&rr(l),t}),su(t,r,i)}function ru(t,e,n,r,i){if(!wr())return Zt(new Zr("operation-not-supported-in-this-environment"));if(t.h&&!i)return Zt(t.h);var s=null,o=kr(t.uid+":::");return r=r().then(function(){if(iu(t),!i)return t.G().then(function(){})}).then(function(){return t.ca=o,Uc(t)}).then(function(e){return t.da&&(e=(e=t.da).b.set(lu,t.A(),e.a)),e}).then(function(){return hc(t.i,e,n,o,t.tenantId)}).s(function(e){if(s=e,t.da)return cu(t.da);throw s}).then(function(){if(s)throw s}),su(t,r,i)}function iu(t){if(!t.i||!t.J){if(t.i&&!t.J)throw new Zr("internal-error");throw new Zr("auth-domain-config-required")}}function su(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Zt(t.h)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Oc("userInvalidated")),t.h=e),e})}(t,e,n);return t.I.push(r),r.ka(function(){q(t.I,r)}),r}function ou(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Ro]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-x())/1e3;var r=new Pc(e,n,t);return t.providerData&&V(t.providerData,function(t){t&&Kc(r,Ur(t))}),t.redirectEventId&&(r.ca=t.redirectEventId),r}function au(t){this.a=t,this.b=Tl()}fc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},fc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,s=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!s),"unknown"!=n||i||s?t.a?(_c(this,!0,null,t.a),Xt()):e.za(n,r)?function(t,e,n){n=n.za(e.c,e.b);var r=e.g,i=e.f,s=e.i,o=e.R(),a=!!e.c.match(/Redirect$/);n(r,i,o,s).then(function(e){_c(t,a,e,null)}).s(function(e){_c(t,a,null,e)})}(this,t,e):Zt(new Zr("invalid-auth-event")):(_c(this,!1,null,null),Xt())}else Zt(new Zr("invalid-auth-event"))},fc.prototype.oa=function(){var t=this;return new $t(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Zr("timeout");t.a&&t.a.cancel(),t.a=hn(lc.get()).then(function(){t.b||(t.g=!0,_c(t,!0,null,e))})}(t))})},bc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ja(t.c,null,t.a,t.b),Xt()):e.za(n,r)?function(t,e){var n=t.b,r=t.c;e.za(r,n)(t.g,t.f,t.R(),t.i).then(function(t){e.ja(r,t,null,n)}).s(function(t){e.ja(r,null,t,n)})}(t,e):Zt(new Zr("invalid-auth-event"))}else Zt(new Zr("invalid-auth-event"))},Ec.prototype.confirm=function(t){return t=_s(this.verificationId,t),this.a(t)},Sc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop();e.b=hn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return function(){var t=o.document,e=null;return Or()||!t?Xt():new $t(function(n){e=function(){Or()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},Sc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Tc.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Tc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Zt(new Zr("user-token-expired")):t||!this.b||x()>this.c-3e4?this.a?Ac(this,{grant_type:"refresh_token",refresh_token:this.a}):Xt(null):Xt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Dc.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(Oc,Me),S(Pc,on),Pc.prototype.sa=function(t){this.ga=t,Bo(this.a,t)},Pc.prototype.ha=function(){return this.ga},Pc.prototype.Aa=function(){return H(this.P)},Pc.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Br(Pc.prototype,"providerId","firebase"),(t=Pc.prototype).reload=function(){var t=this;return su(this,Hc(this).then(function(){return Xc(t).then(function(){return Uc(t)}).then($c)}))},t.dc=function(t){return this.G(t).then(function(t){return new xc(t)})},t.G=function(t){var e=this;return su(this,Hc(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new Zr("internal-error");return t.accessToken!=e.ma&&(jc(e,t.accessToken),e.dispatchEvent(new Oc("tokenChanged"))),Qc(e,"refreshToken",t.refreshToken),t.accessToken}))},t.zc=function(t){if(!(t=t.users)||!t.length)throw new Zr("internal-error");zc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?B(t,function(t){return new Nc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Kc(this,e[n]);Qc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.Ac=function(t){return Fr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(t)},t.gb=function(t){var e=this,n=null;return su(this,t.f(this.a,this.uid).then(function(t){return Zc(e,t),n=tu(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.rc=function(t){return Fr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(t)},t.eb=function(t){var e=this,n=null;return su(this,Jc(this,t.providerId).then(function(){return e.G()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=tu(e,t,"link"),eu(e,t)}).then(function(){return n}))},t.sc=function(t,e){var n=this;return su(this,Jc(this,"phone").then(function(){return Cc(Fc(n),t,e,E(n.eb,n))}))},t.Bc=function(t,e){var n=this;return su(this,Xt().then(function(){return Cc(Fc(n),t,e,E(n.gb,n))}),!0)},t.rb=function(t){var e=this;return su(this,this.G().then(function(n){return e.a.rb(n,t)}).then(function(t){return Zc(e,t),e.reload()}))},t.Sc=function(t){var e=this;return su(this,this.G().then(function(n){return t.b(e.a,n)}).then(function(t){return Zc(e,t),e.reload()}))},t.sb=function(t){var e=this;return su(this,this.G().then(function(n){return e.a.sb(n,t)}).then(function(t){return Zc(e,t),e.reload()}))},t.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Hc(this);var e=this;return su(this,this.G().then(function(n){return e.a.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Zc(e,t),Qc(e,"displayName",t.displayName||null),Qc(e,"photoURL",t.photoUrl||null),V(e.providerData,function(t){"password"===t.providerId&&(Br(t,"displayName",e.displayName),Br(t,"photoURL",e.photoURL))}),Uc(e)}).then($c))},t.Qc=function(t){var e=this;return su(this,Xc(this).then(function(n){return U(Wc(e),t)?function(t,e,n){return Aa(t,aa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return V(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),V(Wc(e),function(t){n[t]||Gc(e,t)}),n[vs.PROVIDER_ID]||Br(e,"phoneNumber",null),Uc(e)}):Uc(e).then(function(){throw new Zr("no-such-provider")})}))},t.delete=function(){var t=this;return su(this,this.G().then(function(e){return Aa(t.a,oa,{idToken:e})}).then(function(){t.dispatchEvent(new Oc("userDeleted"))})).then(function(){for(var e=0;e<t.I.length;e++)t.I[e].cancel("app-deleted");Rc(t,null),Lc(t,null),t.I=[],t.B=!0,Bc(t),Br(t,"refreshToken",null),t.i&&oc(t.i,t)})},t.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ca||null)==e||"reauthViaRedirect"==t&&(this.ca||null)==e)},t.ja=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Cb,this):"linkViaRedirect"==t&&(this.ca||null)==e?E(this.Bb,this):"reauthViaRedirect"==t&&(this.ca||null)==e?E(this.Cb,this):null},t.tc=function(t){var e=this;return nu(this,"linkViaPopup",t,function(){return Jc(e,t.providerId).then(function(){return Uc(e)})},!1)},t.Cc=function(t){return nu(this,"reauthViaPopup",t,function(){return Xt()},!0)},t.uc=function(t){var e=this;return ru(this,"linkViaRedirect",t,function(){return Jc(e,t.providerId)},!1)},t.Dc=function(t){return ru(this,"reauthViaRedirect",t,function(){return Xt()},!0)},t.Bb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var s=null;return su(this,this.G().then(function(n){return Jo(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return s=tu(i,t,"link"),eu(i,t)}).then(function(){return s}))},t.Cb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var s=null;return su(this,Xt().then(function(){return Wi(ta(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return s=tu(i,t,"reauthenticate"),Zc(i,t),i.h=null,i.reload()}).then(function(){return s}),!0)},t.jb=function(t){var e=this,n=null;return su(this,this.G().then(function(e){return n=e,void 0===t||K(t)?{}:wi(new hi(t))}).then(function(t){return e.a.jb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.A()},t.A=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&Y(t,this.metadata.A()),V(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var lu={name:"redirectUser",C:"session"};function cu(t){return Al(t.b,lu,t.a)}function uu(t){this.a=t,this.b=Tl(),this.c=null,this.f=function(t){var e=pu("local"),n=pu("session"),r=pu("none");return function(t,e,n){var r=kl(e,n),i=Il(t,e.C);return t.get(e,n).then(function(s){var a=null;try{a=Ir(o.localStorage.getItem(r))}catch(l){}if(a&&!s)return o.localStorage.removeItem(r),t.set(e,a,n);a&&s&&"localStorage"!=i.type&&o.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(du,t.a).then(function(t){return t?pu(t):e})})})}).then(function(e){return t.c=e,hu(t,e.C)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(pu("local"),this.a,E(this.g,this))}function hu(t,e){var n,r=[];for(n in xl)xl[n]!==e&&r.push(Al(t.b,pu(xl[n]),t.a));return r.push(Al(t.b,du,t.a)),function(t){return new $t(function(e,n){var r=t.length,i=[];if(r)for(var s=function(t,n){r--,i[t]=n,0==r&&e(i)},o=function(t){n(t)},a=0;a<t.length;a++)Jt(t[a],C(s,a),o);else e(i)})}(r)}uu.prototype.g=function(){var t=this,e=pu("local");yu(this,function(){return Xt().then(function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null}).then(function(n){if(n)return hu(t,"local").then(function(){t.c=e})})})};var du={name:"persistence",C:"session"};function pu(t){return{name:"authUser",C:t}}function mu(t,e){return yu(t,function(){return t.b.set(t.c,e.A(),t.a)})}function fu(t){return yu(t,function(){return Al(t.b,t.c,t.a)})}function gu(t,e){return yu(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),ou(t||{})})})}function yu(t,e){return t.f=t.f.then(e,e),t.f}function vu(t){if(this.l=!1,Br(this,"settings",new wc),Br(this,"app",t),!Tu(this).options||!Tu(this).options.apiKey)throw new Zr("invalid-api-key");t=z6.a.SDK_VERSION?yr(z6.a.SDK_VERSION):null,this.b=new Oo(Tu(this).options&&Tu(this).options.apiKey,Di(ki),t),this.O=[],this.m=[],this.J=[],this.Ub=z6.a.INTERNAL.createSubscribe(E(this.oc,this)),this.W=void 0,this.Vb=z6.a.INTERNAL.createSubscribe(E(this.pc,this)),xu(this,null),this.h=new uu(Tu(this).options.apiKey+":"+Tu(this).name),this.w=new au(Tu(this).options.apiKey+":"+Tu(this).name),this.Y=Du(this,function(t){var e=Tu(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(lu,t.a).then(function(t){return t&&e&&(t.authDomain=e),ou(t||{})})}(t.w,Tu(t).options.authDomain).then(function(e){return(t.B=e)&&(e.da=t.w),cu(t.w)});return Du(t,e)}(t).then(function(){return gu(t.h,e)}).then(function(e){return e?(e.da=t.w,t.B&&(t.B.ca||null)==(e.ca||null)?e:e.reload().then(function(){return mu(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:fu(t.h)})):null}).then(function(e){xu(t,e||null)});return Du(t,n)}(this)),this.i=Du(this,function(t){return t.Y.then(function(){return Eu(t)}).s(function(){}).then(function(){if(!t.l)return t.ma()}).s(function(){}).then(function(){if(!t.l){t.ga=!0;var e=t.h;e.b.addListener(pu("local"),e.a,t.ma)}})}(this)),this.ga=!1,this.ma=E(this.Nc,this),this.ub=E(this.aa,this),this.ua=E(this.bc,this),this.va=E(this.mc,this),this.Ha=E(this.nc,this),this.a=null,function(t){var e=Tu(t).options.authDomain,n=Tu(t).options.apiKey;e&&wr()&&(t.Tb=t.Y.then(function(){if(!t.l){if(t.a=mc(e,n,Tu(t).name),sc(t.a,t),Iu(t)&&qc(Iu(t)),t.B){qc(t.B);var r=t.B;r.sa(t.ha()),Rc(r,t),Mc(r=t.B,t.I),Lc(r,t),t.B=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.vc,this),this.o=0,on.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ha()},set:function(t){this.sa(t)},enumerable:!1}),t.Z=null,Object.defineProperty(t,"ti",{get:function(){return this.R()},set:function(t){this.nb(t)},enumerable:!1}),t.P=null}(this),this.I=[]}function _u(t){Me.call(this,"languageCodeChanged"),this.g=t}function bu(t){Me.call(this,"frameworkChanged"),this.c=t}function wu(t){return t.Tb||Zt(new Zr("auth-domain-config-required"))}function Eu(t){if(!wr())return Zt(new Zr("operation-not-supported-in-this-environment"));var e=wu(t).then(function(){return t.a.oa()}).then(function(t){return t?Ur(t):null});return Du(t,e)}function Cu(t,e){var n={};return n.apiKey=Tu(t).options.apiKey,n.authDomain=Tu(t).options.authDomain,n.appName=Tu(t).name,t.Y.then(function(){return function(t,e,n,r){var i=new Pc(t,e);return n&&(i.da=n),r&&Mc(i,r),i.reload().then(function(){return i})}(n,e,t.w,t.Aa())}).then(function(e){return Iu(t)&&e.uid==Iu(t).uid?(Yc(Iu(t),e),t.aa(e)):(xu(t,e),qc(e),t.aa(e))}).then(function(){Au(t)})}function xu(t,e){Iu(t)&&(function(t,e){z(t.O,function(t){return t==e})}(Iu(t),t.ub),Ye(Iu(t),"tokenChanged",t.ua),Ye(Iu(t),"userDeleted",t.va),Ye(Iu(t),"userInvalidated",t.Ha),Bc(Iu(t))),e&&(e.O.push(t.ub),Ke(e,"tokenChanged",t.ua),Ke(e,"userDeleted",t.va),Ke(e,"userInvalidated",t.Ha),0<t.o&&Vc(e)),Br(t,"currentUser",e),e&&(e.sa(t.ha()),Rc(e,t),Mc(e,t.I),Lc(e,t))}function Su(t,e){var n=null,r=null;return Du(t,e.then(function(e){return n=bs(e),r=Mi(e),Cu(t,e)}).then(function(){return Ur({user:Iu(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Tu(t){return t.app}function Iu(t){return t.currentUser}function ku(t){return Iu(t)&&Iu(t)._lat||null}function Au(t){if(t.ga){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](ku(t));if(t.W!==t.getUid()&&t.J.length)for(t.W=t.getUid(),e=0;e<t.J.length;e++)t.J[e]&&t.J[e](ku(t))}}function Du(t,e){return t.O.push(e),e.ka(function(){q(t.O,e)}),e}function Nu(){}function Ou(){this.a={},this.b=1e12}uu.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new Zr("invalid-persistence-type"),n=new Zr("unsupported-persistence-type");t:{for(r in xl)if(xl[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(hr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!br()&&"none"!==t)throw n}}(t),yu(this,function(){return t!=n.c.C?n.b.get(n.c,n.a).then(function(r){return e=r,hu(n,t)}).then(function(){if(n.c=pu(t),e)return n.b.set(n.c,e,n.a)}):Xt()})},S(vu,on),S(_u,Me),S(bu,Me),(t=vu.prototype).mb=function(t){return Du(this,t=this.h.mb(t))},t.sa=function(t){this.Z===t||this.l||(this.Z=t,Bo(this.b,this.Z),this.dispatchEvent(new _u(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var t=o.navigator;this.sa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.vc=function(t){this.I.push(t),jo(this.b,z6.a.SDK_VERSION?yr(z6.a.SDK_VERSION,this.I):null),this.dispatchEvent(new bu(this.I))},t.Aa=function(){return H(this.I)},t.nb=function(t){this.P===t||this.l||(this.P=t,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:Tu(this).options.apiKey,authDomain:Tu(this).options.authDomain,appName:Tu(this).name,currentUser:Iu(this)&&Iu(this).A()}},t.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ja=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.ac,this):null},t.ac=function(t,e,n,r){var i=this;t={requestUri:t,postBody:r,sessionId:e,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var s=null,o=null,a=Zo(i.b,t).then(function(t){return s=bs(t),o=Mi(t),t});return Du(this,t=i.Y.then(function(){return a}).then(function(t){return Cu(i,t)}).then(function(){return Ur({user:Iu(i),credential:s,additionalUserInfo:o,operationType:"signIn"})}))},t.Lc=function(t){if(!wr())return Zt(new Zr("operation-not-supported-in-this-environment"));var e=this,n=Ri(t.providerId),r=kr(),i=null;(!xr()||cr())&&Tu(this).options.authDomain&&t.isOAuthProvider&&(i=$a(Tu(this).options.authDomain,Tu(this).options.apiKey,Tu(this).name,"signInViaPopup",t,null,r,z6.a.SDK_VERSION||null,null,null,this.R()));var s=ir(i,n&&n.Da,n&&n.Ca);return Du(this,n=wu(this).then(function(n){return cc(n,s,"signInViaPopup",t,r,!!i,e.R())}).then(function(){return new $t(function(t,n){e.ja("signInViaPopup",null,new Zr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=dc(e.a,e,"signInViaPopup",s,r)})}).then(function(t){return s&&rr(s),t?Ur(t):null}).s(function(t){throw s&&rr(s),t}))},t.Mc=function(t){if(!wr())return Zt(new Zr("operation-not-supported-in-this-environment"));var e=this;return Du(this,wu(this).then(function(){return function(t){return yu(t,function(){return t.b.set(du,t.c.C,t.a)})}(e.h)}).then(function(){return hc(e.a,"signInViaRedirect",t,void 0,e.R())}))},t.oa=function(){var t=this;return Eu(this).then(function(e){return t.a&&yc(t.a.b),e}).s(function(e){throw t.a&&yc(t.a.b),e})},t.Rc=function(t){if(!t)return Zt(new Zr("null-user"));if(this.P!=t.tenantId)return Zt(new Zr("tenant-id-mismatch"));var e=this,n={};n.apiKey=Tu(this).options.apiKey,n.authDomain=Tu(this).options.authDomain,n.appName=Tu(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.o,appName:t.m};var i=t.b,s={};return s[Ro]=i.b,s.refreshToken=i.a,s.expiresIn=(i.c-x())/1e3,e=new Pc(e,s),n&&(e.da=n),r&&Mc(e,r),Yc(e,t),e}(t,n,e.w,e.Aa());return Du(this,this.i.then(function(){if(Tu(e).options.apiKey!=t.l)return r.reload()}).then(function(){return Iu(e)&&t.uid==Iu(e).uid?(Yc(Iu(e),t),e.aa(t)):(xu(e,r),qc(r),e.aa(r))}).then(function(){Au(e)}))},t.pb=function(){var t=this;return Du(this,this.i.then(function(){return t.a&&yc(t.a.b),Iu(t)?(xu(t,null),fu(t.h).then(function(){Au(t)})):Xt()}))},t.Nc=function(){var t=this;return gu(this.h,Tu(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=Iu(t)&&e){n=Iu(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Yc(Iu(t),e),Iu(t).G();(Iu(t)||e)&&(xu(t,e),e&&(qc(e),e.da=t.w),t.a&&sc(t.a,t),Au(t))}})},t.aa=function(t){return mu(this.h,t)},t.bc=function(){Au(this),this.aa(Iu(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Iu(e))})},t.pc=function(t){var e=this;!function(t,e){t.J.push(e),Du(t,t.i.then(function(){!t.l&&U(t.J,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(ku(t)))}))}(this,function(){t.next(Iu(e))})},t.xc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then(function(){g(t)?t(Iu(r)):g(t.next)&&t.next(Iu(r))}),this.Ub(t,e,n)},t.wc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then(function(){r.W=r.getUid(),g(t)?t(Iu(r)):g(t.next)&&t.next(Iu(r))}),this.Vb(t,e,n)},t.cc=function(t){var e=this;return Du(this,this.i.then(function(){return Iu(e)?Iu(e).G(t).then(function(t){return{accessToken:t}}):null}))},t.Hc=function(t){var e=this;return this.i.then(function(){return Su(e,Aa(e.b,xa,{token:t}))}).then(function(t){var n=t.user;return Qc(n,"isAnonymous",!1),e.aa(n),t})},t.Ic=function(t,e){var n=this;return this.i.then(function(){return Su(n,Aa(n.b,Sa,{email:t,password:e}))})},t.Xb=function(t,e){var n=this;return this.i.then(function(){return Su(n,Aa(n.b,ia,{email:t,password:e}))})},t.Ra=function(t){var e=this;return this.i.then(function(){return Su(e,t.na(e.b))})},t.Gc=function(t){return Fr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(t)},t.ob=function(){var t=this;return this.i.then(function(){var e=Iu(t);if(e&&e.isAnonymous){var n=Ur({providerId:null,isNewUser:!1});return Ur({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Su(t,t.b.ob()).then(function(e){var n=e.user;return Qc(n,"isAnonymous",!0),t.aa(n),e})})},t.getUid=function(){return Iu(this)&&Iu(this).uid||null},t.Wb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&Iu(this)&&Vc(Iu(this))},t.Ec=function(t){var e=this;V(this.m,function(n){n==t&&e.o--}),0>this.o&&(this.o=0),0==this.o&&Iu(this)&&Bc(Iu(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Du(this,this.i.then(function(){e.l||U(e.m,t)&&t(ku(e))}))},t.removeAuthTokenListener=function(t){z(this.m,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.O.length;t++)this.O[t].cancel("app-deleted");return this.O=[],this.h&&(t=this.h).b.removeListener(pu("local"),t.a,this.ma),this.a&&(oc(this.a,this),yc(this.a.b)),Promise.resolve()},t.$b=function(t){return Du(this,function(t,e){return Aa(t,sa,{identifier:e,continueUri:Er()?tr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.qc=function(t){return!!ms(t)},t.lb=function(t,e){var n=this;return Du(this,Xt().then(function(){var t=new hi(e);if(!t.c)throw new Zr("argument-error",mi+" must be true when sending sign in link to email");return wi(t)}).then(function(e){return n.b.lb(t,e)}).then(function(){}))},t.Uc=function(t){return this.Ka(t).then(function(t){return t.data.email})},t.$a=function(t,e){return Du(this,this.b.$a(t,e).then(function(){}))},t.Ka=function(t){return Du(this,this.b.Ka(t).then(function(t){return new zr(t)}))},t.Xa=function(t){return Du(this,this.b.Xa(t).then(function(){}))},t.kb=function(t,e){var n=this;return Du(this,Xt().then(function(){return void 0===e||K(e)?{}:wi(new hi(e))}).then(function(e){return n.b.kb(t,e)}).then(function(){}))},t.Kc=function(t,e){return Du(this,Cc(this,t,e,E(this.Ra,this)))},t.Jc=function(t,e){var n=this;return Du(this,Xt().then(function(){var r=e||tr(),i=ps(t,r);if(!(r=ms(r)))throw new Zr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Zr("tenant-id-mismatch");return n.Ra(i)}))},Nu.prototype.render=function(){},Nu.prototype.reset=function(){},Nu.prototype.getResponse=function(){},Nu.prototype.execute=function(){};var Pu=null;function Ru(t,e){return(e=Mu(e))&&t.a[e]||null}function Mu(t){return(t=void 0===t?1e12:t)?t.toString():null}function Lu(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=zn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ke(this.f,"click",this.i)}function Fu(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Vu(){}Ou.prototype.render=function(t,e){return this.a[this.b.toString()]=new Lu(t,e),this.b++},Ou.prototype.reset=function(t){var e=Ru(this,t);t=Mu(t),e&&t&&(e.delete(),delete this.a[t])},Ou.prototype.getResponse=function(t){return(t=Ru(this,t))?t.getResponse():null},Ou.prototype.execute=function(t){(t=Ru(this,t))&&t.execute()},Lu.prototype.getResponse=function(){return Fu(this),this.b},Lu.prototype.execute=function(){Fu(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},Lu.prototype.delete=function(){Fu(this),this.g=!0,clearTimeout(this.a),this.a=null,Ye(this.f,"click",this.i)},Vu.prototype.g=function(){return Pu||(Pu=new Ou),Xt(Pu)},Vu.prototype.c=function(){};var Bu=null;function ju(){this.b=o.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Uu=new X(tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),qu=new Nr(3e4,6e4);ju.prototype.g=function(t){var e=this;return new $t(function(n,r){var i=setTimeout(function(){r(new Zr("network-request-failed"))},qu.get());!o.grecaptcha||t!==e.f&&!e.b?(o[e.a]=function(){if(o.grecaptcha){e.f=t;var s=o.grecaptcha.render;o.grecaptcha.render=function(t,n){return t=s(t,n),e.b++,t},clearTimeout(i),n(o.grecaptcha)}else clearTimeout(i),r(new Zr("internal-error"));delete o[e.a]},Xt(So(it(Uu,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(i),r(new Zr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(o.grecaptcha))})},ju.prototype.c=function(){this.b--};var zu=null;function $u(t,e,n,r,i,s,a){if(Br(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=e,this.g=null,a?(Bu||(Bu=new Vu),a=Bu):(zu||(zu=new ju),a=zu),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ku])throw new Zr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Gu],!o.document)throw new Zr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!zn(e)||!this.i&&zn(e).hasChildNodes())throw new Zr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Oo(t,s||null,i||null),this.v=r||function(){return null};var l=this;this.l=[];var c=this.a[Hu];this.a[Hu]=function(t){if(Qu(l,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=_r(c,o);"function"==typeof e&&e(t)}};var u=this.a[Wu];this.a[Wu]=function(){if(Qu(l,null),"function"==typeof u)u();else if("string"==typeof u){var t=_r(u,o);"function"==typeof t&&t()}}}var Hu="callback",Wu="expired-callback",Ku="sitekey",Gu="size";function Qu(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Yu(t,e){return t.h.push(e),e.ka(function(){q(t.h,e)}),e}function Xu(t){if(t.B)throw new Zr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Zu(t,e,n){var r=!1;try{this.b=n||z6.a.app()}catch(o){throw new Zr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Zr("invalid-api-key");n=this.b.options.apiKey;var i=this,s=null;try{s=this.b.auth().Aa()}catch(o){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(o){}s=z6.a.SDK_VERSION?yr(z6.a.SDK_VERSION,s):null,$u.call(this,n,t,e,function(){try{var t=i.b.auth().ha()}catch(e){t=null}return t},s,Di(ki),r)}function Ju(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,s=!1,o=0;o<e.length;o++)if(e[o].optional)s=!0;else{if(s)throw new Zr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(s=e.length,n.length<i||s<n.length)r="Expected "+(i==s?1==i?"1 argument":i+" arguments":i+"-"+s+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(s=e[i].optional&&void 0===n[i],!e[i].N(n[i])&&!s){if(e=e[i],0>i||i>=th.length)throw new Zr("internal-error","Argument validator received an unsupported number of arguments.");n=th[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.M+".";break t}r=null}}if(r)throw new Zr("argument-error",t+" failed: "+r)}(t=$u.prototype).Ba=function(){var t=this;return this.f?this.f:this.f=Yu(this,Xt().then(function(){if(Er()&&!ur())return ar();throw new Zr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.v())}).then(function(e){return t.g=e,Aa(t.o,fa,{})}).then(function(e){t.a[Ku]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){Xu(this);var t=this;return Yu(this,this.Ba().then(function(){if(null===t.c){var e=t.u;if(!t.i){var n=zn(e);e=Wn("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Xu(this);var t=this;return Yu(this,this.render().then(function(e){return new $t(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){z(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Xu(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Xu(this),this.B=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=zn(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Zu,$u);var th="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function eh(t,e){return{name:t||"",M:"a valid string",optional:!!e,N:a}}function nh(t,e){return{name:t||"",M:"a boolean",optional:!!e,N:l}}function rh(t,e){return{name:t||"",M:"a valid object",optional:!!e,N:y}}function ih(t,e){return{name:t||"",M:"a function",optional:!!e,N:g}}function sh(t,e){return{name:t||"",M:"null",optional:!!e,N:p}}function oh(t){return{name:t?t+"Credential":"credential",M:t?"a valid "+t+" credential":"a valid credential",optional:!1,N:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.na||!n)}}}function ah(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(t){return!!(t&&a(t.type)&&g(t.verify))}}}function lh(t,e,n,r){return{name:n||"",M:t.M+" or "+e.M,optional:!!r,N:function(n){return t.N(n)||e.N(n)}}}function ch(t,e){for(var n in e){var r=e[n].name;t[r]=dh(r,t[n],e[n].j)}}function uh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:C(function(t){return this[t]},n),set:C(function(t,e,n,r){Ju(t,[n],[r],!0),this[e]=r},r,n,e[n].Ya),enumerable:!0})}}function hh(t,e,n,r){t[e]=dh(e,n,r)}function dh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Ju(s,n,t),e.apply(this,t)}if(!n)return e;var i,s=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}ch(vu.prototype,{Xa:{name:"applyActionCode",j:[eh("code")]},Ka:{name:"checkActionCode",j:[eh("code")]},$a:{name:"confirmPasswordReset",j:[eh("code"),eh("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[eh("email"),eh("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[eh("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[eh("emailLink")]},wc:{name:"onAuthStateChanged",j:[lh(rh(),ih(),"nextOrObserver"),ih("opt_error",!0),ih("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[lh(rh(),ih(),"nextOrObserver"),ih("opt_error",!0),ih("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[eh("email"),lh(rh("opt_actionCodeSettings",!0),sh(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[eh("email"),rh("actionCodeSettings")]},mb:{name:"setPersistence",j:[eh("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[oh()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[oh()]},Hc:{name:"signInWithCustomToken",j:[eh("token")]},Ic:{name:"signInWithEmailAndPassword",j:[eh("email"),eh("password")]},Jc:{name:"signInWithEmailLink",j:[eh("email"),eh("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[eh("phoneNumber"),ah()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[lh({name:"user",M:"an instance of Firebase User",optional:!1,N:function(t){return!!(t&&t instanceof Pc)}},sh(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[eh(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[eh("code")]}}),uh(vu.prototype,{lc:{name:"languageCode",Ya:lh(eh(),sh(),"languageCode")},ti:{name:"tenantId",Ya:lh(eh(),sh(),"tenantId")}}),vu.Persistence=xl,vu.Persistence.LOCAL="local",vu.Persistence.SESSION="session",vu.Persistence.NONE="none",ch(Pc.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[nh("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[nh("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[oh()]},eb:{name:"linkWithCredential",j:[oh()]},sc:{name:"linkWithPhoneNumber",j:[eh("phoneNumber"),ah()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[oh()]},gb:{name:"reauthenticateWithCredential",j:[oh()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[eh("phoneNumber"),ah()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[lh(rh("opt_actionCodeSettings",!0),sh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[eh(null,!0)]},Qc:{name:"unlink",j:[eh("provider")]},rb:{name:"updateEmail",j:[eh("email")]},sb:{name:"updatePassword",j:[eh("password")]},Sc:{name:"updatePhoneNumber",j:[oh("phone")]},tb:{name:"updateProfile",j:[rh("profile")]}}),ch(Ou.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ch(Nu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ch($t.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),uh(wc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:nh("appVerificationDisabledForTesting")}}),ch(Ec.prototype,{confirm:{name:"confirm",j:[eh("verificationCode")]}}),hh(Hi,"fromJSON",function(t){t=a(t)?JSON.parse(t):t;for(var e,n=[Zi,hs,gs,Qi],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[lh(eh(),rh(),"json")]),hh(ds,"credential",function(t,e){return new us(t,e)},[eh("email"),eh("password")]),ch(us.prototype,{A:{name:"toJSON",j:[eh(null,!0)]}}),ch(ns.prototype,{wa:{name:"addScope",j:[eh("scope")]},Ea:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),hh(ns,"credential",rs,[lh(eh(),rh(),"token")]),hh(ds,"credentialWithLink",ps,[eh("email"),eh("emailLink")]),ch(is.prototype,{wa:{name:"addScope",j:[eh("scope")]},Ea:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),hh(is,"credential",ss,[lh(eh(),rh(),"token")]),ch(os.prototype,{wa:{name:"addScope",j:[eh("scope")]},Ea:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),hh(os,"credential",as,[lh(eh(),lh(rh(),sh()),"idToken"),lh(eh(),sh(),"accessToken",!0)]),ch(ls.prototype,{Ea:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),hh(ls,"credential",cs,[lh(eh(),rh(),"token"),eh("secret",!0)]),ch(es.prototype,{wa:{name:"addScope",j:[eh("scope")]},credential:{name:"credential",j:[lh(eh(),lh(rh(),sh()),"optionsOrIdToken"),lh(eh(),sh(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),ch(Yi.prototype,{A:{name:"toJSON",j:[eh(null,!0)]}}),ch(Ki.prototype,{A:{name:"toJSON",j:[eh(null,!0)]}}),hh(vs,"credential",_s,[eh("verificationId"),eh("verificationCode")]),ch(vs.prototype,{Va:{name:"verifyPhoneNumber",j:[eh("phoneNumber"),ah()]}}),ch(fs.prototype,{A:{name:"toJSON",j:[eh(null,!0)]}}),ch(Zr.prototype,{toJSON:{name:"toJSON",j:[eh(null,!0)]}}),ch(ks.prototype,{toJSON:{name:"toJSON",j:[eh(null,!0)]}}),ch(Is.prototype,{toJSON:{name:"toJSON",j:[eh(null,!0)]}}),ch(Zu.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),hh(ni,"parseLink",ui,[eh("link")]),function(){if(void 0===z6.a||!z6.a.INTERNAL||!z6.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$r,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:vu,AuthCredential:Hi,Error:Zr};hh(t,"EmailAuthProvider",ds,[]),hh(t,"FacebookAuthProvider",ns,[]),hh(t,"GithubAuthProvider",is,[]),hh(t,"GoogleAuthProvider",os,[]),hh(t,"TwitterAuthProvider",ls,[]),hh(t,"OAuthProvider",es,[eh("providerId")]),hh(t,"SAMLAuthProvider",ts,[eh("providerId")]),hh(t,"PhoneAuthProvider",vs,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(t){return!!(t&&t instanceof vu)}}]),hh(t,"RecaptchaVerifier",Zu,[lh(eh(),{name:"",M:"an HTML element",optional:!1,N:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),rh("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(t){return!!(t&&t instanceof z6.a.app.App)}}]),hh(t,"ActionCodeURL",ni,[]),z6.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:E((t=new vu(t)).getUid,t),getToken:E(t.cc,t),addAuthTokenListener:E(t.Wb,t),removeAuthTokenListener:E(t.Ec,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(n){}}),z6.a.INTERNAL.extendNamespace({User:Pc})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let $6=class{};$6=function(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([oy({providers:[hH]})],$6);var H6;n("6Joi");let W6=H6=class{static enablePersistence(t){return{ngModule:H6,providers:[{provide:CH,useValue:!0},{provide:xH,useValue:t}]}}};W6=H6=function(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}([oy({providers:[DH]})],W6);let K6=class{};K6=r.__decorate([Xg({selector:"app-root",template:r.__importDefault(n("VzVu")).default,styles:[r.__importDefault(n("ynWL")).default]})],K6);let G6=class{constructor(t,e,n){this.authService=t,this.afAuth=e,this.router=n,this.value="",this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}getSearchPara(t){this.value=t,this.router.navigate(["/search",t])}ngOnInit(){}};G6.ctorParameters=()=>[{type:WG},{type:hH},{type:g$}],G6=r.__decorate([Xg({selector:"app-header",template:r.__importDefault(n("bPfH")).default,styles:[r.__importDefault(n("w3dm")).default]})],G6);let Q6=class{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}};Q6.ctorParameters=()=>[{type:RB}],Q6=r.__decorate([Zg({name:"safeResourceUrl"})],Q6);const Y6=!0,X6={apiKey:"AIzaSyCBmBF7WemiaGz9FBhLcIzBauciZbYx2JE",authDomain:"anilab-6be14.firebaseapp.com",databaseURL:"https://anilab-6be14.firebaseio.com",projectId:"anilab-6be14",storageBucket:"anilab-6be14.appspot.com",messagingSenderId:"257358841663",appId:"1:257358841663:web:8021c3b0b50462df60f58a"};let Z6=class{constructor(){}ngOnInit(){}};Z6=r.__decorate([Xg({selector:"app-footer",template:r.__importDefault(n("jGP6")).default,styles:[r.__importDefault(n("f2YT")).default]})],Z6);let J6=class{};J6=r.__decorate([oy({declarations:[K6,z$,$$,H$,W$,v1,w1,G6,C1,Q6,T1,_1,I1,E1,Z6],imports:[A1,nU,HB,A1,U5,g1,y1,S8,lH.initializeApp(X6),$6,W6,VG,HG],entryComponents:[_1,E1],providers:[WG,b1],bootstrap:[K6]})],J6),Y6&&function(){if(ys)throw new Error("Cannot enable prod mode after platform setup.");gs=!1}(),cj().bootstrapModule(J6).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(3&s)<<4|a>>4,d=(15&a)<<2|c>>6,p=63&c;l||(p=64,o||(d=64)),r.push(n[u],n[h],n[d],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,l=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==l)throw Error();var c=s<<2|o>>4;if(r.push(c),64!==a){var u=o<<4&240|a>>2;if(r.push(u),64!==l){var h=a<<6&192|l;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",m=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,f.prototype.create),i}return r.__extends(e,t),e}(Error),f=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?g(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",l=new m(i,a),c=0,u=Object.keys(r);c<u.length;c++){var h=u[c];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=r[h])}return l},t}();function g(t,e){return t.replace(y,function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"})}var y=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var _=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=v(c(s[0])||""),n=v(c(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:r,signature:i}};var b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var s,o,a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],u=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(s=u^l&(c^u),o=1518500249):(s=l^c^u,o=1859775393):r<60?(s=l&c|u&(l|c),o=2400959708):(s=l^c^u,o=3395469782);i=(a<<5|a>>>27)+s+h+o+n[r]&4294967295;h=u,u=c,c=4294967295&(l<<30|l>>>2),l=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=f,e.FirebaseError=m,e.Sha1=b,e.assert=s,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=l,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return l.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=_,e.deepCopy=function(t){return u(void 0,t)},e.deepExtend=u,e.errorPrefix=C,e.getUA=d,e.isAdmin=function(t){var e=_(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=_(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=_(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=_(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var s=i[r];n(s[0],s[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;s(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);